<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>304UC22: Přiřadit nádobu na stanoviště</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je přiřazení nádoby ke stanovišti (od určitého data). Současně dochází k případnému ukončení kolizního a odebrání navazujících přiřazení této nádoby ke stanovištím.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="#" data-page-title="Přehled aktérů"></a>.</p><h1>Spuštění případů užití</h1><p>Uživatel zadá požadavek na přiřazení nádoby na stanoviště, a to jedním z uvedených způsobů:</p><ul><li>Uživatel zadá požadavek na pasportizaci nádoby v jejich přehledu, kdy při stažení této nádoby požaduje její současné přiřazení na skald (viz <a href="#" data-page-title="400UC06: Zobrazit přehled nádob"></a>).</li><li>Uživatel zadá požadavek na hromadnou pasportizaci nádob v jejich přehledu, kdy při stažení těchto nádob požaduje jejich současné přiřazení na skald (viz <a href="#" data-page-title="400UC06: Zobrazit přehled nádob"></a>).</li></ul><h2>Vstupní podmínky</h2><ul><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="302UC08: Stáhnout nádobu ze stanoviště"></a>.</li><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="304UC01: Založit přiřazení nádoby ke stanovišti"></a>.</li></ul><h2>Vstupní data</h2><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Datum přiřazení</td><td colspan="1">Datum a čas</td><td colspan="1">Ne</td><td colspan="1">Datum, ke kterému je provedeno přiřazení nádoby na stanoviště.</td><td colspan="1"><p>Pokud není hodnota získána, je nastaveno dnešní datum.</p><p>Hodnota by měla být předána s nastaveným časem na 0:00:00 (platí pro webovou část aplikace).</p></td></tr><tr><td colspan="1">Nádoba</td><td colspan="1"><a href="../../../datove-modely/datovy-88033012.html">Nádoba</a></td><td colspan="1">Ano</td><td colspan="1">Nádoba, která má být přistavena na stanoviště.</td><td colspan="1">Na vstupu je získána instance této entity, případně její identifikace.</td></tr><tr><td colspan="1">Stanoviště</td><td colspan="1"><a href="../../../datove-modely/datovy-88033012.html">Stanoviště</a></td><td colspan="1">Ano</td><td colspan="1">Stanoviště, na které má být nádoba přistavena.</td><td colspan="1">Na vstupu je získána instance této entity, případně její identifikace.</td></tr><tr><td colspan="1">Zdroj změny</td><td colspan="1"><a href="../../../datove-modely/datovy-88033012.html">Zdroj změny</a></td><td colspan="1">Ano</td><td colspan="1">Zařízení, ve kterém bylo provedeno založení záznamu.</td><td colspan="1">–</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Systém vyhodnotí, zda existuje pro zadané vstupní parametry kolizní <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a> – hledá záznam, který splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Nádoba</strong> odpovídá <a href="../../../datove-modely/datovy-88033012.html">Nádobě</a> získané na vstupu (vstupní parametr <strong>Nádoba</strong>).</li><li>Hodnota atributu <strong>Datum přistavení</strong> je menší nebo rovna datu přiřazení získanému na vstupu (vstupní parametr <strong>Datum přiřazení</strong>).</li><li>Hodnota atributu <strong>Datum stažení</strong> je větší než nebo rovna datum přiřazení získanému na vstupu (vstupní parametr <strong>Datum přiřazení</strong>).<br><ul><li>Pokud není hodnota atributu <strong>Datum stažení</strong> k dispozici, není podmínka vyhodnocována.</li></ul></li></ul></li><li>Pokud existuje kolizní <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a> (viz krok 1):<br><ol><li>Systém provede stažení v rámci kolizního <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a> – spustí <a href="#" data-page-title="302UC08: Stáhnout nádobu ze stanoviště"></a>, na vstup jsou předány následující informace:<br><ul><li><strong>Datum stažení</strong>: hodnota vstupního parametru <strong>Datum přiřazení</strong>, od kterého je odečten <strong>1 den</strong> (čas nastaven na <strong>23:59:59</strong> – tedy konec předchozího dne)</li><li><strong>Přiřazení nádoby ke stanovišti</strong>: získané <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a> (viz krok 1).</li><li><strong>Zdroj změny</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-88033012.html">Zdroj změny</a> (vstupní parametr <strong>Zdroj změny</strong>).</li></ul></li></ol></li><li>Systém vyhodnotí, zda existují pro zadané vstupní parametry navazující <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovištím</a> – hledá záznamy, který splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Nádoba</strong> odpovídá <a href="../../../datove-modely/datovy-88033012.html">Nádobě</a> získané na vstupu (vstupní parametr <strong>Nádoba</strong>).</li><li>Hodnota atributu <strong>Datum přistavení</strong> je větší než datum přiřazení získanému na vstupu (vstupní parametr <strong>Datum přiřazení</strong>).<br></li></ul></li><li>Pokud existuje alespoň jedno navazující <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a> (viz krok 3):<br><ol><li>Pro všechna nalezená navazující <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovištím</a> (viz krok 3):<br><ol><li>Systém provede odebrání navazujících <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovištím</a> – spustí <a href="#" data-page-title="304UC03: Odebrat přiřazení nádoby ke stanovišti"></a>, na vstup jsou předány následující informace:<br><ul><li><strong>Odebírané přiřazení nádoby ke stanovišti</strong>: právě zkoumané <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a>.</li><li><strong>Zdroj změny</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-88033012.html">Zdroj změny</a> (vstupní parametr <strong>Zdroj změny</strong>).</li></ul></li></ol></li></ol></li><li>Systém založí nové <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a> – spustí <a href="#" data-page-title="304UC01: Založit přiřazení nádoby ke stanovišti"></a>, na vstup jsou předány následující informace: <br><ol><li><strong>Zakládané přiřazení nádoby ke stanovišti</strong>: předány hodnoty nesystémových atributů entity <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a>. <br><ul><li><strong>Externí identifikátor</strong>: není předána žádná hodnota (NULL).</li><li><strong>Nádoba</strong>: na vstupu získaná <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> (vstupní parametr <strong>Nádoba</strong>).<br></li><li><strong>Stanoviště</strong>: na vstupu získané <a href="../../../datove-modely/datovy-88033012.html">Stanoviště</a> (vstupní parametr <strong>Stanoviště</strong>).<br></li><li><strong>Datum přistavení</strong>: hodnota vstupního parametru <strong>Datum přiřazení</strong> (čas nastaven na <strong>0:00:00</strong>).</li><li><strong>Datum stažení</strong>: není nastavena žádná hodnota (NULL; jedná se tedy o neomezené období). </li><li><strong>Poznámka</strong>: není předána žádná hodnota (NULL).</li></ul></li><li><strong>Zdroj změny</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-88033012.html">Zdroj změny</a> (vstupní parametr <strong>Zdroj změny</strong>).<br></li></ol></li><li>Systém nastaví hodnotu výstupního parametru <strong>Záznam o modifikaci instance</strong>: hodnota výstupního parametru <strong>Záznam o modifikaci instance</strong> v rámci volaného <a href="#" data-page-title="304UC01: Založit přiřazení nádoby ke stanovišti"></a> (viz krok 5).</li></ol><p>Poznámka: Uvedené chování probíhá v transakci, buď jsou tedy provedeny všechny potřebné kroky, nebo žádný z nich.</p><h1>Alternativní toky událostí</h1><h2>AF01: Datum přiřazení není k dispozici</h2><h3>Vstupní podmínky</h3><ul><li>Hodnota vstupního parametru <strong>Datum přiřazení</strong> není k dispozici (NULL).</li></ul><h3>Tok událostí</h3><ol><li>Alternativní tok událostí začíná krokem <strong>1</strong> základního toku událostí.</li><li>Systém nastaví hodnotu vstupního parametru <strong>Datum přiřazení</strong> na dnešní datum (čas nastaven na 0<strong>:00:00</strong>).</li></ol><h3>Výstupní podmínky</h3><ul><li>Bylo nastaveno výchozí datum přiřazení, které je v rámci UC dále používáno.</li></ul><h1>Výjimkové toky událostí</h1><h2>EF01: Stažení nádoby ze stanoviště skončilo chybou</h2><h3>Vstupní podmínky</h3><ul><li>Volání <a href="#" data-page-title="302UC08: Stáhnout nádobu ze stanoviště"></a> skončilo chybou.</li></ul><h3>Tok událostí</h3><ol><li>Výjimkový tok událostí začíná krokem <strong>2.a</strong> základního toku událostí.</li><li>Systém předá na výstupu UC chybové hlášení – nastaví hodnotu výstupního parametru <strong>Chybové hlášení</strong> dle <a href="#" data-page-title="302UC08: Stáhnout nádobu ze stanoviště"></a> (výstupní parametr <strong>Chybové hlášení</strong>).</li><li>Případ užití končí.<br></li></ol><h3>Výstupní podmínky</h3><ul><li>Nedošlo k přiřazení <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a> na <a href="../../../datove-modely/datovy-88033012.html">Stanoviště</a>, nebyly provedeny ani žádné související akce.</li></ul><h2>EF02: Přistavení nádoby na stanoviště skončilo chybou</h2><h3>Vstupní podmínky</h3><ul><li>Volání <a href="#" data-page-title="304UC01: Založit přiřazení nádoby ke stanovišti"></a> skončilo chybou.</li></ul><h3>Tok událostí</h3><ol><li>Výjimkový tok událostí začíná krokem <strong>3</strong> základního toku událostí.</li><li>Systém předá na výstupu UC chybové hlášení – nastaví hodnotu výstupního parametru <strong>Chybové hlášení</strong> dle <a href="#" data-page-title="304UC01: Založit přiřazení nádoby ke stanovišti"></a> (výstupní parametr <strong>Chybové hlášení</strong>).</li><li>Případ užití končí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Nedošlo k přiřazení <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a> na <a href="../../../datove-modely/datovy-88033012.html">Stanoviště</a>, nebyly provedeny ani žádné související akce.</li></ul><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Na vstupu získaná <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> byla přiřazena na odpovídající <a href="../../../datove-modely/datovy-88033012.html">Stanoviště</a> (od zadaného data). Pokud to bylo potřeba, došlo u končení platnosti kolizního <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a>. Provedené změny byly uloženy do databáze.</p><h2>Výstupní data</h2><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Záznam o modifikaci instance</td><td colspan="1"><a href="../../../datove-modely/datovy-88033012.html">Záznam o modifikaci instance</a></td><td colspan="1">Ano</td><td colspan="1">Záznam o skutečnosti, že proběhlo založení <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a>.</td><td colspan="1">–</td></tr><tr><td colspan="1">Chybové hlášení</td><td colspan="1">–</td><td colspan="1">Ne</td><td colspan="1">V podstatě se jedná o kód chyby, kvůli které nemohl být dokončen UC.</td><td colspan="1"><p>Informace je předána pouze v případě, kdy nebyly splněny výstupní podmínky tohoto UC.</p></td></tr></tbody></table><h1>Algoritmy</h1><p>–</p><h1>Validace</h1><p>–</p><h1>Uživatelské rozhraní</h1><p>–</p><h1>Grafický návrh</h1><p>–</p><h1>Revize</h1><h2>19. 4. 2024: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny</div></div></th></tr><tr><td colspan="1"><a href="304uc22-115214236.html">Základní tok událostí</a></td><td colspan="1">Revize způsobu vyhodnocení platnosti (naznačeno modře).</td></tr></tbody></table>
</div>
</body>
</html>
