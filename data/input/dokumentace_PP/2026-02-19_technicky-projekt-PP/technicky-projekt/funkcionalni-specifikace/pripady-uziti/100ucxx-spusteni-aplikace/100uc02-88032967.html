<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>100UC02: Přihlásit uživatele</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je přihlášení uživatele do aplikace.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr><tr><td colspan="1">Systém FLWW2</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="#" data-page-title="Přehled aktérů"></a>.</p><h1>Spuštění případů užití</h1><p>Uživatel zadá požadavek na přihlášení do aplikace, a to jedním z uvedených způsobů:</p><ul><li>Uživatel spustí aplikaci (viz <a href="#" data-page-title="100UC01: Spustit aplikaci">100UC01: Spustit aplikaci</a>).</li></ul><h2>Vstupní podmínky</h2><p>Ke spuštění případu užití jsou nutná následující oprávnění na aplikaci (viz <a href="../../../uzivatelska-88033399.html">Uživatelská oprávnění a role</a>):</p><ul><li>Fleetware Pasport.</li></ul><h2>Vstupní data</h2><ul><li>Informace o přihlášení uživatele – token (nepovinné).</li></ul><h1>Základní tok událostí</h1><ol><li>Systém zobrazí formulář pro přihlášení uživatele (viz <a href="100uc02-88032967.html">Uživatelské rozhraní</a>).</li><li>Uživatel vyplní přihlašovací údaje.</li><li>Uživatel zadá požadavek na přihlášení.</li><li>Systém provede validaci vyplněných údajů (viz <a href="100uc02-88032967.html">VAL01: Kontrola vstupních dat</a>).</li><li>Systém provede kontrolu platnosti vyplněných údajů (viz <a href="100uc02-88032967.html">ALG01: Ověření platnosti přístupových údajů</a>).</li><li>Systém provede přihlášení uživatele a předání výstupních dat.</li></ol><p>Poznámka: V rámci kroku 1 dojde k předvyplnění přihlašovacích údajů, se kterými proběhlo poslední úspěšné přihlášení do dané instance aplikace Fleetware Pasport. Dále dochází k zapamatování naposledy zvolené jazykové mutace aplikace. Tato funkčnost je v kompetenci webového prohlížeče.</p><h1>Alternativní toky události</h1><h2>AF01: Uživatel je již přihlášen</h2><h3>Vstupní podmínky</h3><ul><li>Na vstupu byly získány přihlašovací údaje (token).</li></ul><h3>Tok událostí</h3><ol><li>Alternativní tok událostí začíná krokem 1 základního toku událostí.</li><li>Systém pokračuje krokem 4 základního toku událostí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Na výstupu UC není předána jazyková mutace.</li></ul><h2>AF02: Uživatel změní jazykovou mutaci</h2><h3>Vstupní podmínky</h3><p>–</p><h3>Tok událostí</h3><ol><li>Alternativní tok událostí začíná krokem 2 základního toku událostí.</li><li>Uživatel zadá požadavek na změnu jazykové mutace.</li><li>Systém zobrazí nabídku dostupných jazykových mutací.</li><li>Uživatel zvolí požadovanou jazykovou mutaci.</li><li>Systém zobrazí formulář pro přihlášení uživatele ve zvolené jazykové mutaci (pokud již byly zadány přihlašovací údaje, jsou zachovány i po změně jazykové mutace).</li><li>Systém pokračuje krokem 2 základního toku událostí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Na výstupu UC je předána jazyková mutace.</li></ul><h2>AF03: Neplatné přihlašovací údaje</h2><h3>Vstupní podmínky</h3><ul><li>Systém FLWW2 vrátil informaci, že přihlašovací údaje nejsou validní.</li></ul><h3>Tok událostí</h3><ol><li>Alternativní tok událostí začíná krokem 5 základního toku událostí.</li><li>Systém zobrazí chybové hlášení s informací, že přihlašovací údaje nejsou validní (MSG_ERR_BAD_AUTHENTICATION_DATA, viz <a href="../../../systemova-88033342.html">Systémová hlášení</a>).</li><li>Systém pokračuje krokem 2 základního toku událostí.</li></ol><p>Poznámka: Chybové hlášení je zobrazeno v rámci formuláře přihlášení, viz <a href="100uc02-88032967.html">Uživatelské rozhraní</a>.</p><h3>Výstupní podmínky</h3><ul><li>Uživatel nebyl přihlášen do aplikace</li></ul><h2>AF04: Uživatelský účet byl zablokován</h2><h3>Vstupní podmínky</h3><ul><li>Systém FLWW2 vrátil informaci, že byl zadaný uživatelský účet zablokován.</li></ul><h3>Tok událostí</h3><ol><li>Alternativní tok událostí začíná krokem 5 základního toku událostí.</li><li>Systém zobrazí chybové hlášení s informací, že byl uživatelský účet zablokován (MSG_ERR_USER_ACCOUNT_BLOCKED, viz <a href="../../../systemova-88033342.html">Systémová hlášení</a>).</li><li>Systém pokračuje krokem 2 základního toku událostí.</li></ol><p>Poznámka: Chybové hlášení je zobrazeno v rámci formuláře přihlášení, viz  <a href="100uc02-88032967.html">Uživatelské rozhraní</a>.</p><h3>Výstupní podmínky</h3><ul><li>Uživatel nebyl přihlášen do aplikace</li></ul><h1>Výjimkové toky událostí</h1><p>–</p><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Uživatel byl přihlášen do aplikace a může používat funkčnosti, na které má oprávnění.</p><h2>Výstupní data</h2><ul><li>Jazyková mutace (nepovinné).</li></ul><p>Poznámka: Hodnota je předána pouze v případě, kdy dojde ke změně jazykové mutace, viz <a href="100uc02-88032967.html">AF02: Uživatel změní jazykovou mutaci</a>.</p><h1>Algoritmy</h1><h2>ALG01: Ověření platnosti přístupových údajů</h2><p>Vyhodnocení platnosti přístupových údajů je v kompetenci Systému FLWW2, viz <a href="#" data-page-title="Web API Autentikace">Web API Autentikace</a>. To pak může být vyhodnoceno dvěma způsoby:</p><ul><li>dle informací o přihlášení uživatele (token),<br></li><li>dle zadaných přihlašovacích údajů.</li></ul><h1>Validace</h1><h2>VAL01: Kontrola vstupních dat</h2><p>Všechny povinné údaje jsou vyplněny.</p><p>Poznámka: Nutnost zadání některých položek může být omezena konkrétním nasazením aplikace.</p><h1>Uživatelské rozhraní</h1><p>Popis uživatelského rozhraní vychází z přihlašovací obrazovky systému FLWW2. Zobrazení se pak může lišit dle konkrétního zákazníka, např. odlišné barvy jednotlivých prvků rozhraní.</p><h2>Drátový diagram</h2><p><img src="100uc02-prihlasit-uzivatele-88032967_images/image2020-6-11 8-17-27.png" data-attachment="true"></p><h2>Přehled UI komponent</h2><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Bublinková nápověda</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Logo společnosti</td><td colspan="1">–</td><td colspan="1">Image</td><td colspan="1">–</td><td colspan="1">companyLogo, viz <a href="#" data-page-title="Konfigurační parametry"></a></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Logo se může lišit dle nasazení aplikace, ve výchozím stavu je zobrazeno logo společnosti Radium.</td></tr><tr><td colspan="1">2</td><td colspan="1">Nadpis formuláře</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">–</td><td colspan="1"><p>Prostý text:</p><ul><li>Přihlášení</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1">Jazykové mutace</td><td colspan="1">–</td><td colspan="1">ComboBox</td><td colspan="1">CZ</td><td colspan="1">Dostupné jazykové mutace v rámci nasazení aplikace.</td><td colspan="1">Aktuálně nastavená jazyková mutace v rámci aplikace.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><a href="100uc02-88032967.html">Výběr jazykové mutace</a></td><td colspan="1">–</td><td colspan="1">Hodnota je zobrazena ve formě obrázku (konkrétně vlajky).</td></tr><tr><td colspan="1">4</td><td colspan="1">Firma</td><td colspan="1"><p>Firma</p></td><td colspan="1"><p>TextBox</p><ul><li>V rámci ovládacího prvku je zobrazena ikona: ra-company.</li></ul></td><td colspan="1">Radium</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vyplňte prosím toto pole</td><td colspan="1">Vždy</td><td colspan="1">Pokud je aplikace spuštěna v multitenantním režimu (multitenancyAllowed, viz <a href="#" data-page-title="Konfigurační parametry"></a>).</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1"><p>Nadpis je zobrazen na pozadí ovládacího prvku (placeholder), a to v případě, kdy není vyplněna hodnota.</p><p>Pokud není hodnota vyplněna, je použita výchozí hodnota (defaultTenant, viz <a href="#" data-page-title="Konfigurační parametry"></a>).</p></td></tr><tr><td colspan="1">5</td><td colspan="1">Uživatelské jméno</td><td colspan="1">Uživatelské jméno</td><td colspan="1"><p>TextBox</p><ul><li>V rámci ovládacího prvku je zobrazena ikona: ra-user.</li></ul></td><td colspan="1">Administrátor</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vyplňte prosím toto pole</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">Povinný údaj.</td><td colspan="1">Nadpis je zobrazen na pozadí ovládacího prvku (placeholder), a to v případě, kdy není vyplněna hodnota.</td></tr><tr><td colspan="1">6</td><td colspan="1">Heslo</td><td colspan="1">Heslo</td><td colspan="1"><p>TextBox</p><ul><li>V rámci ovládacího prvku je zobrazena ikona: ra-key.</li></ul></td><td colspan="1">silneHeslo.1</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Nejsou zobrazovány zadané znaky. Místo nich je použit zástupný znak.</td><td colspan="1">Vyplňte prosím toto pole</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">Povinný údaj.</td><td colspan="1">Nadpis je zobrazen na pozadí ovládacího prvku (placeholder), a to v případě, kdy není vyplněna hodnota.</td></tr><tr><td colspan="1">7</td><td colspan="1">Zapamatovat přihlášení</td><td colspan="1"><p>Zapamatovat přihlášení</p></td><td colspan="1">CheckBox</td><td colspan="1">TRUE</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><a href="100uc02-88032967.html">Zapamatovat přihlášení</a></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">8</td><td colspan="1">Chybové hlášení</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">Špatné uživatelské jméno nebo heslo.</td><td colspan="1">Zobrazený text je získán v rámci jednoho z alternativních toků událostí – jedná se o položku Text předaného systémového hlášení (viz <a href="#" data-page-title="Systémová hlášení">Systémová hlášení</a>). </td><td colspan="1">–</td><td colspan="1">Zobrazený text je graficky zvýrazněn.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud došlo ke spuštění jednoho z alternativních toků událostí.</td><td colspan="1"><p>Ovládací prvek je zobrazována v případě spuštění jednoho z uvedených alternativních toků událostí:</p><ul><li><a href="100uc02-88032967.html">AF03: Neplatné přihlašovací údaje</a>,</li><li><a href="100uc02-88032967.html">AF04: Uživatelský účet byl zablokován</a>.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">9</td><td colspan="1">Potvrzení přihlašovacích údajů</td><td colspan="1">Přihlásit</td><td colspan="1"><p>Button</p><ul><li>V rámci ovládacího prvku je zobrazena ikona: ra-tick.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Potvrzení zadaných údajů.</td><td colspan="1">–</td><td colspan="1">Odpovídá kroku 3 základního toku událostí.</td></tr><tr><td colspan="1">10</td><td colspan="1">Údaje o společnosti a verzi aplikace</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">Radium s.r.o. © 2016-2018, v2.9.1.601-b5e98c @ develop</td><td colspan="1">Copyright informace, údaje o nasazené verzi.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h2>Chování</h2><h3>Výběr jazykové mutace</h3><p>Výběr jazykové mutace je umožněn pomocí kontextové nabídky, formát její položky je pak následující.</p><p><img src="100uc02-prihlasit-uzivatele-88032967_images/image2020-5-31 11-52-46.png" data-attachment="true"></p><p>Popis jednotlivých prvků je pak uveden v tabulce.</p><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Vlajka</td><td colspan="1">–</td><td colspan="1">Image</td><td colspan="1">CZ</td><td colspan="1"><p>Obrázek vlajky odpovídající jazykové mutace.</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Nadpis</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">Čeština</td><td colspan="1">Název jazykové mutace.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1">Nastavená jazyková mutace</td><td colspan="1">–</td><td colspan="1"><p>Label</p><ul><li>V rámci ovládacího prvku je zobrazena ikona: ra-tick.</li></ul></td><td colspan="1">TRUE</td><td colspan="1">Pokud je jazyková mutace právě nastavena v rámci aplikace – TRUE, jinak – FALSE.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud je hodnota rovna TRUE.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h3>Zapamatovat přihlášení</h3><p>Pokud uživatel zaškrtne pole (nastaví hodnotu na TRUE), bude si systém v daném prohlížeči pamatovat informace o přihlášení (token), a to po dobu jejich platnosti.</p><p>Jinak si systém bude v daném prohlížeči pamatovat informace o přihlášení (token) pouze do doby prvního uzavření okna/záložky prohlížeče. V jiných oknech/záložkách prohlížeče nebude přihlášení platné.</p><p>Poznámka: Vychází z chování v rámci systému FLWW2, viz <a href="https://jira.radium.cz/browse/FLWW2-7131">https://jira.radium.cz/browse/FLWW2-7131</a>.</p><h1>Grafický návrh</h1><p>Jako první je uvedena celá přihlašovací obrazovka.</p><p><img src="100uc02-prihlasit-uzivatele-88032967_images/image2020-6-11 9-38-43.png" data-attachment="true"></p><p>Následně je uvedena rozbalovací nabídka pro nastavení požadované jazykové mutace.</p><p><img src="100uc02-prihlasit-uzivatele-88032967_images/image2020-5-31 11-45-4.png" data-attachment="true"></p><h1>Revize</h1><p>–</p>
</div>
</body>
</html>
