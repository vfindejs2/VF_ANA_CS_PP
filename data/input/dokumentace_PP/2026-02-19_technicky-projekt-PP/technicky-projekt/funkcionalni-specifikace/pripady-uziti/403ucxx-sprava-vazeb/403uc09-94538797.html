<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>403UC09: Zobrazit formulář přiřazení nádoby k položce objednávky</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je zobrazení formuláře přiřazení nádoby k položce objednávky s možností specifikace hodnot jednotlivých atributů odpovídající entity. Nastavené hodnoty jsou pak předány na výstupu případu užití.</p><p>Poznámka: K <a href="../../../datove-modely/datovy-88033012.html">Nádobě</a> sice přiřazujeme <a href="../../../datove-modely/datovy-88033012.html">Položku objednávky</a>, pracujeme však s jednotlivými <a href="../../../datove-modely/datovy-88033012.html">Revizemi položek objednávek</a>. <a href="../../../datove-modely/datovy-88033012.html">Položka objednávky</a> totiž představuje „obálku“ nad jejími jednotlivými revizemi.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="#" data-page-title="Přehled aktérů"></a>.</p><h1>Spuštění případů užití</h1><p>Uživatel zadá požadavek na zobrazení formuláře přiřazení nádoby k položce objednávky, a to jedním z uvedených způsobů:</p><ul><li>Uživatel zadá požadavek na založení přiřazení nádoby k položce objednávky v přehledu nádob (viz <a href="#" data-page-title="400UC06: Zobrazit přehled nádob"></a>).</li><li>Uživatel zadá požadavek na založení přiřazení nádoby k položce objednávky v přehledu revizí položek objednávek (viz <a href="#" data-page-title="402UC02: Zobrazit přehled revizí položek objednávek"></a>).</li><li>Uživatel zadá požadavek na založení přiřazení nádoby k položce objednávky v panelu přiřazení nádoby (viz <a href="#" data-page-title="400UC10: Zobrazit přiřazení nádoby"></a>).</li><li>Uživatel zadá požadavek na editaci přiřazení nádoby k položce objednávky v panelu přiřazení nádoby (viz <a href="#" data-page-title="400UC10: Zobrazit přiřazení nádoby"></a>).</li><li>Uživatel zadá požadavek na založení přiřazení nádoby k položce objednávky v panelu přiřazení revize položky objednávky (viz <a href="#" data-page-title="402UC04: Zobrazit přiřazení revize položky objednávky"></a>).</li><li>Uživatel zadá požadavek na editaci přiřazení nádoby k položce objednávky v panelu přiřazení revize položky objednávky (viz <a href="#" data-page-title="402UC04: Zobrazit přiřazení revize položky objednávky"></a>).<br></li></ul><h2>Vstupní podmínky</h2><p>Ke spuštění případu užití jsou nutná následující oprávnění na typ entit (viz <a href="../../../uzivatelska-88033399.html">Uživatelská oprávnění a role</a>):</p><ul><li>Alespoň jedno z uvedených oprávnění: Nádoby - zobrazení, Nádoby - modifikace.</li><li>Alespoň jedno z uvedených oprávnění: Objednávky - zobrazení, Objednávky - modifikace.</li></ul><p>V rámci případu užití jsou nutná následující oprávnění na případy užití (viz <a href="../../../uzivatelska-88033399.html">Uživatelská oprávnění a role</a>):</p><ul><li>Správa přiřazení nádoby k položce objednávky.</li></ul><h2>Vstupní data</h2><p>Vstupní data formuláře se mohou lišit dle případu užití, který tento UC spouští. Typicky se jedná o 2 následující možnosti:</p><ul><li>Založení přiřazení nádoby k položce objednávky – na vstupu jsou získány informace, které jsou v rámci formuláře předvyplněny (např. nádoba).</li><li>Editace přiřazení nádoby k položce objednávky – na vstupu je získána přímo instance přiřazení nádoby k položce objednávky, kterou chceme editovat.</li></ul><p>Vstupní data jsou tedy rozdělena na 2 skupiny dle výše uvedené logiky, viz tabulka.</p><table><tbody><tr><th colspan="1">Skupina</th><th>Vstupní parametr</div></div></div></th><th>Datový typ</div></div></div></th><th colspan="1">Povinnost</div></div></div></th><th>Popis</div></div></div></th><th colspan="1">Poznámka</div></div></div></th></tr><tr><td rowspan="6">Založení</td><td colspan="1">Nadpis formuláře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Nadpis, který je zobrazen v hlavičce formuláře.</td><td colspan="1">–</td></tr><tr><td colspan="1">Nádoba</td><td colspan="1"><a href="../../../datove-modely/datovy-88033012.html">Nádoba</a></td><td colspan="1"><p>Podmíněná – musí být předána hodnota pro alespoň jeden z těchto vstupních parametrů:</p><ul><li>Nádoba,</li><li>Revize položky objednávky.</li></ul></td><td colspan="1">Nádoba, která je předvyplněna v rámci formuláře.</td><td colspan="1"><p>Na vstupu je získána instance této entity, případně její identifikace.</p><p>Pokud je současně předána i instance entity <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a> (vstupní parametr Revize položky objednávky), musí být vytvořena pro stejnou <a href="../../../datove-modely/datovy-88033012.html">Provozovnu</a>.</p></td></tr><tr><td colspan="1">Revize položky objednávky</td><td colspan="1"><a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a></td><td colspan="1"><p>Podmíněná – musí být předána hodnota pro alespoň jeden z těchto vstupních parametrů:</p><ul><li>Nádoba,</li><li>Revize položky objednávky.</li></ul></td><td colspan="1">Revize položky objednávky, které je předvyplněna v rámci formuláře.</td><td colspan="1"><p>Na vstupu je získána instance této entity, případně její identifikace.</p><p>Pokud je současně předána i instance entity <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> (vstupní parametr Nádoba), musí být vytvořena pro stejnou <a href="../../../datove-modely/datovy-88033012.html">Provozovnu</a>.</p></td></tr><tr><td colspan="1"><p>Platnost od</p></td><td colspan="1">Datum a čas</td><td colspan="1">Ne</td><td colspan="1">Datum představující začátek platnosti přiřazení <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a> k <a href="../../../datove-modely/datovy-88033012.html">Položce objednávky</a>.</td><td colspan="1">–</td></tr><tr><td colspan="1"><p>Platnost do</p></td><td colspan="1">Datum a čas</td><td colspan="1">Ne</td><td colspan="1">Datum představující konec platnosti přiřazení <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a> k <a href="../../../datove-modely/datovy-88033012.html">Položce objednávky</a>.</td><td colspan="1">–</td></tr><tr><td colspan="1">Provozovna</td><td colspan="1"><a href="../../../datove-modely/datovy-88033012.html">Provozovna</a></td><td colspan="1">–</td><td colspan="1"><p>Provozovna, pro kterou je vytvářeno přiřazení nádoby k položce objednávky. Hodnota je získána následovně:</p><ul><li>Pokud je na vstupu předána instance entity <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> (vstupní parametr Nádoba): hodnota atributu Provozovna entity <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a>.</li><li>Pokud je na vstupu předána instance entity <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a> (vstupní parametr Revize položky objednávky): hodnota atributu Provozovna entity <a href="../../../datove-modely/datovy-88033012.html">Objednávka</a> – atribut Objednávka entity <a href="../../../datove-modely/datovy-88033012.html">Položka objednávky</a> – atribut Položka objednávky entity <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</li></ul></td><td colspan="1">Hodnota není získána na vstupu, ale je získána dle vstupních dat.</td></tr><tr><td rowspan="3">Editace</td><td colspan="1">Nadpis formuláře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Nadpis, který je zobrazen v hlavičce formuláře.</td><td colspan="1">–</td></tr><tr><td colspan="1">Přiřazení nádoby k položce objednávky</td><td colspan="1"><p><a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a></p></td><td colspan="1">Ano</td><td colspan="1">Přiřazení nádoby k položce objednávky, které má být editováno.</td><td colspan="1">Na vstupu je získána instance této entity, případně její identifikace.</td></tr><tr><td colspan="1">Provozovna</td><td colspan="1"><a href="../../../datove-modely/datovy-88033012.html">Provozovna</a></td><td colspan="1">–</td><td colspan="1"><p>Provozovna, u které je editováno přiřazení nádoby k položce objednávky. Hodnota je získána z <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> (vstupní parametr Přiřazení nádoby k položce objednávky) následovně:</p><ul><li>Pokud je k dispozici hodnota atributu Nádoba: hodnota atributu Provozovna odkazované <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a>.</li><li>Pokud je k dispozici hodnota atributu Položka objednávky: hodnota atributu Provozovna entity <a href="../../../datove-modely/datovy-88033012.html">Objednávka</a> – atribut Objednávka odkazované <a href="../../../datove-modely/datovy-88033012.html">Položky objednávky</a>.</li></ul></td><td colspan="1">Hodnota není získána na vstupu, ale je získána dle vstupních dat.</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Systém zobrazí formulář přiřazení nádoby k položce objednávky (viz <a href="403uc09-94538797.html">Uživatelské rozhraní</a>).<br><ol><li>Pokud je na vstupu získána instance entity <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> (viz skupina <a href="403uc09-94538797.html">Editace</a>), dojde k vyplnění formuláře.</li><li>Jinak (viz skupina <a href="403uc09-94538797.html">Založení</a>) je formulář zobrazen ve výchozím stavu (může být nastavena některá z na vstupu získaných hodnot).</li></ol></li><li>Uživatel provede nastavení hodnot jednotlivých atributů.</li><li>Uživatel potvrdí nastavené hodnoty – stiskne tlačítko pro uložení provedených změn (komponenta 12).</li><li>Systém provede validaci nastavených hodnot (viz <a href="403uc09-94538797.html">VAL01: Kontrola zadaných hodnot</a>).</li><li>Systém provede validaci, zda zadané <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> již pro nastavené období neexistuje (viz <a href="403uc09-94538797.html">VAL02: Kontrola existence přiřazení</a>).</li><li>Systém na výstupu předá data nastavená v rámci formuláře.</li></ol><h1>Alternativní toky událostí</h1><h2>AF01: Zadané hodnoty nejsou validní</h2><h3>Vstupní podmínky</h3><ul><li>Ve formuláři nastavené hodnoty nejsou validní (viz <a href="403uc09-94538797.html">VAL01: Kontrola zadaných hodnot</a>).</li></ul><h3>Tok událostí</h3><ol><li>Alternativní tok událostí začíná krokem 4 základního toku událostí.</li><li>Systém zobrazí chybové hlášení u všech ovládacích prvků, u kterých nejsou splněna validační kritéria.</li><li>Systém pokračuje krokem 2 základního toku událostí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Na výstupu nebyly předány žádné informace.</li></ul><h2>AF02: Zadané přiřazení již v zadaném období existuje</h2><h3>Vstupní podmínky</h3><ul><li>Ve formuláři nastavené <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> se v rámci zadaného období již vyskytuje (viz <a href="403uc09-94538797.html">VAL02: Kontrola existence přiřazení</a>).</li></ul><h3>Tok událostí</h3><ol><li>Alternativní tok událostí začíná krokem 5 základního toku událostí.</li><li>Systém zobrazí systémové hlášení – spustí <a href="../101ucxx-spolecne-prvky-uzivatelskeho-rozhrani/101uc05-88034337.html">101UC05: Zobrazit systémové hlášení</a>, na vstup jsou předány následující informace:<br><ul><li>Kód systémového hlášení: MSG_ERR_ASSIGNMENT_CONTAINER_CONTRACT_ITEM_ALREADY_EXISTS (viz <a href="../../../systemova-88033342.html">Systémová hlášení</a>).</li></ul></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení.</li><li>Systém pokračuje krokem 2 základního toku událostí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Na výstupu nebyly předány žádné informace.</li></ul><h2>AF03: Založit nádobu</h2><h3>Vstupní podmínky</h3><ul><li>Jsou splněny vstupní podmínky v rámci <a href="../301ucxx-sprava-dat-nadoby/301uc01-88036162.html">301UC01: Založit nádobu</a>.</li></ul><h3>Tok událostí</h3><ol><li>Systém zobrazí formulář nádoby – spustí <a href="../400ucxx-sprava-nadob/400uc08-88036375.html">400UC08: Zobrazit formulář nádoby</a>, na vstup jsou předány následující informace:<br><ul><li>Nadpis formuláře: Přidat nádobu.</li><li>Provozovna: <a href="../../../datove-modely/datovy-88033012.html">Provozovna</a> získaná nepřímo na vstupu UC (vstupní parametr Provozovna).</li></ul></li><li>Uživatel vyplní formulář.</li><li>Pokud uživatel zruší provedené změny:<br><ol><li>Systém zavře formulář nádoby.</li><li>Přechod na krok 10.</li></ol></li><li>Uživatel potvrdí provedené změny.</li><li>Systém odešle požadavek na založení nové instance entity <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> – spustí <a href="../301ucxx-sprava-dat-nadoby/301uc01-88036162.html">301UC01: Založit nádobu</a>, na vstup jsou předány následující informace:<br><ul><li>Zakládaná nádoba: výstupní data získaná v rámci formuláře nádoby (viz <a href="../400ucxx-sprava-nadob/400uc08-88036375.html">400UC08: Zobrazit formulář nádoby</a>, výstupní parametr Nádoba).</li><li>Zdroj změny: Webová aplikace (viz <a href="../../../datove-modely/datovy-88033012.html">Zdroj změny</a>).</li></ul></li><li>Pokud proběhne založení nové instance entity <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> v pořádku:<br><ol><li>Přechod na krok 8.</li></ol></li><li>Jinak dojde k provedení následujících kroků:<br><ol><li>Systém zobrazí systémové hlášení – spustí <a href="../101ucxx-spolecne-prvky-uzivatelskeho-rozhrani/101uc05-88034337.html">101UC05: Zobrazit systémové hlášení</a>, na vstup jsou předány následující informace:<br><ul><li>Kód systémového hlášení: výstupní data získaná v rámci založení nádoby (viz <a href="../301ucxx-sprava-dat-nadoby/301uc01-88036162.html">301UC01: Založit nádobu</a>, výstupní parametr Chybové hlášení).</li></ul></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 2.</li></ol></li><li>Systém zavře formulář nádoby.</li><li>Systém vyplní hodnotu v rámci ovládacího prvku pro <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a> (komponenta 4).</li><li>Systém pokračuje krokem 2 základního toku událostí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Byla vytvořena instance entity <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a>. Ta byla uložena do databáze a zobrazena v rámci formuláře.</li></ul><p>Poznámka: <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> je vytvořena i v případě, kdy uživatel neuloží změny provedené v rámci <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a>.</p><h2>AF04: Odebrat přiřazení</h2><h3>Vstupní podmínky</h3><ul><li>Na vstupu UC byla získána instance entity <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> (vstupní parametr Přiřazení nádoby k položce objednávky, viz skupina <a href="403uc09-94538797.html">Editace</a>).</li><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="304UC06: Odebrat přiřazení nádoby k položce objednávky"></a>.</li></ul><h3>Tok událostí</h3><ol><li>Systém zobrazí systémové hlášení – spustí <a href="../101ucxx-spolecne-prvky-uzivatelskeho-rozhrani/101uc05-88034337.html">101UC05: Zobrazit systémové hlášení</a>, na vstup jsou předány následující informace:<br><ul><li>Kód systémového hlášení: MSG_CONF_CANCEL_DELETE_ASSIGNMENT_CONTAINER_CONTRACT_ITEM (viz <a href="../../../systemova-88033342.html">Systémová hlášení</a>).</li></ul></li><li>Pokud uživatel zruší odebrání záznamu:<br><ol><li>Systém zavře systémové hlášení.</li><li>Systém pokračuje krokem 2 základního toku událostí.</li></ol></li><li>Uživatel potvrdí odebrání záznamu.</li><li>Systém zavře systémové hlášení.</li><li>Systém odešle požadavek na odebrání existující instance entity <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> – spustí <a href="#" data-page-title="304UC06: Odebrat přiřazení nádoby k položce objednávky"></a>, na vstup jsou předány následující informace:<br><ul><li>Odebírané přiřazení nádoby k položce objednávky: <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> získané na vstupu UC (vstupní parametr Přiřazení nádoby k položce objednávky, viz skupina <a href="403uc09-94538797.html">Editace</a>).</li><li>Zdroj změny: Webová aplikace (viz <a href="../../../datove-modely/datovy-88033012.html">Zdroj změny</a>).</li></ul></li><li>Pokud proběhne odebrání existující instance entity <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> v pořádku:<br><ol><li>Přechod na krok 8.</li></ol></li><li>Jinak dojde k provedení následujících kroků:<br><ol><li>Systém zobrazí systémové hlášení – spustí <a href="../101ucxx-spolecne-prvky-uzivatelskeho-rozhrani/101uc05-88034337.html">101UC05: Zobrazit systémové hlášení</a>, na vstup jsou předány následující informace:<br><ul><li>Kód systémového hlášení: výstupní data získaná v rámci odebrání <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> (viz <a href="#" data-page-title="304UC06: Odebrat přiřazení nádoby k položce objednávky"></a>, výstupní parametr Chybové hlášení).</li></ul></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení.</li><li>Systém pokračuje krokem 2 základního toku událostí.</li></ol></li><li>Systém na výstupu nepředá žádná data – případ užití končí.<br>.</li></ol><h3>Výstupní podmínky</h3><ul><li>Editované <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> bylo označeno jako odebrané.</li></ul><h1>Výjimkové toky událostí</h1><h2>EF01: Zrušení provedených změn</h2><h3>Vstupní podmínky</h3><ul><li>Uživatel zruší provedené změny – stiskne tlačítko pro zrušení provedených změn (komponenta 2, 11).</li></ul><h3>Tok událostí</h3><ol><li>Výjimkový tok událostí začíná krokem 3 základního toku událostí.</li><li>Případ užití končí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Na výstupu nebyly předány žádné informace.</li></ul><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Ve formuláři nastavené hodnoty jsou validní (viz <a href="403uc09-94538797.html">VAL01: Kontrola zadaných hodnot</a>).</p><h2>Výstupní data</h2><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Přiřazení nádoby k položce objednávky</td><td colspan="1"><p><a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a></p></td><td colspan="1">Podmíněná – pokud není UC korektně ukončen v rámci <a href="403uc09-94538797.html">AF04: Odebrat přiřazení</a>.</td><td colspan="1">Hodnoty, které byly nastaveny v rámci formuláře.</td><td colspan="1"><p>Pokud je v rámci případu užití úspěšně proveden <a href="403uc09-94538797.html">AF04: Odebrat přiřazení</a>, není na výstupu předána žádná hodnota.</p><p>Na výstupu jsou předány hodnoty atributů této entity.</p></td></tr></tbody></table><h1>Algoritmy</h1><p>–</p><h1>Validace</h1><h2>VAL01: Kontrola zadaných hodnot</h2><p>Formulář jako takový zajišťuje základní validaci zadaných údajů. Ta je prováděna ve 2 krocích:</p><ol><li>Zadání hodnoty – jakmile uživatel změní hodnotu v rámci ovládací prvku, je provedena validace této hodnoty. Pokud vložená hodnota nesplňuje požadovaná kritéria, je zobrazeno chybové hlášení, a to přímo ve formuláři spolu s ovládacím prvkem.</li><li>Potvrzení provedených změn – jakmile uživatel potvrdí provedené změny, je provedena validace všech ovládacích prvků formuláře. Postup je pak obdobný jako v kroku 1.</li></ol><p>Validační kritéria jsou pak uvedena společně s popisem jednotlivých ovládacích prvků (viz <a href="403uc09-94538797.html">Uživatelské rozhraní</a>).</p><h2>VAL02: Kontrola existence přiřazení</h2><p>Před potvrzením ve formuláři provedených změn je nutné provést kontrolu, zda by jejich uložením nedošlo k vytvoření duplicitního <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a>. Kontrola je pak prováděna oproti zadanému období přiřazení. Samotná validace pak probíhá následovně:</p><ol><li>Systém vyhodnotí, zda ve formuláři specifikované <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> již neexistuje – spustí <a href="#" data-page-title="403UC06: Získat informaci o existenci duplicitního přiřazení nádoby k položce objednávky"></a>, na vstup jsou předány následující informace:<br><ul><li>Zkoumané přiřazení: ve formuláři specifikované <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a>.</li><li>Vyloučené přiřazení: <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> získané na vstupu UC (vstupní parametr Přiřazení nádoby k položce objednávky, viz skupina <a href="403uc09-94538797.html">Editace</a>; pokud není hodnota k dispozici, není předána žádná hodnota).</li></ul></li><li>Dle hodnoty získané na výstupu volaného UC (viz <a href="#" data-page-title="403UC06: Získat informaci o existenci duplicitního přiřazení nádoby k položce objednávky"></a>, výstupní parametr Je duplicitní) je vyhodnocen výsledek validace:<br><ul><li>TRUE: Bylo nalezeno duplicitní <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a>, výsledek validace je <strong>negativní</strong>.</li><li>FALSE: Nebylo nalezeno duplicitní <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a>, výsledek validace je <strong>pozitivní</strong>.</li></ul></li></ol><h1>Uživatelské rozhraní</h1><p>Formulář přiřazení je koncipován jako modální okno (viz <a href="../101ucxx-spolecne-prvky-uzivatelskeho-rozhrani/101uc04-88034336.html">101UC04: Zobrazit modální okno</a>), z toho vyplývají i jeho základní vlastnosti.</p><h2>Drátový diagram</h2><p><img src="403uc09-zobrazit-formular-prirazeni-nadoby-k-polozce-objednavky-94538797_images/image2021-5-19 8-6-28.png" data-attachment="true"></p><h2>Přehled UI komponent</h2><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Bublinková nápověda</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Nadpis formuláře</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">Upravit přiřazení nádoby k položce objednávky</td><td colspan="1">Získána na vstupu UC, parametr Nadpis formuláře. </td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Zavření okna</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>V rámci ovládacího prvku je zobrazena ikona: ra-cross.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Spustí výjimkový tok <a href="403uc09-94538797.html">EF01: Zrušení provedených změn</a>.</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1">Provozovna</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">1228: SM Pardubice</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Provozovna</a> (nepřímo získána na vstupu UC, parametr Provozovna).</td><td colspan="1">–</td><td colspan="1"><p><Kód>: <Název></p><p>Pokud není hodnota atributu Kód k dispozici:</p><ul><li><Název></li></ul><p>Zobrazený text je graficky zvýrazněn.</p><ul><li>Řez písma: tučné.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">4</td><td colspan="1">Nádoba</td><td colspan="1">Nádoba*</td><td colspan="1">AutoSuggestTextBox (with add button)</td><td colspan="1">1228-000524</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> – atribut Nádoba entity <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> (získána na vstupu UC, parametr Přiřazení nádoby k položce objednávky).</p><p>Pokud není <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> získáno na vstupu UC, může být hodnota vyplněna dle další hodnoty získané na vstupu (parametr Nádoba).</p><p><a href="403uc09-94538797.html">Dostupné nádoby</a></p></td><td colspan="1">–</td><td colspan="1"><Evidenční číslo></td><td colspan="1">–</td><td colspan="1"><p>Vždy</p><p>Tlačítko pro založení <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a> je dostupné, pokud jsou splněny vstupní podmínky odpovídajícího alternativního toku.</p></td><td colspan="1">Vždy</td><td colspan="1"><p>Výběr požadované <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a> je možné provést 2 způsoby (ty jsou dány použitým ovládacím prvkem):</p><ul><li>Našeptávač – hledání probíhá dle atributu Evidenční číslo.</li><li>Výběrový dialog – rozložení uvedeno v rámci <a href="../101ucxx-spolecne-prvky-uzivatelskeho-rozhrani/101uc06-88036490.html">101UC06: Zobrazit výběrový dialog</a>.</li></ul><p>Po stisknutí tlačítko pro založení <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a> dojde ke spuštění <a href="403uc09-94538797.html">AF03: Založit nádobu</a>.</p></td><td colspan="1"><ul><li>Povinný údaj (chybové hlášení: Položka musí být vyplněna).</li><li>Pokud je zadána hodnota, musí odpovídat jedné z dostupných <a href="../../../datove-modely/datovy-88033012.html">Nádob</a> (chybové hlášení: Není zadána validní hodnota).</li></ul></td><td colspan="1"><p>Vyplněná hodnota pro načtení formuláře se liší od množiny dat získané na vstupu UC.</p></td></tr><tr><td colspan="1">5</td><td colspan="1">Informace o nádobě</td><td colspan="1">–</td><td colspan="1"><a href="403uc09-94538797.html">Informace o nádobě</a></td><td colspan="1">–</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> (nastavená v rámci komponenty 4).</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">V rámci komponenty 4 je nastavena <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a>.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud není ve formuláři nastavena <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a>, není panel zobrazen.</td></tr><tr><td colspan="1">6</td><td colspan="1">Revize položky objednávky</td><td colspan="1">Položka objednávky*</td><td colspan="1">AutoSuggestTextBox</td><td colspan="1">1228-000258 | PR:128</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a> (získána na vstupu UC, viz <a href="403uc09-94538797.html">Aktuálně platná revize položky objednávky</a>).</p><p>Pokud není <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> získáno na vstupu UC, může být hodnota vyplněna dle další hodnoty získané na vstupu (parametr Revize položky objednávky).</p><p><a href="403uc09-94538797.html">Dostupné revize položky objednávky</a></p></td><td colspan="1">–</td><td colspan="1"><p><a href="403uc09-94538797.html">Formát revize položky objednávky</a></p></td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><p>Výběr požadované <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a> je možné provést 2 způsoby (ty jsou dány použitým ovládacím prvkem):</p><ul><li>Našeptávač – hledání probíhá dle hodnoty zobrazené v rámci kontextové nabídky s výsledky hledání (viz <a href="403uc09-94538797.html">Formát revize položky objednávky</a>).</li><li>Výběrový dialog – rozložení uvedeno v rámci <a href="../101ucxx-spolecne-prvky-uzivatelskeho-rozhrani/101uc06-88036490.html">101UC06: Zobrazit výběrový dialog</a>.</li></ul></td><td colspan="1"><ul><li>Povinný údaj (chybové hlášení: Položka musí být vyplněna).</li><li>Pokud je zadána hodnota, musí odpovídat jedné z dostupných <a href="../../../datove-modely/datovy-88033012.html">Položek objednávek</a> (chybové hlášení: Není zadána validní hodnota).</li></ul></td><td colspan="1"><p>Vyplněná hodnota pro načtení formuláře se liší od množiny dat získané na vstupu UC.</p><p>V rámci ovládacího prvku sice vybíráme <a href="../../../datove-modely/datovy-88033012.html">Revizi položky objednávky</a>, na výstupu UC je však předána odpovídající <a href="../../../datove-modely/datovy-88033012.html">Položka objednávky</a> (atribut Položka objednávky entity <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>).</p></td></tr><tr><td colspan="1">7</td><td colspan="1">Informace o revizi položky objednávky</td><td colspan="1">–</td><td colspan="1"><a href="403uc09-94538797.html">Informace o revizi položky objednávky</a></td><td colspan="1">–</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a> (nastavená v rámci komponenty 6).</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">V rámci komponenty 6 je nastavena <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud není ve formuláři nastavena <a href="../../../datove-modely/datovy-88033012.html">Revizi položky objednávky</a>, není panel zobrazen.</td></tr><tr><td colspan="1">8</td><td colspan="1"><p>Začátek platnosti přiřazení</p></td><td colspan="1"><p>Platnost od*</p></td><td colspan="1">DatePicker</td><td colspan="1">3. 1. 2021</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> (získána na vstupu UC, parametr Přiřazení nádoby k položce objednávky).</p><p>Pokud není <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> získáno na vstupu UC, může být hodnota vyplněna dle další hodnoty získané na vstupu (parametr Platnost od).</p><p>Při uložení zadané hodnoty je čas nastaven na 0:00:00.</p></td><td colspan="1">–</td><td colspan="1"><p><Platnost od></p><p>Zobrazená hodnota je v uvedeném formátu: <a href="../../ovladaci-prvky/pouzivane-88036959.html">Datum</a>.</p></td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1"><ul><li>Povinný údaj (chybové hlášení: Položka musí být vyplněna).</li></ul></td><td colspan="1">Vyplněná hodnota pro načtení formuláře se liší od množiny dat získané na vstupu UC.</td></tr><tr><td colspan="1">9</td><td colspan="1"><p>Konec platnosti přiřazení</p></td><td colspan="1"><p>Platnost do</p></td><td colspan="1">DatePicker</td><td colspan="1">31. 1. 2021</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> (získána na vstupu UC, parametr Přiřazení nádoby k položce objednávky).</p><p>Pokud není <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> získáno na vstupu UC, může být hodnota vyplněna dle další hodnoty získané na vstupu (parametr Platnost do).</p><p>Při uložení zadané hodnoty je čas nastaven na 23:59:59.</p></td><td colspan="1">–</td><td colspan="1"><p><Platnost do></p><p>Zobrazená hodnota je v uvedeném formátu: <a href="../../ovladaci-prvky/pouzivane-88036959.html">Datum</a>.</p></td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1"><ul><li>Větší nebo rovno platnosti od (chybové hlášení: Platnost do musí být větší nebo rovna platnosti od).</li></ul></td><td colspan="1">Vyplněná hodnota pro načtení formuláře se liší od množiny dat získané na vstupu UC.</td></tr><tr><td colspan="1">10</td><td colspan="1">Poznámka k přiřazení nádoby k položce objednávky</td><td colspan="1">Poznámka</td><td colspan="1">MultilinetextBox</td><td colspan="1">Vazba chybí v ERP systému.</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> (získána na vstupu UC, parametr Přiřazení nádoby k položce objednávky).</td><td colspan="1">–</td><td colspan="1"><Poznámka></td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1"><ul><li>Maximálně 255 znaků (chybové hlášení: Počet znaků nesmí být větší než 255).</li></ul></td><td colspan="1">–</td></tr><tr><td colspan="1">11</td><td colspan="1">Zrušení provedených změn</td><td colspan="1">Zrušit</td><td colspan="1"><p>Button</p><ul><li>V rámci ovládacího prvku je zobrazena ikona: ra-cross.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Spustí výjimkový tok <a href="403uc09-94538797.html">EF01: Zrušení provedených změn</a>.</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">12</td><td colspan="1">Uložení provedených změn</td><td colspan="1">Uložit</td><td colspan="1"><p>Button</p><ul><li>V rámci ovládacího prvku je zobrazena ikona: ra-tick.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Odpovídá kroku 3 základního toku událostí.</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">13</td><td colspan="1">Odebrání přiřazení nádoby k položce objednávky</td><td colspan="1">Odebrat</td><td colspan="1"><p>Button</p><ul><li>V rámci ovládacího prvku je zobrazena ikona: ra-trash.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud jsou splněny vstupní podmínky volaného alternativního toku.</td><td colspan="1">Vždy</td><td colspan="1">Spustí alternativní tok <a href="403uc09-94538797.html">AF04: Odebrat přiřazení</a>.</td><td colspan="1">–</td><td colspan="1">Funkčnost je dostupná pouze při editaci existujícího <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a>.</td></tr></tbody></table><h2>Chování</h2><h3>Dostupné nádoby</h3><p>V rámci ovládacího prvku je umožněn výběr jedné z nabízených hodnot. K dispozici jsou pak všechny instance entity <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a>, které splňují následující podmínky:</p><ul><li>Hodnota atributu Je aktivní je rovna TRUE.</li><li>Hodnota atributu Provozovna odpovídá <a href="../../../datove-modely/datovy-88033012.html">Provozovně</a> nepřímo získané na vstupu UC (vstupní parametr Provozovna).</li></ul><h3>Informace o nádobě</h3><p>Informace o <a href="../../../datove-modely/datovy-88033012.html">Nádobě</a> jsou zobrazovány ve formě panelu, jako vstupní hodnota je předána konkrétní instance <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a> (komponenta 4). Pokud není hodnota k dispozici, není panel zobrazen vůbec.</p><h4>Drátový diagram</h4><p><img src="403uc09-zobrazit-formular-prirazeni-nadoby-k-polozce-objednavky-94538797_images/image2021-5-18 15-36-53.png" data-attachment="true"></p><h4>Přehled UI komponent</h4><table><tbody><tr><th>Callout</div></th><th>Komponenta</div></th><th colspan="1">Nadpis</div></th><th>Typ komponenty</div></th><th>Příklad hodnoty</div></th><th colspan="1">Hodnota</div></th><th colspan="1">Výchozí hodnota</div></th><th colspan="1">Formát</div></th><th colspan="1">Bublinková nápověda</div></th><th colspan="1">Zpřístupněná</div></th><th colspan="1">Viditelná</div></th><th>Chování</div></th><th colspan="1">Validace</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">1</td><td colspan="1">Vlastnictví nádoby</td><td colspan="1">Vlastnictví</td><td colspan="1">Label</td><td colspan="1">Cizí</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a>.</td><td colspan="1">–</td><td colspan="1"><Vlastnictví></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Stav nádoby</td><td colspan="1">Stav</td><td colspan="1">Label</td><td colspan="1">Aktivní</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a>.</td><td colspan="1">–</td><td colspan="1"><Stav></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1">Poznámka</td><td colspan="1">Poznámka</td><td colspan="1">Label</td><td colspan="1">Ulomené víko.</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a>.</td><td colspan="1">–</td><td colspan="1"><Poznámka></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">4</td><td colspan="1">Skupina odpadu</td><td colspan="1">Skupina odpadu</td><td colspan="1">Label</td><td colspan="1">Směsný odpad</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Skupina odpadu</a> – atribut Skupina odpadu entity <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a>.</td><td colspan="1">–</td><td colspan="1"><Název></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">5</td><td colspan="1">Kategorie nádoby</td><td colspan="1">Kategorie nádoby</td><td colspan="1">Label</td><td colspan="1">Směsný odpad, malé (SmO_s)</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Kategorie nádoby</a> – atribut Kategorie nádoby entity <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a>.</td><td colspan="1">–</td><td colspan="1"><p><Název> (<Zkrácený název>)</p><p>Pokud není hodnota atributu Zkrácený název k dispozici:</p><ul><li><Název></li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">6</td><td colspan="1">Vzor nádoby</td><td colspan="1">Vzor nádoby</td><td colspan="1">Label</td><td colspan="1">Směsný odpad, 120 l (SmO_120)</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Vzor nádoby</a> – atribut Vzor nádoby entity <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a>.</td><td colspan="1">–</td><td colspan="1"><p><Název> (<Zkrácený název>)</p><p>Pokud není hodnota atributu Zkrácený název k dispozici:</p><ul><li><Název></li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h3>Aktuálně platná revize položky objednávky</h3><p>Pokud je na vstupu UC získáno přímo <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> (vstupní parametr Přiřazení nádoby k položce objednávky, viz skupina <a href="403uc09-94538797.html">Editace</a>), máme k dispozici pouze odpovídající <a href="../../../datove-modely/datovy-88033012.html">Položku objednávky</a>. My však v rámci formuláře (komponenta 6) nastavujeme konkrétní <a href="../../../datove-modely/datovy-88033012.html">Revizi položky objednávky</a>. Hledáme tedy aktuálně platnou <a href="../../../datove-modely/datovy-88033012.html">Revizi položky objednávky</a> (k dnešnímu dni). Ta musí splňovat všechny dále uvedené podmínky zároveň (měl by být nalezen maximálně 1 záznam):</p><ul><li>Hodnota atributu Je aktivní je rovna TRUE.</li><li>Hodnota atributu Položka objednávky odpovídá <a href="../../../datove-modely/datovy-88033012.html">Položce objednávky</a> obsažené v na vstupu UC získaném <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> (vstupní parametr Přiřazení nádoby k položce objednávky, viz skupina <a href="403uc09-94538797.html">Editace</a>; atribut Položka objednávky).</li><li>Hodnota atributu Platnost od je menší nebo rovna dnešnímu datu.</li><li>Hodnota atributu Platnost do ve větší než dnešní datum (pokud není hodnota k dispozici, není podmínka vyhodnocována).</li></ul><p>Pokud takovou <a href="../../../datove-modely/datovy-88033012.html">Revizi položky objednávky</a> nenalezneme, hledáme nejnovější <a href="../../../datove-modely/datovy-88033012.html">Revizi položky objednávky</a> odpovídající <a href="../../../datove-modely/datovy-88033012.html">Položky objednávky</a>. Ta musí splňovat všechny dále uvedené podmínky zároveň (měl by existovat alespoň 1 záznam):</p><ul><li>Hodnota atributu Je aktivní je rovna TRUE.</li><li>Hodnota atributu Položka objednávky odpovídá <a href="../../../datove-modely/datovy-88033012.html">Položce objednávky</a> obsažené v na vstupu UC získaném <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> (vstupní parametr Přiřazení nádoby k položce objednávky, viz skupina <a href="403uc09-94538797.html">Editace</a>; atribut Položka objednávky).</li><li>Hodnota atributu Platnost od je největší (hledáme nejnovější <a href="../../../datove-modely/datovy-88033012.html">Revizi položky objednávky</a>) z nalezené množiny.</li></ul><h3>Dostupné revize položky objednávky</h3><p>V rámci ovládacího prvku je umožněn výběr jedné z nabízených hodnot. K dispozici jsou pak všechny instance entity <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>, které splňují následující podmínky:</p><ul><li>Hodnota atributu Je aktivní je rovna TRUE.</li><li>Hodnota atributu Provozovna odpovídající <a href="../../../datove-modely/datovy-88033012.html">Objednávky</a> (atribut Objednávka entity <a href="../../../datove-modely/datovy-88033012.html">Položka objednávky</a> – atribut Položka objednávky entity <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>) odpovídá <a href="../../../datove-modely/datovy-88033012.html">Provozovně</a> nepřímo získané na vstupu UC (vstupní parametr Provozovna).</li></ul><h3>Formát revize položky objednávky</h3><p>V rámci ovládacího prvku vybíráme <a href="../../../datove-modely/datovy-88033012.html">Revizi položky objednávky</a>, zobrazujeme však identifikaci pouze pro odpovídající <a href="../../../datove-modely/datovy-88033012.html">Objednávku</a> a <a href="../../../datove-modely/datovy-88033012.html">Položku objednávky</a> (identifikace konkrétní <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a> je uvedena až v panelu s <a href="403uc09-94538797.html">Informacemi o revizi položky objednávky</a>). Formát zobrazené hodnoty je následující: <strong><Číslo objednávky> | <Číslo položky objednávky></strong>.</p><p>Poznámka: V rámci našeptávače jsou zobrazovány jednotlivé <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>, které odpovídají hledanému textu. Zde je formát zobrazené hodnoty následující: <strong><Číslo objednávky> | <Číslo položky objednávky>-<Revize></strong>.</p><p>Hodnoty jednotlivých položek jsou pro konkrétní <a href="../../../datove-modely/datovy-88033012.html">Revizi položky objednávky</a> získány následovně:</p><ul><li>Číslo objednávky: Atribut Číslo objednávky entity <a href="../../../datove-modely/datovy-88033012.html">Objednávka</a> – atribut Objednávka entity <a href="../../../datove-modely/datovy-88033012.html">Položka objednávky</a> – atribut Položka objednávky entity <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</li><li>Číslo položky objednávky: Atribut Číslo položky objednávky entity <a href="../../../datove-modely/datovy-88033012.html">Položka objednávky</a> – atribut Položka objednávky entity <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</li><li>Revize: Atribut Revize entity <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</li></ul><h3>Informace o revizi položky objednávky</h3><p>Informace o <a href="../../../datove-modely/datovy-88033012.html">Revizi položky objednávky</a> jsou zobrazovány ve formě panelu, jako vstupní hodnota je předána konkrétní instance <a href="../../../datove-modely/datovy-88033012.html">Revizi položky objednávky</a> (komponenta 6). Pokud není hodnota k dispozici, není panel zobrazen vůbec.</p><h4>Drátový diagram</h4><p><img src="403uc09-zobrazit-formular-prirazeni-nadoby-k-polozce-objednavky-94538797_images/image2021-5-19 8-5-43.png" data-attachment="true"></p><h4>Přehled UI komponent</h4><table><tbody><tr><th>Callout</div></th><th>Komponenta</div></th><th colspan="1">Nadpis</div></th><th>Typ komponenty</div></th><th>Příklad hodnoty</div></th><th colspan="1">Hodnota</div></th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</div></th><th colspan="1">Bublinková nápověda</div></th><th colspan="1">Zpřístupněná</div></th><th colspan="1">Viditelná</div></th><th>Chování</div></th><th colspan="1">Validace</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">1</td><td colspan="1">Revize</td><td colspan="1">Revize</td><td colspan="1">ComboBox</td><td colspan="1">13</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</p><p><a href="403uc09-94538797.html">Dostupné revize</a></p></td><td colspan="1">–</td><td colspan="1"><Revize></td><td colspan="1">–</td><td colspan="1">Pokud je obsažena více jak 1 hodnota.</td><td colspan="1">Vždy</td><td colspan="1"><a href="403uc09-94538797.html">Změna revize</a></td><td colspan="1">–</td><td colspan="1"><p>Položka „Nevybráno“ není k dispozici.</p><p>Zvolená revize odpovídá <a href="../../../datove-modely/datovy-88033012.html">Revizi položky objednávky</a>, která je právě zobrazena.</p></td></tr><tr><td colspan="1">2</td><td colspan="1">Platnost</td><td colspan="1">Platnost</td><td colspan="1">Label</td><td colspan="1">3. 1. 2021-31. 12. 2021</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</td><td colspan="1">–</td><td colspan="1"><p><Platnost od>-<Platnost do></p><p>Zobrazená hodnota je v uvedeném formátu: <a href="../../ovladaci-prvky/pouzivane-88036959.html">Datum</a>.</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1">Odběratel</td><td colspan="1">Odběratel</td><td colspan="1">Label</td><td colspan="1">Město Pardubice</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Zákazník</a> – atribut Odběratel entity <a href="../../../datove-modely/datovy-88033012.html">Objednávka</a> – atribut Objednávka entity <a href="../../../datove-modely/datovy-88033012.html">Položka objednávky</a> – atribut Položka objednávky entity <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</td><td colspan="1">–</td><td colspan="1"><Název></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">4</td><td colspan="1">Konečný příjemce</td><td colspan="1">Konečný příjemce</td><td colspan="1">Label</td><td colspan="1">Město Pardubice 3</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Zákazník</a>  – atribut Konečný příjemce entity <a href="../../../datove-modely/datovy-88033012.html">Objednávka</a>  – atribut Objednávka entity <a href="../../../datove-modely/datovy-88033012.html">Položka objednávky</a>  – atribut Položka objednávky entity <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</td><td colspan="1">–</td><td colspan="1"><Název></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">5</td><td colspan="1">Poplatník</td><td colspan="1">Poplatník</td><td colspan="1">Label</td><td colspan="1">František Javůrka (FO)</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</td><td colspan="1">–</td><td colspan="1"><Poplatník></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">6</td><td colspan="1">Adresa místa realizace</td><td colspan="1">Adresa místa realizace</td><td colspan="1">Label</td><td colspan="1">Železničního pluku 118/A, 530 03 Pardubice</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</td><td colspan="1">–</td><td colspan="1"><p><Adresa místa realizace></p><p>Zobrazená hodnota je v uvedeném formátu: <a href="../../ovladaci-prvky/pouzivane-88036959.html">Úplná adresa</a>.</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">7</td><td colspan="1">Počet nádob</td><td colspan="1">Počet nádob</td><td colspan="1">Label</td><td colspan="1">1</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</td><td colspan="1">–</td><td colspan="1"><Počet nádob></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">8</td><td colspan="1">Vlastnictví nádoby</td><td colspan="1">Vlastnictví nádoby</td><td colspan="1">Label</td><td colspan="1">Vlastní</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</td><td colspan="1">–</td><td colspan="1"><Vlastnictví nádoby></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">9</td><td colspan="1">Typ nádoby</td><td colspan="1">Typ nádoby</td><td colspan="1">Label</td><td colspan="1">Plast, 120 l</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Typ nádoby</a> – atribut Typ nádoby entity <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</td><td colspan="1">–</td><td colspan="1"><Název></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">10</td><td colspan="1">Druh odpadu</td><td colspan="1">Druh odpadu</td><td colspan="1">Label</td><td colspan="1">17 02 03</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Druh odpadu</a> – atribut Druh odpadu entity <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</td><td colspan="1">–</td><td colspan="1"><Kód></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">11</td><td colspan="1">Frekvence vývozu</td><td colspan="1">Frekvence vývozu</td><td colspan="1">Label</td><td colspan="1">1x7</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-88033012.html">Frekvence vývozu</a> – atribut Frekvence vývozu entity <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</td><td colspan="1">–</td><td colspan="1"><Název></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">12</td><td colspan="1">Základní dny svozu</td><td colspan="1">Základní dny svozu</td><td colspan="1">Label</td><td colspan="1">Úterý</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-88033012.html">Základní dny svozu</a> (může být získána kolekce záznamů).</p><p><a href="403uc09-94538797.html">Získání základních dní svozu</a></p><p>Entita <a href="../../../datove-modely/datovy-88033012.html">Základní dny svozu</a> – atribut Základní dny svozu entity <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>.</p></td><td colspan="1">–</td><td colspan="1"><p><Dny svozu>, …, <Dny svozu></p><p>Pokud je získán právě jeden záznam se <a href="../../../datove-modely/datovy-88033012.html">Základními dny svozu</a>…</p><ul><li><Dny svozu></li></ul><p>Pokud nejsou <a href="../../../datove-modely/datovy-88033012.html">Základní dny svozu</a> k dispozici vůbec, není zobrazena žádná hodnota.</p><p><Dny svozu></p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h4>Dostupné revize</h4><p>V rámci ovládacího prvku je umožněn výběr jedné z nabízených hodnot. K dispozici je pak hodnota pro všechny instance entity <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a> (atribut Revize), které splňují následující podmínky:</p><ul><li>Hodnota atributu Je aktivní je rovna TRUE.</li><li>Hodnota atributu Položka objednávky odpovídá <a href="../../../datove-modely/datovy-88033012.html">Položce objednávky</a> získané z právě zobrazené <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a> (atribut Položka objednávky).</li></ul><p>Jsou tedy zobrazeny všechny <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a> odpovídající <a href="../../../datove-modely/datovy-88033012.html">Položky objednávky</a>. Jejich pořadí je dáno hodnotou atributu Revize (řazeno vzestupně).</p><p>Interní poznámka: Jako vhodné se jeví použití řazení Natural sort.</p><h4>Změna revize</h4><p>Pokud v rámci formuláře vybereme požadovanou <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a> (komponenta 6), dojde k zobrazení detailních informací o ní. V této části s detailními informacemi pak máme možnost změnit zobrazenou <a href="../../../datove-modely/datovy-88033012.html">Revizi položky objednávky</a>. K dispozici jsou takové <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>, které spadají pod stejnou <a href="../../../datove-modely/datovy-88033012.html">Položku objednávky</a> (viz <a href="403uc09-94538797.html">Dostupné revize</a>). Chování je pak následující:</p><ol><li>Uživatel zvolí požadovanou revizi (získá hodnotu atributu Revize odpovídající <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>).</li><li>Systém nalezne odpovídající <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>, ta splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu Položka objednávky odpovídá <a href="../../../datove-modely/datovy-88033012.html">Položce objednávky</a> získané z právě zobrazené <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a> (atribut Položka objednávky).</li><li>Hodnota atributu Revize odpovídá uživatelem zvolené hodnotě (viz krok 1).</li></ul></li><li>Systém změní ve formuláři vybranou <a href="../../../datove-modely/datovy-88033012.html">Revizi položky objednávky</a> (komponenta 6) na tu právě nalezenou (viz krok 2; dojde tedy i k aktualizaci zobrazených detailních informací).</li></ol><p>Poznámka: Technické řešení se může lišit (v rámci ovládacího prvku pro výběr revize může být k např. k dispozici přímo identifikátor odpovídající <a href="../../../datove-modely/datovy-88033012.html">Revize položky objednávky</a>).</p><h4>Získání základních dní svozu</h4><p>K jedné <a href="../../../datove-modely/datovy-88033012.html">Revizi položky objednávky</a> může být přiřazeno více záznamů se <a href="../../../datove-modely/datovy-88033012.html">Základními dny svozu</a> (0..N). Požadované záznamy pak hledáme pomocí vazební entity <a href="../../../datove-modely/datovy-88033012.html">Přiřazení základních dní svozu k revizi položky objednávky</a>, ty musí splňovat všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong>. </li><li>Hodnota atributu <strong>Revize položky objednávky</strong> odkazuje na odpovídající <a href="../../../datove-modely/datovy-88033012.html">Revizi položky objednávky</a>.</li></ul><p>Pokud je nalezen alespoň jeden záznam entity <a href="../../../datove-modely/datovy-88033012.html">Přiřazení základních dní svozu k revizi položky objednávky</a>, získáme odpovídající <a href="../../../datove-modely/datovy-88033012.html">Základní dny svozu</a> (hodnota atributu <strong>Základní dny svozu</strong>). Záznamy jsou předány ve vzestupném pořadí dle interního identifikátoru. V opačném případě není předána žádná hodnota.</p><h2>Uživatelská nastavení</h2><p>–</p><h2>Parametry URL</h2><p>–</p><h1>Grafický návrh</h1><p>TODO</p><h1>Revize</h1><h2>19. 11. 2024: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny</div></div></div></div></th></tr><tr><td colspan="1"><a href="403uc09-94538797.html">Informace o revizi položky objednávky</a></td><td colspan="1">Revize chování související se dny svozu (naznačeno modře).</td></tr><tr><td colspan="1"><a href="403uc09-94538797.html">Získání základních dní svozu</a></td><td colspan="1">Doplněno chování pro získání dní svozu (naznačeno modře).</td></tr></tbody></table><h2>19. 4. 2024: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny</div></th></tr><tr><td colspan="1"><a href="403uc09-94538797.html">Aktuálně platná revize položky objednávky</a></td><td colspan="1">Revize způsobu vyhodnocení platnosti (naznačeno modře).</td></tr></tbody></table><h2>20. 8. 2021: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny</div></th></tr><tr><td colspan="1"><a href="403uc09-94538797.html">Vstupní podmínky</a></td><td colspan="1">Revize oprávnění pro spuštění UC (naznačeno modře).</td></tr></tbody></table>
</div>
</body>
</html>
