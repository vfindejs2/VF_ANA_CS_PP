<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>403UC06: Získat informaci o existenci duplicitního přiřazení nádoby k položce objednávky</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je získání informace, zda na vstupu předané přiřazení nádoby k položce objednávky již v rámci aplikace nefiguruje (zda jedna nádoba není v jeden čas přiřazena násobně k jedné položce objednávky). Vyhodnocení pak probíhá na několika úrovních:</p><ul><li>vyhodnocení odkazovaných instancí (Nádoba, Položka objednávky),</li><li>vyhodnocení období, po které je Nádoba k Položce objednávky přiřazena,</li><li>vyhodnocována jsou pouze aktivní přiřazení nádoby k položce objednávky.</li></ul><p>Poznámka:</p><ul><li>Je možné specifikovat přiřazení nádoby k položce objednávky, které není v rámci vyhodnocování bráno v potaz (např. volání tohoto UC při editaci přiřazení).</li><li>Nesmí tedy existovat 2 přiřazení nádoby k položce objednávky, která se odkazující na stejné instance (Nádoba, položka objednávky) a která by se prolínala obdobím svého přiřazení.</li></ul><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="#" data-page-title="Přehled aktérů"></a>.</p><h1>Spuštění případů užití</h1><p>Uživatel zadá požadavek na získání informace o existenci duplicitního přiřazení nádoby k položce objednávky, a to jedním z uvedených způsobů:</p><ul><li>Uživatel zadá požadavek na získání informace o existenci duplicitního přiřazení při vytváření přiřazení nádoby k položce objednávky (viz <a href="#" data-page-title="304UC04: Založit přiřazení nádoby k položce objednávky"></a>).</li><li>Uživatel zadá požadavek na získání informace o existenci duplicitního přiřazení při upravení přiřazení nádoby k položce objednávky (viz <a href="#" data-page-title="304UC05: Upravit přiřazení nádoby k položce objednávky"></a>).</li></ul><p>Poznámka: Uvedené případy užití jsou volány až v rámci akce na uživatelském rozhraní, uživatel je tedy nevolá nepřímo. </p><h2>Vstupní podmínky</h2><p>–</p><h2>Vstupní data</h2><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Zkoumané přiřazení1</td><td colspan="1"><a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a></td><td colspan="1">Ano</td><td colspan="1">Přiřazení nádoby k položce objednávky, u kterého dochází k vyhodnocení duplicity.</td><td colspan="1">Na vstupu jsou získány hodnoty <strong>nesystémových</strong> atributů této entity.</td></tr><tr><td colspan="1">Vyloučené přiřazení2</td><td colspan="1"><a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a></td><td colspan="1">Ne</td><td colspan="1">Přiřazení nádoby k položce objednávky, které je vyňato z vyhodnocení duplicity.</td><td colspan="1">Na vstupu je získána instance této entity, případně její identifikace.</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Pokud existuje alespoň jedna instance entity <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a>, která splňuje všechny dále uvedené podmínky, je na výstupu předána hodnota TRUE.<br><ul><li>Nejedná se o vyloučené <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a>2 získané na vstupu UC (pokud není hodnota k dispozici, není podmínka vyhodnocována).</li><li>Hodnota atributu Je aktivní je rovna TRUE.</li><li>Hodnota atributu Nádoba je rovna hodnotě stejného atributu u zkoumaného <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a>1 získaného na vstupu UC.</li><li>Hodnota atributu Položka objednávky je rovna hodnotě stejného atributu u zkoumaného <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a>1 získaného na vstupu UC.</li><li>Období přiřazení se prolíná se zkoumaným <a href="../../../datove-modely/datovy-88033012.html">Přiřazením nádoby k položce objednávky</a>1 – viz <a href="403uc06-94537101.html">ALG01: Porovnání období přiřazení</a> (výsledkem je hodnota TRUE).</li></ul></li><li>Jinak je na výstupu předána hodnota FALSE.</li></ol><h1>Alternativní toky událostí</h1><p>–</p><h1>Výjimkové toky událostí</h1><p>–</p><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Byla předána informace o existenci duplicitního <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> pro na vstupu získanou instanci.</p><h2>Výstupní data</h2><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Je duplicitní</td><td colspan="1">Boolean</td><td colspan="1">Ano</td><td colspan="1">Informace, zde existuje duplicitní <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a>.</td><td colspan="1">Hodnota TRUE je vrácena v případě, kdy je nalezeno duplicitní <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a>.</td></tr></tbody></table><h1>Algoritmy</h1><h2>ALG01: Porovnání období přiřazení</h2><p>Poznámka: Algoritmus je používán i samostatně! S tím je nutné počítat při jeho změnách. Volání se vyskytuje na těchto místech:</p><ul><li><a href="../304ucxx-sprava-dat-vazby/304uc04-94536587.html">EF08: Nádoba je již přiřazena k jiné položce objednávky</a> (viz <a href="#" data-page-title="304UC04: Založit přiřazení nádoby k položce objednávky"></a>),</li><li><a href="../304ucxx-sprava-dat-vazby/304uc05-94536588.html">EF09: Nádoba je již přiřazena k jiné položce objednávky</a> (viz <a href="#" data-page-title="304UC05: Upravit přiřazení nádoby k položce objednávky"></a>).</li></ul><p>V rámci algoritmu dochází k vyhodnocení, zda se dvojice zkoumaných <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> z pohledu jejich období přiřazení prolíná. Výsledkem pak může být jedna z uvedených hodnot:</p><ul><li>TRUE: zkoumaná <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> se prolínají (dochází k překryvu jejich období přiřazení a z tohoto pohledu se jedná o duplicitu, pokud jsou splněny další podmínky).</li><li>FALSE: zkoumaná <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> se neprolínají (nedochází k překryvu jejich období přiřazení a z tohoto pohledu se nejedná o duplicitu).</li></ul><p>Samotné porovnání lze pak rozdělit na 2 skupiny, a to dle nastaveného období přiřazení výchozího <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> (vstupní parametr Zkoumané přiřazení):</p><ul><li>omezené období přiřazení – je nestavena hodnota atributu Platnost od i Platnost do,</li><li>neomezené období přiřazení – je nastavena pouze hodnota atributu Platnost od.</li></ul><p>Dále jsou pak uvedeny jednotlivé podmínky pro vyhodnocení překryvu, a to pro obě zmíněné skupiny. Dojde-li ke splnění alespoň jedné podmínky v rámci odpovídající skupiny, je na výstupu algoritmu předána hodnota TRUE (<a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> se prolínají). V opačném případě je předána hodnota FALSE (<a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby k položce objednávky</a> se neprolínají).</p><table><tbody><tr><th>Výchozí přiřazení</th><th>Porovnávané přiřazení – podmínka</th><th>Stručný popis</th></tr><tr><td rowspan="2"><ul><li>Platnost od: D1</li><li>Platnost do: D2</li></ul></td><td><ul><li>Platnost od: D3 je menší než D2</li><li>Platnost do: není k dispozici</li></ul></td><td>Období přiřazení porovnávaného přiřazení nádoby k položce objednávky začíná před koncem toho výchozího a je neomezené. Platnost do výchozího přiřazení nádoby k položce objednávky není nutné porovnávat.</td></tr><tr><td><ul><li>Platnost od: D3 je menší než D2</li><li>Platnost do: D4 je větší než D1</li></ul></td><td>Období přiřazení porovnávaného přiřazení nádoby k položce objednávky začíná kdekoliv před koncem výchozího přiřazení nádoby k položce objednávky a zároveň končí po začátku období přiřazení výchozího přiřazení nádoby k položce objednávky.</td></tr><tr><td rowspan="2"><ul><li>Platnost od: D1</li><li>Platnost do: není k dispozici</li></ul></td><td><ul><li>Platnost od: D3</li><li>Platnost do: není k dispozici</li></ul></td><td>U obou přiřazení nádoby k položce objednávky je nastavena neomezené období přiřazení. Platnost od není nutné porovnávat.</td></tr><tr><td><ul><li>Platnost od: D3</li><li>Platnost do: D4 je větší než D1</li></ul></td><td>Období přiřazení porovnávaného přiřazení nádoby k položce objednávky končí po začátku výchozího přiřazení nádoby k položce objednávky. Platnost od porovnávaného přiřazení nádoby k položce objednávky není nutné porovnávat.</td></tr></tbody></table><h1>Validace</h1><p>–</p><h1>Uživatelské rozhraní</h1><p>–</p><h1>Grafický návrh</h1><p>–</p><h1>Revize</h1><h2>4. 7. 2023: Tomáš Nadrchal</h2><p>Revize způsobu vyhodnocení časových intervalů (viz <a href="403uc06-94537101.html">ALG01: Porovnání období přiřazení</a>, naznačeno modře). Nově pracujeme s polouzavřenými intervaly – začátek platnosti je součástí intervalu, jeho konec již ne.</p><p><img src="403uc06-94537101_images/image2023-7-4 8-32-55.png" data-attachment="true"></p>
</div>
</body>
</html>
