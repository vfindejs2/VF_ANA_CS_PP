<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>403UC03: Získat informaci o existenci duplicitního přiřazení nádoby ke stanovišti</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je získání informace, zda na vstupu předané přiřazení nádoby ke stanovišti již v rámci aplikace nefiguruje (zda jedna nádoba není v jeden čas přiřazena násobně k jednomu stanovišti). Vyhodnocení pak probíhá na několika úrovních:</p><ul><li>vyhodnocení odkazovaných instancí (Nádoba, Stanoviště),</li><li>vyhodnocení období, po které je Nádoba na Stanovišti přistavena,</li><li>vyhodnocována jsou pouze aktivní přiřazení nádoby ke stanovišti.</li></ul><p>Poznámka:</p><ul><li>Je možné specifikovat přiřazení nádoby ke stanovišti, které není v rámci vyhodnocování bráno v potaz (např. volání tohoto UC při editaci přiřazení).</li><li>Nesmí tedy existovat 2 přiřazení nádoby ke stanovišti, která se odkazující na stejné instance (Nádoba, Stanoviště) a která by se prolínala obdobím svého přistavení.</li></ul><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="#" data-page-title="Přehled aktérů"></a>.</p><h1>Spuštění případů užití</h1><p>Uživatel zadá požadavek na získání informace o existenci duplicitního přiřazení nádoby ke stanovišti, a to jedním z uvedených způsobů:</p><ul><li>Uživatel zadá požadavek na získání informace o existenci duplicitního přiřazení při vytváření přiřazení nádoby ke stanovišti (viz <a href="#" data-page-title="304UC01: Založit přiřazení nádoby ke stanovišti"></a>).</li><li>Uživatel zadá požadavek na získání informace o existenci duplicitního přiřazení při upravení přiřazení nádoby ke stanovišti (viz <a href="#" data-page-title="304UC02: Upravit přiřazení nádoby ke stanovišti"></a>).</li></ul><p>Poznámka: Uvedené případy užití jsou volány až v rámci akce na uživatelském rozhraní, uživatel je tedy nevolá nepřímo. </p><h2>Vstupní podmínky</h2><p>–</p><h2>Vstupní data</h2><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Zkoumané přiřazení1</td><td colspan="1"><a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a></td><td colspan="1">Ano</td><td colspan="1">Přiřazení nádoby ke stanovišti, u kterého dochází k vyhodnocení duplicity.</td><td colspan="1">Na vstupu jsou získány hodnoty <strong>nesystémových</strong> atributů této entity.</td></tr><tr><td colspan="1">Vyloučené přiřazení2</td><td colspan="1"><a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a></td><td colspan="1">Ne</td><td colspan="1">Přiřazení nádoby ke stanovišti, které je vyňato z vyhodnocení duplicity.</td><td colspan="1">Na vstupu je získána instance této entity, případně její identifikace.</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Pokud existuje alespoň jedna instance entity <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a>, která splňuje všechny dále uvedené podmínky, je na výstupu předána hodnota TRUE.<br><ul><li>Nejedná se o <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a>2 získané na vstupu UC, které má být vyjmuto (pokud není hodnota k dispozici, není podmínka vyhodnocována).</li><li>Hodnota atributu Je aktivní je rovna TRUE.</li><li>Hodnota atributu Nádoba je rovna hodnotě stejného atributu u <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a>1 získaného na vstupu UC.</li><li>Hodnota atributu Stanoviště je rovna hodnotě stejného atributu u <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a>1 získaného na vstupu UC.</li><li>Období přistavení zkoumaného a na vstupu získaného <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a>1 se prolíná – viz <a href="403uc03-93586376.html">ALG01: Porovnání období přistavení</a> (výsledkem je hodnota TRUE).</li></ul></li><li>Jinak je na výstupu předána hodnota FALSE.</li></ol><h1>Alternativní toky události</h1><p>–</p><h1>Výjimkové toky událostí</h1><p>–</p><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Byla předána informace o existenci duplicitního přiřazení nádoby ke stanovišti pro na vstupu získanou instanci.</p><h2>Výstupní data</h2><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Je duplicitní</td><td colspan="1">Boolean</td><td colspan="1">Ano</td><td colspan="1">Informace, zde existuje duplicitní <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a>.</td><td colspan="1">Hodnota TRUE je vrácena v případě, kdy je nalezeno duplicitní <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a>.</td></tr></tbody></table><h1>Algoritmy</h1><h2>ALG01: Porovnání období přistavení</h2><p>Poznámka: Algoritmus je používán i samostatně! S tím je nutné počítat při jeho změnách. Volání se vyskytuje na těchto místech:</p><ul><li><a href="403uc01-93257974.html">VAL03: Kontrola existence přiřazení nádoby na stanoviště</a> (viz <a href="#" data-page-title="403UC01: Zobrazit formulář přiřazení nádoby ke stanovišti"></a>),</li><li><a href="403uc01-93257974.html">VAL04: Kontrola existence přiřazení nádoby</a> (viz <a href="#" data-page-title="403UC01: Zobrazit formulář přiřazení nádoby ke stanovišti"></a>),</li><li><a href="../304ucxx-sprava-dat-vazby/304uc01-93586360.html">EF08: Nádoba je již přiřazena k jinému stanovišti</a> (viz <a href="#" data-page-title="304UC01: Založit přiřazení nádoby ke stanovišti"></a>),</li><li><a href="../304ucxx-sprava-dat-vazby/304uc02-93586363.html">EF09: Nádoba je již přiřazena k jinému stanovišti</a> (viz <a href="#" data-page-title="304UC02: Upravit přiřazení nádoby ke stanovišti"></a>).</li></ul><p>V rámci algoritmu dochází k vyhodnocení, zda se dvojice zkoumaných <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a> z pohledu jejich období přistavení prolíná. Výsledkem pak může být jedna z uvedených hodnot:</p><ul><li><strong>TRUE</strong>: zkoumaná <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a> se prolínají (dochází k překryvu jejich období přistavení a z tohoto pohledu se jedná o duplicitu, pokud jsou splněny další podmínky).</li><li><strong>FALSE</strong>: zkoumaná <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a> se neprolínají (nedochází k překryvu jejich období přistavení a z tohoto pohledu se nejedná o duplicitu).</li></ul><p>Samotné porovnání lze pak rozdělit na 2 skupiny, a to dle nastaveného období přistavení výchozího <a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a> (získáno na vstupu UC):</p><ul><li>omezené období přistavení – je nestavena hodnota atributu Datum přistavení i Datum stažení,</li><li>neomezené období přistavení – je nastavena pouze hodnota atributu Datum přistavení.</li></ul><p>Dále jsou pak uvedeny jednotlivé podmínky pro vyhodnocení překryvu, a to pro obě zmíněné skupiny. Dojde-li ke splnění alespoň jedné podmínky v rámci odpovídající skupiny, je na výstupu algoritmu předána hodnota TRUE (<a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a> se prolínají). V opačném případě je předána hodnota FALSE (<a href="../../../datove-modely/datovy-88033012.html">Přiřazení nádoby ke stanovišti</a> se neprolínají).</p><table><tbody><tr><th>Výchozí přiřazení</th><th>Porovnávané přiřazení – podmínka</th><th>Stručný popis</th></tr><tr><td rowspan="2"><ul><li>Datum přistavení: D1</li><li>Datum stažení: D2</li></ul></td><td><ul><li>Datum přistavení: D3 je menší než D2</li><li>Datum stažení: není k dispozici</li></ul></td><td>Období přistavení porovnávaného přiřazení nádoby ke stanovišti začíná před koncem toho výchozího a je neomezené. Datum stažení výchozího přiřazení nádoby ke stanovišti není nutné porovnávat.</td></tr><tr><td><ul><li>Datum přistavení: D3 je menší než D2</li><li>Datum stažení: D4 je větší než D1</li></ul></td><td>Období přistavení porovnávaného přiřazení nádoby ke stanovišti začíná kdekoliv před koncem výchozího přiřazení nádoby ke stanovišti a zároveň končí po začátku období přistavení výchozího přiřazení nádoby ke stanovišti.</td></tr><tr><td rowspan="2"><ul><li>Datum přistavení: D1</li><li>Datum stažení: není k dispozici</li></ul></td><td><ul><li>Datum přistavení: D3</li><li>Datum stažení: není k dispozici</li></ul></td><td>U obou přiřazení nádoby ke stanovišti je nastavena neomezené období přistavení. Datum přistavení není nutné porovnávat.</td></tr><tr><td><ul><li>Datum přistavení: D3</li><li>Datum stažení: D4 je větší než D1</li></ul></td><td>Období přistavení porovnávaného přiřazení nádoby ke stanovišti končí po začátku výchozího přiřazení nádoby ke stanovišti. Datum přistavení porovnávaného přiřazení nádoby ke stanovišti není nutné porovnávat.</td></tr></tbody></table><h1>Validace</h1><p>–</p><h1>Uživatelské rozhraní</h1><p>–</p><h1>Grafický návrh</h1><p>–</p><h1>Revize</h1><h2>4. 7. 2023: Tomáš Nadrchal</h2><p>Revize způsobu vyhodnocení časových intervalů (viz <a href="403uc03-93586376.html">ALG01: Porovnání období přistavení</a>, naznačeno modře). Nově pracujeme s polouzavřenými intervaly – začátek platnosti je součástí intervalu, jeho konec již ne.</p><p><img src="403uc03-93586376_images/image2023-7-4 8-32-46.png" data-attachment="true"></p><h2>15. 2. 2021: Tomáš Nadrchal</h2><p>Došlo ke změně názvu případu užití (dříve 403UC03: Získat informaci o existenci duplicitního přiřazení) i jeho významu.</p><table><tbody><tr><th>Odkaz</th><th>Stručný popis změny</th></tr><tr><td colspan="1"><a href="403uc03-93586376.html">Stručný popis, cíl</a></td><td colspan="1">Provedeny změny způsobené revizí datového modelu (naznačeno modře).</td></tr><tr><td colspan="1"><a href="403uc03-93586376.html">Spuštění případů užití</a></td><td colspan="1">Provedeny změny způsobené revizí datového modelu (naznačeno modře).</td></tr><tr><td colspan="1"><a href="403uc03-93586376.html">Vstupní data</a></td><td colspan="1">Provedeny změny způsobené revizí datového modelu (naznačeno modře).</td></tr><tr><td colspan="1"><a href="403uc02-93585929.html">Základní tok událostí</a></td><td colspan="1">Provedeny změny způsobené revizí datového modelu (naznačeno modře).</td></tr><tr><td colspan="1"><p><a href="403uc03-93586376.html">Výstupní podmínky</a></p></td><td colspan="1"><p>Provedeny změny způsobené revizí datového modelu (naznačeno modře).</p></td></tr><tr><td colspan="1"><a href="403uc03-93586376.html">Výstupní data</a></td><td colspan="1">Provedeny změny způsobené revizí datového modelu (naznačeno modře).</td></tr><tr><td colspan="1"><a href="403uc03-93586376.html">ALG01: Porovnání období přistavení</a></td><td colspan="1">Provedeny změny způsobené revizí datového modelu, změna názvu algoritmu (naznačeno modře).</td></tr></tbody></table>
</div>
</body>
</html>
