<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>307UC01: Provést validaci nádoby bez ohledu na provozovnu</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je validace nádoby – vyhodnocení její jedinečnosti dle dílčích atributů bez ohledu na provozovnu:</p><ul><li><strong>Evidenční číslo</strong>: funkce <strong>containerCompanyEvidenceNumber</strong> (viz <a href="../../../datove-modely/datovy-88033012.html">Zákaznické validační kritérium</a>).</li><li><strong>Interní číslo</strong>: funkce <strong>containerCompanyInternalNumber</strong> (viz <a href="../../../datove-modely/datovy-88033012.html">Zákaznické validační kritérium</a>).</li></ul><p>Validace je pak prováděna pouze pro nádoby, které splňují určité podmínky (obvykle se jedná o nádoby, které mají vyražené evidenční číslo již z výroby).</p><p>Poznámka: Validace je prováděna nad rámec běžných validací.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="#" data-page-title="Přehled aktérů"></a>.</p><h1>Spuštění případů užití</h1><p>Uživatel zadá požadavek na provedení validace evidenčního čísla bez ohledu na provozovnu, a to jedním z uvedených způsobů:</p><ul><li>Uživatel zadá požadavek na založení nové nádoby (viz <a href="../301ucxx-sprava-dat-nadoby/301uc01-88036162.html">301UC01: Založit nádobu</a>).</li><li>Uživatel zadá požadavek na editaci existující nádoby (viz <a href="../301ucxx-sprava-dat-nadoby/301uc02-88036163.html">301UC02: Upravit nádobu</a>).</li></ul><h2>Vstupní podmínky</h2><p>Vstupní podmínky jsou vyhodnocovány v rámci nadřazeného UC (viz <a href="307uc01-120751861.html">Spuštění případů užití</a>).</p><h2>Vstupní data</h2><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1"><a href="../../../datove-modely/datovy-88033012.html">Nádoba</a></td><td colspan="1">Reference</td><td colspan="1">Ano</td><td colspan="1">Nádoba, u které má být provedena validace.</td><td colspan="1">–</td></tr></tbody></table><h1>Základní tok událostí</h1><p>Systém vyhodnotí, zda má být pro na vstupu získanou <a href="../../../datove-modely/datovy-88033012.html">Nádobu</a> prováděna validace evidenčního čísla. Pokud ano, provede ji. V opačném případě k validaci nedochází.</p><ol><li>Systém získá taková <a href="../../../datove-modely/datovy-88033012.html">Zákaznická validační kritéria</a>, která splňují všechny dále uvedené podmínky zároveň:<br><ol><li>Hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Název funkce</strong> je nastaven na jednu z uvedených hodnot: <strong>containerCompanyEvidenceNumber</strong>, <strong>containerCompanyInternalNumber</strong>.<br><ul><li><em>Může dojít ke spuštění <a href="307uc01-120751861.html">AF01: Nebylo získáno žádné validační kritérium</a> (validace tohoto typu není požadována)</em><em>.</em></li></ul></li></ol></li><li>Pro všechna získaná <a href="../../../datove-modely/datovy-88033012.html">Zákaznická validační kritéria</a> (viz krok <strong>1</strong>):<br><ol><li>Systém zpracuje právě zkoumané <a href="../../../datove-modely/datovy-88033012.html">Zákaznické validační kritérium</a> (viz <a href="307uc01-120751861.html">ALG01: Struktura validačního kritéria</a>).</li><li>Systém vyhodnotí na vstupu získanou <a href="../../../datove-modely/datovy-88033012.html">Nádobu</a> (vstupní parametr <strong>Nádoba</strong>) dle právě zkoumaného <a href="../../../datove-modely/datovy-88033012.html">Zákaznického validačního kritéria</a>:<br><ol><li>Pokud <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> splňuje <a href="../../../datove-modely/datovy-88033012.html">Zákaznické validační kritérium</a>, je provedena její validace:<br><ol><li>Systém získá takové <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a>, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Nejedná se o na vstupu získanou <a href="../../../datove-modely/datovy-88033012.html">Nádobu</a>.<br></li><li>Hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Stav</strong> není nastavena na hodnotu <strong>Vyřazená</strong> (viz <a href="../../../datove-modely/datovy-88033012.html">Stav nádoby</a>).</li><li>Dle funkce právě zkoumaného <a href="../../../datove-modely/datovy-88033012.html">Zákaznického validačního kritéria</a> (atribut <strong>Název funkce</strong>) jsou vyhodnoceny další podmínky:<br><ul><li><strong>containerCompanyEvidenceNumber</strong>: Hodnota atributu <strong>Evidenční číslo</strong> nebo <strong>Interní číslo</strong> odpovídá hodnotě atributu <strong>Evidenční číslo</strong> na vstupu získané <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a>.</li><li><strong>containerCompanyInternalNumber</strong>: Hodnota atributu <strong>Evidenční číslo</strong> nebo <strong>Interní číslo</strong> odpovídá hodnotě atributu <strong>Interní číslo</strong> na vstupu získané <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a>.</li></ul></li></ul></li><li>Pokud je nalezena alespoň jedna <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> (viz předchozí krok):<br><ol><li>Systém provede nastavení výstupních parametrů následovně:<br><ul><li><strong>Výsledek kontroly</strong>: předána hodnota <strong>FALSE</strong> (odpovídající <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> není z pohledu tohoto UC validní).</li><li><strong>Systémové hlášení</strong>: odpovídá právě zkoumanému <a href="../../../datove-modely/datovy-88033012.html">Zákaznickému validačnímu kritériu</a> (atribut <strong>Název funkce</strong>):<br><ul><li><strong>containerCompanyEvidenceNumber</strong>: předána hodnota <strong>MSG_ERR_CUSTOMER_VALIDATION_CONTAINER_COMPANY_EVIDENCE_NUMBER</strong> (viz <a href="../../../systemova-88033342.html">Systémová hlášení</a>).</li><li><strong>containerCompanyInternalNumber</strong>: předána hodnota <strong>MSG_ERR_CUSTOMER_VALIDATION_CONTAINER_COMPANY_INTERNAL_NUMBER</strong> (viz <a href="../../../systemova-88033342.html">Systémová hlášení</a>).</li></ul></li></ul></li><li><strong>Případ užití končí</strong> (na vstupu získaná <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a><strong>není</strong> z pohledu tohoto UC validní).</li></ol></li><li>Jinak žádná taková <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> nalezena nebyla.<br><ol><li>Systém pokračuje dalším <a href="../../../datove-modely/datovy-88033012.html">Zákaznickým validačním kritériem</a> (přechod na krok <strong>2</strong>).</li></ol></li></ol></li><li>Jinak <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> právě zkoumané <a href="../../../datove-modely/datovy-88033012.html">Zákaznické validační kritérium</a> nesplňujeme<br><ol><li>Systém pokračuje dalším <a href="../../../datove-modely/datovy-88033012.html">Zákaznickým validačním kritériem</a> (přechod na krok <strong>2</strong>).</li></ol></li></ol></li></ol></li><li>Systém provede nastavení výstupních parametrů (na vstupu získaná <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> je z pohledu tohoto UC validní):<br><ul><li><strong>Výsledek kontroly</strong>: předána hodnota <strong>TRUE</strong> (odpovídající <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> je z pohledu tohoto UC validní).</li><li><strong>Systémové hlášení</strong>: není předána žádná hodnota (NULL).</li></ul></li></ol><p>Poznámka: Při validaci nádoby tedy evidenční číslo porovnáváme jak oproti evidenčnímu, tak internímu číslu ostatních nádob. Zajímají nás pak všechny nevyřazené aktivní nádoby bez ohledu na provozovnu. Stejná logika je použita také při validaci interního čísla.</p><h1>Alternativní toky událostí</h1><h2>AF01: Nebylo získáno žádné validační kritérium</h2><p>Situace, kdy není dostupné žádné <a href="../../../datove-modely/datovy-88033012.html">Zákaznické validační kritérium</a> pro tento UC. U daného zákazníka tedy není validace tohoto typu požadována.</p><h3>Vstupní podmínky</h3><ul><li>Nebylo získáno žádné <a href="../../../datove-modely/datovy-88033012.html">Zákaznické validační kritérium</a>.</li></ul><h3>Tok událostí</h3><ol><li>Alternativní tok událostí začíná krokem <strong>1</strong> základního toku událostí.</li><li>Systém provede nastavení výstupních parametrů:<br><ul><li><strong>Výsledek kontroly</strong>: předána hodnota <strong>TRUE</strong> (odpovídající <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> je z pohledu tohoto UC validní).</li><li><strong>Systémové hlášení</strong>: není předána žádná hodnota (NULL).</li></ul></li><li><strong>Případ užití končí.</strong></li></ol><h3>Výstupní podmínky</h3><ul><li>Došlo k nastavení výstupních parametrů tohoto UC. Ten byl předčasně ukončen.</li></ul><h1>Výjimkové toky událostí</h1><p>–</p><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Byla provedena validace na vstupu získané <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a>, na výstupu UC pak byl předán výsledek této kontroly (případně také odpovídající chybové hlášení).</p><h2>Výstupní data</h2><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Výsledek kontroly</td><td colspan="1">Boolean</td><td colspan="1">Ano</td><td colspan="1">Informace, zda je prověřovaná <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> validní (z pohledu tohoto UC).</td><td colspan="1">Pokud je <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> validní, je předána hodnota <strong>TRUE</strong>.</td></tr><tr><td colspan="1">Systémové hlášení</td><td colspan="1">Řetězec</td><td colspan="1">Ne</td><td colspan="1">Systémové hlášení související s prováděnou validací.</td><td colspan="1">Předáno pro nevalidní <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a> (v rámci parametru <strong>Výsledek kontroly</strong> předána hodnota <strong>FALSE</strong>).</td></tr></tbody></table><h1>Algoritmy</h1><h2>ALG01: Struktura validačního kritéria</h2><p>Při validaci nás zajímají pouze takové <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a>, které splňují určitá kritéria. Dílčí podmínky jsou pak uvedeny v rámci odpovídajícího <a href="../../../datove-modely/datovy-88033012.html">Zákaznického validačního kritéria</a>.</p><ul><li>Název kritéria: <strong>containerCompanyEvidenceNumber</strong> (odpovídá atributu <strong>Název funkce</strong>).</li><li>Četnost: Může existovat více záznamů s tímto názvem (postačuje splnění alespoň jednoho z nich – <strong>OR</strong>).</li></ul><p>Nyní si popíšeme strukturu tohoto kritéria, s tou budeme dále pracovat v rámci tohoto UC (odpovídá atributu <strong>Validační kritérium</strong>).</p><ul><li><strong>operator</strong>– způsob vyhodnocení dílčích kritérií (1..N), které může nabývat těchto hodnot:<ul><li><strong>AND</strong> – nutné splnění všech obsažených kritérií současně.</li><li><strong>OR</strong> – postačuje splnění alespoň jednoho z kritérií.</li></ul></li><li><strong>criterions</strong> – dílčí kritéria v rámci daného <a href="../../../datove-modely/datovy-88033012.html">Zákaznického validačního kritéria</a>.</li></ul><p>Na úrovni dílčího kritéria je dostupný seznam podmínek (1..N). Splněny pak musí být všechny obsažené podmínky současně – AND. Struktura je následující…</p><ul><li><strong>attribute</strong> – název atributu, oproti kterému jsou vyhodnocovány dílčí podmínky.</li><li><strong>conditions</strong> – dílčí podmínky, které jsou vyhodnocovány v rámci hodnoty daného atributu.</li></ul><p>Dílčí podmínky (položka <strong>conditions</strong>) pak mohou být různého typu. Jejich strukturu si nyní popíšeme:</p><ul><li><strong>operator</strong> – konkrétní podmínka, která je v rámci hodnoty daného atributu vyhodnocována.</li><li><strong>value</strong> – specifikace hodnoty vyhodnocované v rámci podmínky (oproti hodnotě daného atributu).</li></ul><p>Podporovány jsou pak v tabulce uvedené typy podmínek (položka <strong>operator</strong>).</p><ul><li><em>Dostupné podmínky (položka <strong>operator</strong>) musí odpovídat datovému typu sledovaného atributu (položka <strong>attribute</strong>).</em></li><li><em>Datový typ hodnoty (položka <strong>value</strong>) pak musí odpovídat jak konkrétní podmínce (položka <strong>operator</strong>), tak datovému typu sledovaného atributu (položka <strong>attribute</strong>).</em></li></ul><table><tbody><tr><th>Operator</th><th>Value (datový typ)</th><th>Popis</th><th>Poznámka</th></tr><tr><td>startWith</td><td>Řetězec</td><td>Hodnota sledovaného atributu začíná uvedeným řetězcem.</td><td>Sledovaný atribut musí být textový řetězec.</td></tr><tr><td colspan="1">endWith</td><td colspan="1">Řetězec</td><td colspan="1">Hodnota sledovaného atributu končí uvedeným řetězcem.</td><td colspan="1">Sledovaný atribut musí být textový řetězec.</td></tr><tr><td>length</td><td>Celé číslo</td><td>Hodnota sledovaného atributu má uvedenou délku.</td><td>Sledovaný atribut musí být textový řetězec.</td></tr><tr><td colspan="1">contains</td><td colspan="1">Řetězec</td><td colspan="1">Hodnota sledovaného atributu obsahuje uvedený řetězec.</td><td colspan="1">Sledovaný atribut musí být textový řetězec.</td></tr><tr><td colspan="1">equal</td><td colspan="1">Řetězec</td><td colspan="1">Hodnota sledovaného atributu je stejná jako uvedený řetězec.</td><td colspan="1">Sledovaný atribut musí být textový řetězec.</td></tr><tr><td colspan="1">notEqual</td><td colspan="1">Řetězec</td><td colspan="1">Hodnota sledovaného atributu je různý než uvedený řetězec.</td><td colspan="1">Sledovaný atribut musí být textový řetězec.</td></tr></tbody></table><p>Struktura kritéria je pak zaznačena na příkladu…</p><h1>Validace</h1><p>–</p><h1>Uživatelské rozhraní</h1><p>–</p><h1>Grafický návrh</h1><p>–</p><h1>Revize</h1><h2>10. 6. 2025: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></div></div></div></div></div></th><th>Stručný popis změny</div></div></div></div></div></div></th></tr><tr><td colspan="1"><a href="307uc01-120751861.html">Základní tok událostí</a></td><td colspan="1"><p>Revize validací evidenčního a interního čísla nádoby (naznačeno modře).</p></td></tr></tbody></table><h2>19. 5. 2025: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></div></div></div></div></div></th><th>Stručný popis změny</div></div></div></div></div></div></th></tr><tr><td colspan="1"><a href="307uc01-120751861.html">Základní tok událostí</a></td><td colspan="1"><p>Revize způsobu, jakým je vyhodnoceno odpovídající chybové hlášení (naznačeno modře).</p></td></tr></tbody></table>
</div>
</body>
</html>
