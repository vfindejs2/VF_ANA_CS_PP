<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>400UC23: Vyhodnotit dostupnost hmotnosti u výsypu nádoby</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je vyhodnocení, zda je pro konkrétního uživatele dostupná informace o hmotnosti v rámci daného výsypu nádoby. Pracujeme pak s 2 typy uživatelů…</p><ul><li><strong>Běžný uživatel</strong> – uživatel vytvořený pro interního zaměstnance společnosti, který pracuje s aplikací.</li><li><strong>Externí zákazník</strong> – uživatel vytvořený pro zajištění přístupu 3. stranám do aplikace (např. zástupci města, kterým je dodávána služba).</li></ul><p>Nově pak může být dostupnost hmotnosti výsypu vyhodnocována také na úrovni konkrétního záznamu. Pro zachování přehlednosti je princip fungování uveden v rámci tohoto UC.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="#" data-page-title="Přehled aktérů"></a>.</p><h1>Spuštění případů užití</h1><p>Uživatel zadá požadavek na vyhodnocení dostupnosti hmotnosti u výsypu nádoby, a to jedním z uvedených způsobů:</p><ul><li>Uživatel zadá požadavek vyžadující poskytnutí výsypů nádob pro externí zákazníky (viz <a href="#" data-page-title="400UC19: Získat výsypy nádoby pro externí zákazníky">400UC19: Získat výsypy nádoby pro externí zákazníky</a>).</li><li>Uživatel zadá požadavek na export tiskové sestavy s výsypy nádob pro externí zákazníky (viz <a href="#" data-page-title="404UC04: Vytisknout sestavu Výsypy nádob za zvolené období pro externí zákazníky">404UC04: Vytisknout sestavu Výsypy nádob za zvolené období pro externí zákazníky</a>).</li><li>Uživatel zadá požadavek na zobrazení detailu nádoby pro externí zákazníky (viz <a href="#" data-page-title="400UC16: Zobrazit detail nádoby pro externí zákazníky">400UC16: Zobrazit detail nádoby pro externí zákazníky</a>).</li><li>Uživatel zadá požadavek na zobrazení přehledu s výsypy nádoby pro externí zákazníky(viz <a href="#" data-page-title="400UC17: Zobrazit výsypy nádoby pro externí zákazníky">400UC17: Zobrazit výsypy nádoby pro externí zákazníky</a>).</li></ul><h2>Vstupní podmínky</h2><p>Ke spuštění případu užití jsou nutná následující oprávnění na typ entit (viz <a href="../../../uzivatelska-88033399.html">Uživatelská oprávnění a role</a>):</p><ul><li>Alespoň jedno z uvedených oprávnění: Nádoby - zobrazení, Nádoby - modifikace.</li></ul><h2>Vstupní data</h2><p>Poznámka: Pro vyhodnocení dostupnosti hmotnosti u výsypu nádoby je postačující znalost právě přihlášeného <a href="../../../datove-modely/datovy-88033012.html">Uživatele</a>  (ten spouští tento UC).</p><h1>Základní tok událostí</h1><ol><li>Systém vyhodnotí, zda je právě přihlášený <a href="../../../datove-modely/datovy-88033012.html">Uživatel</a> externím zákazníkem → je nalezen alespoň jeden záznam entity <a href="../../../datove-modely/datovy-88033012.html">Nastavení externího zákazníka</a> splňující všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Uživatel</strong> odpovídá právě přihlášenému <a href="../../../datove-modely/datovy-88033012.html">Uživateli</a>.</li></ul></li><li>Pokud je právě přihlášený <a href="../../../datove-modely/datovy-88033012.html">Uživatel</a> externím zákazníkem, je vyhodnocena dostupnost zobrazení hmotnosti v rámci <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a> dle získaného nastavení externího zákazníka.<br><ul><li>Hodnota výstupního parametru <strong>Je k dispozici</strong> je nastavena na hodnotu atributu <strong>Je zobrazena hmotnost výsypů nádob</strong> nalezeného <a href="../../../datove-modely/datovy-88033012.html">Nastavení externího zákazníka</a> (viz krok 1).<br><ul><li>Hodnota výstupního parametru <strong>Je k dispozici</strong> může být dále omezena atributem <strong>Dostupnost hmotnosti výsypů nádob</strong> nalezeného <a href="../../../datove-modely/datovy-88033012.html">Nastavení externího zákazníka</a> (viz <a href="400uc23-114463467.html">ALG01: Vyhodnocení dostupnosti hmotnosti na úrovni výsypu</a>).</li></ul></li></ul></li><li>Jinak právě přihlášený <a href="../../../datove-modely/datovy-88033012.html">Uživatel</a> externím zákazníkem není – takový <a href="../../../datove-modely/datovy-88033012.html">Uživatel</a> má oprávnění na zobrazení hmotnosti v rámci <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a>.<br><ul><li>Hodnota výstupního parametru <strong>Je k dispozici</strong> je nastavena na <strong>TRUE</strong>.</li></ul></li></ol><p>Poznámka: Hmotnost v rámci <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a> tedy vidí buď interní uživatelé, nebo uživatelé typu externí zákazník, kteří mají zobrazení hmotnosti povolené. Dostupnost hmotnosti může být pro externí zákazníky omezena také na úrovni konkrétního výsypu – to probíhá pouze v případě, že je hmotnost dostupná dle předchozí podmínky.</p><p><em>Původní chování (následně smazat):</em></p><ol><li>Systém vyhodnotí, zda je právě přihlášený <a href="../../../datove-modely/datovy-88033012.html">Uživatel</a> externím zákazníkem → je nalezen alespoň jeden záznam entity <a href="../../../datove-modely/datovy-88033012.html">Nastavení externího zákazníka</a> splňující všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Uživatel</strong> odpovídá právě přihlášenému <a href="../../../datove-modely/datovy-88033012.html">Uživateli</a>.</li></ul></li><li>Pokud je právě přihlášený <a href="../../../datove-modely/datovy-88033012.html">Uživatel</a> externím zákazníkem, je vyhodnocena dostupnost zobrazení hmotnosti v rámci <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a> dle získaného nastavení externího zákazníka.<br><ol><li>Pokud není hodnota atributu <strong>Dostupnost hmotnosti výsypů nádob</strong> nalezeného <a href="../../../datove-modely/datovy-88033012.html">Nastavení externího zákazníka</a> (viz krok 1) k dispozici.<br><ul><li>Hodnota výstupního parametru <strong>Je k dispozici</strong> je nastavena na <strong>FALSE</strong>.<br></li></ul></li><li>Jinak dochází k vyhodnocení hodnoty nastavené v rámci atributu <strong>Dostupnost hmotnosti výsypů nádob</strong> nalezeného <a href="../../../datove-modely/datovy-88033012.html">Nastavení externího zákazníka</a> (viz krok 1):<br><ol><li>Pokud jsou splněny obě dále uvedené podmínky současně, je hodnota výstupního parametru <strong>Je k dispozici</strong> nastavena na <strong>TRUE</strong>.<br><ul><li>Dnešní datum je větší nebo rovno hodnotě parametru <strong>dateFrom</strong> (viz <a href="../../../datove-modely/datovy-88033012.html">Struktura pro dostupnost hmotnosti výsypů nádob</a>).</li><li>Dnešní datum je menší nebo rovno hodnotě parametru <strong>dateTo</strong> (viz <a href="../../../datove-modely/datovy-88033012.html">Struktura pro dostupnost hmotnosti výsypů nádob</a>).</li><li><em>Pokud není hodnota některého z parametrů k dispozici, není vyhodnocována ani odpovídající podmínka – je považována za splněnou (viz dále).</em> </li></ul></li><li>Jinak je hodnota výstupního parametru <strong>Je k dispozici</strong> nastavena na <strong>FALSE</strong>.</li></ol></li></ol></li><li>Jinak právě přihlášený <a href="../../../datove-modely/datovy-88033012.html">Uživatel</a> externím zákazníkem není – takový <a href="../../../datove-modely/datovy-88033012.html">Uživatel</a> má oprávnění na zobrazení hmotnosti v rámci <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a>.<br><ul><li>Hodnota výstupního parametru <strong>Je k dispozici</strong> je nastavena na <strong>TRUE</strong>.</li></ul></li></ol><p>V rámci vyhodnocení porovnáváme dnešní datum oproti nastavenému období na úrovni specifikace.</p><ul><li>Pokud jsou zadány obě meze daného období, musí se dnešní datum vyskytovat uvnitř tohoto intervalu.</li><li>Pokud je dostupná pouze jedna z mezí daného období, jedná se o neuzavřené období (vyhodnocujeme pouze podmínku pro dostupný parametr).</li><li>Pokud není zadána hodnota pro ani jednu z mezí, pracujeme s neomezeným obdobím (jedná se o situaci, kdy je <strong>dateFrom</strong> i <strong>dateTo</strong> nastaven na NULL).</li></ul><p>Poznámka: Hmotnost v rámci <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a> tedy vidí buď interní uživatelé, nebo uživatelé typu externí zákazník, kteří mají zobrazení hmotnosti povolené.</p><h1>Alternativní toky událostí</h1><p>–</p><h1>Výjimkové toky událostí</h1><p>–</p><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Byla předána informace, zda je pro právě přihlášeného uživatele k dispozici hmotnost v rámci <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a>.</p><h2>Výstupní data</h2><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Je k dispozici</td><td colspan="1">Boolean</td><td colspan="1">Ano</td><td colspan="1">Pokud má být uživateli zobrazena hmotnosti v rámci <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a>, je předána hodnota TRUE (v opačném případně hodnota FALSE).</td><td colspan="1">–</td></tr></tbody></table><h1>Algoritmy</h1><h2>ALG01: Vyhodnocení dostupnosti hmotnosti na úrovni výsypu</h2><p>Cílem algoritmu je vyhodnocení dostupnosti hmotnosti na úrovni jednotlivých <a href="../../../datove-modely/datovy-88033012.html">Událostí výsypů nádob</a>. To probíhá za splnění dále uvedených podmínek. Pokud není některá z nich splněna, nedojde ani ke spuštění algoritmu.</p><ul><li>Právě přihlášený <a href="../../../datove-modely/datovy-88033012.html">Uživatel</a> je externím zákazníkem.</li><li>Hodnotu atributu <strong>Je zobrazena hmotnost výsypů nádob</strong> daného <a href="../../../datove-modely/datovy-88033012.html">Nastavení externího zákazníka</a> je nastavena na <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Dostupnost hmotnosti výsypů nádob</strong> daného <a href="../../../datove-modely/datovy-88033012.html">Nastavení externího zákazníka</a> je k dispozici.<ul><li><em>Pokud není hodnota tohoto atributu k dispozici, není zobrazení hmotnosti výsypů tímto způsobem omezeno.</em></li></ul></li></ul><p>Systém vždy porovná právě zkoumanou <a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a> oproti hodnotě atributu <strong>Dostupnost hmotnosti výsypů nádob</strong> daného <a href="../../../datove-modely/datovy-88033012.html">Nastavení externího zákazníka</a>.</p><ol><li>Pokud jsou splněny všechny dále uvedené podmínky, je hmotnost na úrovni dané <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a> dostupná.<ul><li>Hodnota atributu <strong>Čas</strong> dané <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a> je větší nebo rovna hodnotě <strong>dateFrom</strong> v rámci atributu <strong>Dostupnost hmotnosti výsypů nádob</strong> daného <a href="../../../datove-modely/datovy-88033012.html">Nastavení externího zákazníka</a>.<br><ul><li><em>Pokud není hodnota <strong>dateFrom</strong> k dispozici, není podmínka vyhodnocována – jedná se o zleva neomezené období.</em></li></ul></li><li>Hodnota atributu <strong>Čas</strong> dané <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a> je menší než hodnota <strong>dateTo</strong> v rámci atributu <strong>Dostupnost hmotnosti výsypů nádob</strong> daného <a href="../../../datove-modely/datovy-88033012.html">Nastavení externího zákazníka</a>.<br><ul><li><em>Pokud není hodnota <strong>dateTo</strong> k dispozici, není podmínka vyhodnocována – jedná se o zprava neomezené období.</em></li></ul></li></ul></li><li>V opačném případě hmotnost <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a> dostupná není – místo hodnoty atributu <strong>Hmotnost obsahu</strong> je předáno <strong>NULL</strong>.</li></ol><p>Uvedený algoritmus pak probíhá pro všechny relevantní <a href="../../../datove-modely/datovy-88033012.html">Události výsypů nádob</a> – pro ty právě dostupné odpovídajícímu externímu zákazníkovi.</p><h1>Validace</h1><p>–</p><h1>Uživatelské rozhraní</h1><p>–</p><h1>Grafický návrh</h1><p>–</p><h1>Revize</h1><h2>11. 1. 2026: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny</div></div></div></th></tr><tr><td colspan="1"><a href="400uc23-114463467.html">Stručný popis, cíl</a></td><td colspan="1">Doplněna informace o změně chování (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="400uc23-114463467.html">Základní tok událostí</a></td><td colspan="1">Revize algoritmu pro vyhodnocení dostupnosti hmotnosti u výsypů (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="400uc23-114463467.html">ALG01: Vyhodnocení dostupnosti hmotnosti na úrovni výsypu</a></td><td colspan="1">Doplněn algoritmus pro vyhodnocení výsypu z pohledu dostupnosti jeho hmotnosti (naznačeno růžově).</td></tr></tbody></table><h2>22. 10. 2025: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny</div></div></div></th></tr><tr><td colspan="1"><a href="400uc23-114463467.html">Základní tok událostí</a></td><td colspan="1">Revize algoritmu pro vyhodnocení dostupnosti hmotnosti u výsypů (naznačeno modře).</td></tr></tbody></table>
</div>
</body>
</html>
