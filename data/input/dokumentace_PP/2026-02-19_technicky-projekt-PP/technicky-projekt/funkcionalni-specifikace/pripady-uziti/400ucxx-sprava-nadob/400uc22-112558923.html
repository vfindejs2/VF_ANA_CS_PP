<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>400UC22: Nastavit poslední výsyp nádoby dle nádoby</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je nalezení a přiřazení nejnovější události výsypu k odpovídající nádobě. Cílem této evidence je pak optimalizace výkonu při práci s nádobami.</p><p>Poznámka: Vyhodnocení probíhá dle získané <a href="../../../datove-modely/datovy-88033012.html">Nádoby</a>, typicky tedy při změně záznamu této entity.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Systém</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="#" data-page-title="Přehled aktérů"></a>.</p><h1>Spuštění případů užití</h1><p>Systém zadá požadavek na nastavení posledního výsypu nádoby dle nádoby, a to jedním z uvedených způsobů:</p><ul><li>Systém provede založení nového přiřazení identifikátoru k nádobě (viz <a href="#" data-page-title="304UC10: Založit přiřazení identifikátoru k nádobě"></a>).</li><li>Systém provede editaci stávajícího přiřazení identifikátoru k nádobě (viz <a href="#" data-page-title="304UC11: Upravit přiřazení identifikátoru k nádobě"></a>).</li><li>Systém provede odebrání stávajícího přiřazení identifikátoru k nádobě (viz <a href="#" data-page-title="304UC12: Odebrat přiřazení identifikátoru k nádobě"></a>).</li></ul><p>Poznámka: Spuštění typicky probíhá v návaznosti na synchronizaci výsypů či import z ruční čtečky (v rámci odpovídající transakce).</p><h2>Vstupní podmínky</h2><p>Ke spuštění případu užití jsou nutná následující oprávnění na typ entit (viz <a href="../../../uzivatelska-88033399.html">Uživatelská oprávnění a role</a>):</p><ul><li>Nádoby - modifikace.</li></ul><h2>Vstupní data</h2><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Nádoba</td><td colspan="1"><a href="../../../datove-modely/datovy-88033012.html">Nádoba</a></td><td colspan="1">Ano</td><td colspan="1">Nádoba, u které má být vyhodnocena nejnovější událost výsypu.</td><td colspan="1">–</td></tr><tr><td colspan="1">Zdroj změny</td><td colspan="1"><a href="../../../datove-modely/datovy-88033012.html">Zdroj změny</a></td><td colspan="1">Ano</td><td colspan="1">Zařízení, ve kterém bylo požadováno nastavení posledního výsypu nádoby.</td><td colspan="1">–</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Systém nalezne odpovídající <a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a> – hledá takové <a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a>, které splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu Nádoba odpovídá na vstupu získané <a href="../../../datove-modely/datovy-88033012.html">Nádobě</a> (vstupní parametr Nádoba).<br></li></ul></li><li>Systém nalezne nejnovější <a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a> – samotné hledání je pak složeno z několika kroků:<br><ol><li>Systém nalezne aktuální <a href="../../../datove-modely/datovy-88033012.html">Přiřazení identifikátoru k nádobě</a> – hledá takové <a href="../../../datove-modely/datovy-88033012.html">Přiřazení identifikátoru k nádobě</a>, které splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Nádoba</strong> odpovídá na vstupu získané <a href="../../../datove-modely/datovy-88033012.html">Nádobě</a> (vstupní parametr Nádoba).</li><li>Hodnota atributu <strong>Platnost od</strong> je menší nebo rovna <strong>aktuálnímu času</strong>.</li><li>Hodnota atributu <strong>Platnost do</strong> je větší než nebo rovna <strong>aktuální čas</strong>.<br></li></ul></li><li>Pokud nebylo nalezeno žádné <a href="../../../datove-modely/datovy-88033012.html">Přiřazení identifikátoru k nádobě</a>, systém přejde na <strong>krok 3</strong> (nejnovější <a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a> není dále hledána).</li><li>Systém nalezne nejnovější <a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a> pro získané přiřazení– hledá takovou <a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a>, které splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Kód identifikátoru</strong> je rovna hodnotě atributu <strong>Kód identifikátoru</strong> nalezeného <a href="../../../datove-modely/datovy-88033012.html">Přiřazení identifikátoru k nádobě</a> (viz krok 2.a).</li><li>Hodnota atributu <strong>Čas</strong> je větší nebo rovna hodnotě atributu <strong>Platnost od</strong> nalezeného <a href="../../../datove-modely/datovy-88033012.html">Přiřazení identifikátoru k nádobě</a> (viz krok 2.a).</li><li>Hodnota atributu <strong>Čas</strong> je menší než nebo rovna hodnota atributu <strong>Platnost do</strong> nalezeného <a href="../../../datove-modely/datovy-88033012.html">Přiřazení identifikátoru k nádobě</a> (viz krok 2.a; pokud není hodnota atributu <strong>Platnost do</strong> k dispozici, není podmínka vyhodnocována).</li><li>Hodnota atributu <strong>Čas</strong> je maximální (pokud je k dispozici více záznamů, zajímá nás pouze ten nejnovější).</li></ul></li></ol></li><li>Systém provede nastavení poslední <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a> pro na vstupu získanou <a href="../../../datove-modely/datovy-88033012.html">Nádobu</a> dle dříve získaných informací (viz tabulka).</li></ol><table><tbody><tr><th>Podmínka (operátor AND)</th><th>Stručný popis</th><th>Tok událostí</th><th>Poznámka</th></tr><tr><td><ul><li><a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a> není k dispozici.</li><li><a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a> není k dispozici.</li></ul></td><td>Pro <a href="../../../datove-modely/datovy-88033012.html">Nádobu</a> dosud nebyla evidována poslední <a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a>, zároveň není žádná taková <a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a> k dispozici. Není tedy prováděna žádná další akce.</td><td>–</td><td>–</td></tr><tr><td colspan="1"><ul><li><a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a> je k dispozici.</li><li><a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a> není k dispozici.</li></ul></td><td colspan="1">Pro <a href="../../../datove-modely/datovy-88033012.html">Nádobu</a> již byla evidována poslední <a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a>, aktuálně však žádná taková <a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a> není k dispozici. Je tedy aktualizováno odpovídající <a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a>.</td><td colspan="1"><ol><li>Systém spustí <a href="../301ucxx-sprava-dat-nadoby/301uc11-112558607.html">301UC11: Upravit rozšíření nádoby</a>, na vstup jsou předány následující informace:<br><ul><li>Editované rozšíření nádoby: nalezené <a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a> (viz krok 1).</li><li>Změny v rozšíření nádoby: předány jsou hodnoty nesystémových atributů entity <a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a>:<br><ul><li>Nádoba: hodnota atributu <strong>Nádoba</strong> získaného <a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a> (viz krok 1).</li><li>Poslední událost výsypu: <strong>NULL</strong>.</li><li>Datum a čas poslední události výsypu: <strong>NULL</strong>.</li></ul></li><li>Zdroj změny: <a href="../../../datove-modely/datovy-88033012.html">Zdroj změny</a> získaný na vstupu (vstupní parametr Zdroj změny).</li></ul></li></ol></td><td colspan="1">–</td></tr><tr><td><ul><li><a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a> není k dispozici.</li><li><a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a> je k dispozici.</li></ul></td><td>Pro <a href="../../../datove-modely/datovy-88033012.html">Nádobu</a> dosud nebyla evidována poslední <a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a>, zároveň však již taková <a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a> existuje. Je tedy založeno odpovídající <a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a>.</td><td><ol><li>Systém spustí <a href="../301ucxx-sprava-dat-nadoby/301uc10-112558606.html">301UC10: Založit rozšíření nádoby</a>, na vstup jsou předány následující informace:<br><ul><li>Zakládané rozšíření nádoby: předány jsou hodnoty nesystémových atributů entity <a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a>:<br><ul><li>Nádoba: <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a> získaná na vstupu (vstupní parametr Nádoba).</li><li>Poslední událost výsypu: získaná <a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a> (viz krok 2.c).</li><li>Datum a čas poslední události výsypu: hodnota atribut <strong>Čas</strong> získané <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a> (viz krok 2.c).</li></ul></li><li>Zdroj změny: <a href="../../../datove-modely/datovy-88033012.html">Zdroj změny</a> získaný na vstupu (vstupní parametr Zdroj změny).</li></ul></li></ol></td><td>–</td></tr><tr><td><ul><li><a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a> je k dispozici.</li><li><a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a> je k dispozici.</li></ul></td><td>Pro <a href="../../../datove-modely/datovy-88033012.html">Nádobu</a> již byla evidována poslední <a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a>, současně pak aktuální <a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a> existuje. Je tedy provedena kontrola aktuálnosti odpovídajícího <a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a>.</td><td><ol><li>Pokud hodnota atributu <strong>Poslední událost výsypu</strong> získaného <a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a> (viz krok 1) odpovídá nalezené <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a> (viz krok 2.c), není provedena žádná akce (přiřazení je aktuální).</li><li>Jinak dochází k aktualizaci získaného <a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a> – systém spustí <a href="../301ucxx-sprava-dat-nadoby/301uc11-112558607.html">301UC11: Upravit rozšíření nádoby</a>, na vstup jsou předány následující informace:<br><ul><li>Editované rozšíření nádoby: nalezené <a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a> (viz krok 1).</li><li>Změny v rozšíření nádoby: předány jsou hodnoty nesystémových atributů entity <a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a>:<br><ul><li>Nádoba: hodnota atributu <strong>Nádoba</strong> získaného <a href="../../../datove-modely/datovy-88033012.html">Rozšíření nádoby</a> (viz krok 1).</li><li>Poslední událost výsypu: získaná <a href="../../../datove-modely/datovy-88033012.html">Událost výsypu nádoby</a> (viz krok 2.c).</li><li>Datum a čas poslední události výsypu: hodnota atribut <strong>Čas</strong> získané <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a> (viz krok 2.c).</li></ul></li><li>Zdroj změny: <a href="../../../datove-modely/datovy-88033012.html">Zdroj změny</a> získaný na vstupu (vstupní parametr Zdroj změny).<br></li></ul></li></ol></td><td>Změnou <a href="../../../datove-modely/datovy-88033012.html">Přiřazení identifikátoru k nádobě</a> může dojít k neaktuálnosti poslední <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a>.</td></tr></tbody></table><p>Poznámka: Případy, kdy končí platnost <a href="../../../datove-modely/datovy-88033012.html">Přiřazení identifikátoru k nádobě</a>, není potřeba řešit. K aktualizaci poslední <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a> dochází vždy při vzniku či změně některého ze záznamů této entity.</p><h1>Alternativní toky událostí</h1><p>–</p><h1>Výjimkové toky událostí</h1><p>–</p><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Byla vyhodnocena na vstupu získaná <a href="../../../datove-modely/datovy-88033012.html">Nádoba</a>. Pokud stávající přiřazení <a href="../../../datove-modely/datovy-88033012.html">Události výsypu nádoby</a> není aktuální, došlo k jeho revizi.</p><h2>Výstupní data</h2><p>–</p><h1>Algoritmy</h1><p>–</p><h1>Validace</h1><p>Poznámka: Případné validace jsou prováděny v rámci volaných UC. </p><h1>Uživatelské rozhraní</h1><p>–</p><h1>Grafický návrh</h1><p>–</p><h1>Revize</h1><h2>19. 4. 2024: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny</div></div></th></tr><tr><td colspan="1"><a href="400uc22-112558923.html">Základní tok událostí</a></td><td colspan="1">Revize způsobu vyhodnocení platnosti (naznačeno modře).</td></tr></tbody></table>
</div>
</body>
</html>
