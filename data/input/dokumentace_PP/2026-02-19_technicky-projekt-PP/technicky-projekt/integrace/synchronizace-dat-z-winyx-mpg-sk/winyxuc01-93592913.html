<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>WinyxUC01: Zahájit synchronizaci</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Případ užití zahájí import dat z DB rozhraní na WinyX a zajišťuje orchestraci přenosů jednotlivých entit. </p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Čas</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="#" data-page-title="Přehled aktérů"></a>.</p><h1>Spuštění případů užití</h1><p>UC je spouštěn podle definovaného časového harmonogramu (viz TODO odkaz do konfigurace) automaticky.</p><h2>Vstupní podmínky</h2><p>Existuje konfigurace pro spuštění synchronizace a připojení k DB rozhraní.</p><h2>Vstupní data</h2><p>Čas spuštění posledního úspěšného běhu synchronizace.</p><h1>Základní tok událostí</h1><p>Poznámka: Popis základního toku nereflektuje konkrétní zvolený způsob přenosu. Bude případně upraven, aby odpovídal technickému řešení.</p><ol><li>Systém postupně načítá z DB rozhraní všechny záznamy, které byly změněny od spuštění posledního úspěšného běhu synchronizace. (<a href="winyxuc01-93592913.html">EF01: Chyba čtení dat z databázového rozhraní</a>).</li><li>Pro načtenou dávku záznamů systém zahájí přenos do aplikace Pasport, přičemž dodržuje pořadí přenosů pro jednotlivé entity dle <a href="winyxuc01-93592913.html">ALG01: Pořadí přenosů</a>. V závislosti na typu konkrétní entity systém volá tyto UC a na vstupu jim předá záznamy odpovídající dané entitě:<br><ol><li><a href="#" data-page-title="WinyxUC02: Synchronizovat adresy">WinyxUC02: Synchronizovat adresy</a></li><li><a href="#" data-page-title="WinyxUC03: Synchronizovat zákazníky">WinyxUC03: Synchronizovat zákazníky</a></li><li><a href="#" data-page-title="WinyxUC04: Synchronizovat druhy odpadu">WinyxUC04: Synchronizovat druhy odpadu</a></li><li><a href="#" data-page-title="WinyxUC05: Synchronizovat typy nádob">WinyxUC05: Synchronizovat typy nádob</a></li><li><a href="#" data-page-title="WinyxUC06: Synchronizovat frekvence vývozu">WinyxUC06: Synchronizovat frekvence vývozu</a></li><li><a href="#" data-page-title="WinyxUC07: Synchronizovat základní dny svozu">WinyxUC07: Synchronizovat základní dny svozu</a></li><li><a href="#" data-page-title="WinyxUC08: Synchronizovat smlouvy">WinyxUC08: Synchronizovat smlouvy</a></li><li><a href="#" data-page-title="WinyxUC09: Synchronizovat řádky smluv"></a></li><li><a href="#" data-page-title="WinyxUC10: Synchronizovat pořadí řádků smluv"></a></li><li><a href="#" data-page-title="WinyxUC11: Synchronizovat nádoby pod řádkem smlouvy"></a></li></ol></li><li>Systém aktualizuje hodnotu času spuštění posledního úspěšného běhu synchronizace.</li></ol><h1>Alternativní toky události</h1><p>Nejsou.</p><h1>Výjimkové toky událostí</h1><h3>EF01: Chyba čtení dat z databázového rozhraní</h3><ol><li>Systém zaloguje informaci o chybě čtení dat z DB rozhraní ve struktuře:<br><ul><li>Datum a čas.</li><li>Typ entity.</li><li>Tvar DB dotazu.</li><li>Chybová zpráva.</li></ul></li><li>Konec UC.</li></ol><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Proběhl import nové dávky dat z DB rozhraní do aplikace Pasport. </p><h2>Výstupní data</h2><p>Byl uložen čas spuštění tohoto běhu synchronizace.</p><p>Případné chyby byly zalogovány.</p><h1>Algoritmy</h1><h2>ALG01: Pořadí přenosů</h2><p>Přenosy probíhají dle této sekvence, která respektuje referenční závislosti:</p><table><tbody><tr><th>#</th><th>Entity</th><th colspan="1">Závislosti</th></tr><tr><td rowspan="5">1</td><td><p>Address</p></td><td colspan="1">—</td></tr><tr><td colspan="1">WasteType</td><td colspan="1">—</td></tr><tr><td colspan="1">ContainerType</td><td colspan="1">—</td></tr><tr><td colspan="1">CollectionFrequency</td><td colspan="1">—</td></tr><tr><td colspan="1">CollectionDaysOfWeek</td><td colspan="1">—</td></tr><tr><td>2</td><td>Customer</td><td colspan="1">Address</td></tr><tr><td>3</td><td>CustomerContract</td><td colspan="1">Customer</td></tr><tr><td>4</td><td>ContractItem</td><td colspan="1">CustomerContract, CustomerSite, ContainerType, WasteType, CollectionFrequency, CollectionDaysOfWeek</td></tr><tr><td>5</td><td>ContractItemContainer</td><td colspan="1">ContractItem</td></tr></tbody></table><h1>Validace</h1><p>Nejsou.</p><h1>Revize</h1><h2>DD. MM. 202X: Jméno Příjmení</h2><table><tbody><tr><th>Odkaz</th><th>Stručný popis změny</th></tr></tbody></table>
</div>
</body>
</html>
