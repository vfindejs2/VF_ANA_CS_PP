<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>ID-089: Doplnění nových typů úkonu</title>
</head>
<body>
<div class="wiki-content">
<p>POP-0101/2023</p><p></p><h1>Požadavek</h1><p>Cílem požadavku je doplnění nových typů úkonů, konkrétně se jedná o následující…</p><table><tbody><tr><th>Typ úkonu</th><th>Typ dopravy</th><th>Lokace</th></tr><tr><td>Výměna</td><td><ul><li>Hákový nakladač</li><li>Ramenový nakladač</li></ul></td><td><ol><li><strong>Provozovna</strong>: Vyzvednout nádobu</li><li><strong>Místo realizace</strong>: Umístit nádobu</li><li><strong>Místo realizace</strong>: Vyzvednout nádobu</li><li><strong>Likvidační místo</strong>: Vyprázdnit nádobu (1..N)</li><li><strong>Provozovna</strong>: Umístit nádobu</li></ol></td></tr><tr><td>Přeprava</td><td><ul><li>Hákový nakladač</li><li>Ramenový nakladač</li><li>Valník</li></ul></td><td><ol><li><strong>Místo realizace</strong> (výchozí): Vyzvednout nádobu</li><li><strong>Místo realizace</strong>: Umístit nádobu</li></ol></td></tr></tbody></table><h1>Aktuální stav</h1><p>Uvedené typy úkonu nejsou aktuálně k dispozici, uživatelé v uvedených případech postupují následovně…</p><table><tbody><tr><th>Typ úkonu</th><th>Postup</th><th colspan="1">Poznámka</th></tr><tr><td>Výměna</td><td>Uživatele použijí 2 samostatné úkony – přistavení a odvoz.</td><td colspan="1">Uvedená kombinace úkonů obsahuje stejné lokace. Uživatel však musí pracovat s 2 objednanými službami.</td></tr><tr><td>Přeprava</td><td>Uživatelé použijí úkon manipulace.</td><td colspan="1">Manipulace je ovšem určena pro přemístění nádoby v rámci areálu, nikoliv pro převoz na jiné místo realizace.</td></tr></tbody></table><h1>Návrh řešení</h1><p>Požadavek je nutné řešit hned na několika místech aplikace, my si nyní jednotlivé kroky nutné k jeho realizaci popíšeme…</p><p>Začneme specifikací jednotlivých typů dopravy, v rámci kterých jsou nastaveny dostupné typy úkonů. Změny oproti aktuálnímu chování jsou naznačeny modře.</p><table><tbody><tr><th>Typ dopravy</th><th>Dostupné typy úkonů</th></tr><tr><td>Hákový nakladač</td><td><ul><li>Přistavení,</li><li>Vývoz,</li><li>Výměna,</li><li>Odvoz,</li><li>Přeprava,</li><li>Manipulace.</li></ul></td></tr><tr><td colspan="1">Ramenový nakladač</td><td colspan="1"><ul><li>Přistavení,</li><li>Vývoz,</li><li>Výměna,</li><li>Odvoz,</li><li>Přeprava,</li><li>Manipulace.</li></ul></td></tr><tr><td colspan="1">Frontpress</td><td colspan="1"><ul><li>Sběr.</li></ul></td></tr><tr><td colspan="1">Valník</td><td colspan="1"><ul><li>Sběr,</li><li>Rozvoz,</li><li>Přeprava.</li></ul></td></tr><tr><td>Lisovací vozidlo – pilot</td><td><ul><li>Sběr.</li></ul></td></tr></tbody></table><p> Když máme k dispozici nové typy úkonů, můžeme pokračovat přizpůsobením aplikace jako takové. Prvním místem, kde se novými typy úkonů setkáme, je formulář objednávky.</p><ul><li>Vzhledem k tomu, že v rámci úkonu <strong>Přeprava</strong> nepracujeme s likvidačními místy, musíme zrušit povinnost jejich zadání. Pokud budou obsaženy pouze objednané nádoby s úkony tohoto typu (včetně Manipulace), nebude zadání likvidačního místa povinné (ani zadání druhů odpadu). Uvedené validace jsou řešeny jak na úrovni formuláře objednávky, tak modálního okna pro přidání objednané nádoby. </li><li>S novými úkony pak pracujeme na úrovni objednané nádoby, ty jsou zadávány pomocí samostatného formuláře, ani zde se nevyhneme určitým změnám…<br><ul><li>Jak bylo zmíněné dříve, musíme řešit validace použité v rámci formuláře. Konkrétně povinnost zdání druhu odpadu a likvidačního místa.</li><li>Jednotlivé typy úkonu jsou zobrazeny včetně ikony, proto musíme provést její specifikaci i pro ty nově přidané (viz tabulka dále).</li><li>Pro úkon typu <strong>Přeprava</strong> je nutné zadat výchozí místo realizace, to bude řešeno přidáním tlačítka obdobně jako u <strong>Manipulace</strong>.</li><li>Po stisknutí tohoto tlačítka bude zobrazeno okno pro výběr místa realizace, dostupná budou místa realizace odpovídajícího zákazníka (včetně možností založení nového).</li><li>Bude tedy možné zadat stejné místo realizace, které je nastaveno přímo ve formuláři objednávky.</li></ul></li></ul><table><tbody><tr><th>Typ úkonu</th><th>Ikona</th></tr><tr><td>Výměna</td><td><img src="id-089-doplneni-novych-typu-ukonu-118194499_images/image2024-2-27 16-56-39.png" data-attachment="true"></td></tr><tr><td>Přeprava</td><td><img src="id-089-doplneni-novych-typu-ukonu-118194499_images/image2024-2-27 16-56-55.png" data-attachment="true"></td></tr></tbody></table><p>Po uložení objednávky k realizaci dochází ke generování objednaných služeb. Ani zde nesmíme zapomenout na nové typy úkonu (uvedeno včetně zdroje hodnoty pro jednotlivé lokace objednané služby).</p><table><tbody><tr><th>Typ úkonu</th><th>Dostupné lokace objednané služby</th></tr><tr><td>Výměna</td><td><ol><li><strong>Provozovna</strong>: Vyzvednout nádobu (nastavená provozovna ve skupině <strong>Provozovna</strong>).</li><li><strong>Místo realizace</strong>: Umístit nádobu (nastavené místo realizace ve skupině <strong>Položka objednávky</strong>).</li><li><strong>Místo realizace</strong>: Vyzvednout nádobu (nastavené místo realizace ve skupině <strong>Položka objednávky</strong>).</li><li><strong>Likvidační místo</strong>: Vyprázdnit nádobu (vložená likvidační místa ve <strong>Formuláři objednané nádoby</strong>)</li><li><strong>Provozovna</strong>: Umístit nádobu (nastavená provozovna ve skupině <strong>Provozovna</strong>).</li></ol></td></tr><tr><td>Přeprava</td><td><ol><li><strong>Místo realizace</strong> (výchozí): Vyzvednout nádobu (nastavené místo realizace ve <strong>Formuláři objednané nádoby</strong>).</li><li><strong>Místo realizace</strong>: Umístit nádobu (nastavené místo realizace ve skupině <strong>Položka objednávky</strong>).</li></ol></td></tr></tbody></table><p>Se založenou objednávkou souvisí také další funkčnosti, v rámci kterých musíme doplnit podporu pro nové typy úkonů:</p><ul><li><strong>Tisk objednávky</strong> – v rámci sestavy je zobrazován typ úkonu, musíme tedy rozšířit chování o ty nově přidané.</li><li><strong>Úprava lokací objednané služby</strong> – u nenaplánovaných objednaných služeb je možné modifikovat dílčí lokace.<br><ul><li>Musíme pak upravit specifikaci dostupných změn na úrovni dílčích lokací pro nové typy úkonů.</li><li>Určíme, jaké lokace je možné měnit a jakým způsobem (výběr z číselníku, změna souřadnic…).</li></ul></li><li><em>Další drobné úpravy související s přidáním nových typů úkonu.</em></li></ul><p>Vygenerované objednané služby vkládáme na denní výkony, i v rámci této části aplikace se nevyhneme určitým úpravám:</p><ul><li><strong>Tisk sestavy POVOS</strong> – v rámci sestavy pracujeme s typy úkonu, musíme tedy modifikovat stávající chování:<ul><li>podpora nových typů úkonu při slučování objednaných služeb,</li><li>zobrazení nových typů úkonu ve výsledném PDF souboru.</li></ul></li><li><strong>Obrazovka editace DV</strong> – specifikace, jakým způsobem je prováděna změna adresy dílčích lokací objednané služby.</li><li><em>Další drobné úpravy související s přidáním nových typů úkonu.</em><br></li></ul><p>Nesmíme zapomenou ani na komunikaci s FOB, kde bude také nutné provést určité změny. Ty se týkají především <strong>itineráře trasy</strong>…</p><ul><li>podpora nových typů úkonu při slučování objednaných služeb,</li><li>zobrazení nových typů úkonu ve FOB (rozšíření číselníku).</li></ul><p>Poznámka: Uvedené změny vychází ze skutečnosti, že s výchozím místem pracujeme stejným způsobem jako s tím běžným (např. změna adresy lokace objednané služby na obrazovce plánování – bude prováděna změna souřadnic, nikoliv výběr z číselníku). V opačném případě by musela být provedena revize návrhu řešení.</p><h1>Akceptační testy</h1><p>Pro splnění požadavku musí být splněny následující testovací scénáře.</p><h2>TC01: Xxx</h2><ol><li>Systém…</li></ol><h1>Poznámka</h1><p>–</p><div><br></div>
</div>
</body>
</html>
