<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>ID-098: Export objednaných služeb</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Požadavek</h1><p>Je požadováno doplnění funkčnosti pro export objednávek a objednaných služeb. To bude odpovídat chování dostupnému v aplikaci Pasport, v rámci kterého je možné exportovat tabulku v jejím aktuálním stavu.</p><ul><li>V potaz jsou brány jak dostupné sloupce, tak jejich pořadí.</li><li>Dostupné záznamy odpovídají aktuálně nastaveným filtrům.</li><li>Pořadí záznamů odpovídá nastavenému řazení v tabulce.</li></ul><p>Součástí požadavku je také úprava chování související s přenesením označených řádků tabulky do systémové schránky.</p><p>Poznámka: Původní zadání bylo po konzultaci se zákazníkem upřesněno.</p><h1>Aktuální stav</h1><p>Aktuálně je možné data exportovat pouze pomocí systémové schránky. Zde jsou pak evidovány problémy s formátem u některých hodnot.</p><h1>Návrh řešení</h1><p>Výsledné řešení bude složeno ze 2 kroků, kdy je u každého uveden také seznam dílčích úkonů.</p><ul><li>Revize chování související se systémovou schránkou (viz <a href="id-122193405.html">Použití systémové schránky</a>).<br><ul><li>Přenesení hodnot do systémové schránky včetně formátu obsažených hodnot.</li><li>Revize formátu hodnoty ve sloupcích s druhy odpadu a likvidačními místy.</li></ul></li><li>Doplnění funkčnosti pro export tabulky (viz <a href="id-122193405.html">Export tabulky</a>).<br><ul><li>Doplnění exportu objednaných služeb v přehledu objednaných služeb (hlavní tabulka).</li><li>Doplnění exportu objednaných služeb v přehledu objednávek (záložka s objednanými službami).</li><li>Doplnění exportu objednávek v přehledu objednávek (hlavní tabulka).</li></ul></li></ul><h3>Použití systémové schránky</h3><p>Při použití systémové schránky jsou přeneseny informace o všech označených řádcích, to bude zachováno. Úpravy se budou týkat formátu přenášených hodnot…</p><ul><li>Formát hodnoty bude odpovídat tomu, co uživatel vidí v aplikaci.<br><ul><li>To se týká nejen číselných hodnot a data s časem.</li><li>Řešit to musíme také u „referencí“ (např. likvidační místo).</li></ul></li><li>Jedná se tedy o obdobné chování, které je již dostupné na straně apliakce Pasport.</li></ul><p>Poznámka: Vzhledem k aktuálnímu fungování sloupců pro druhy odpadu a likvidační místa se jako vhodná jeví revize způsobu zobrazení hodnoty přímo v tabulce. Tu provedeme…</p><ul><li><strong>Aktuální chování</strong>: Je zobrazena první dostupná hodnota. Ty ostatní jsou vidět až v rámci kontextové nabídky.</li><li><strong>Nové chování</strong>: Hodnota bude zobrazena jako formátovaný řetězec (dílčí záznamy odděleny čárkou).</li><li><strong>Důvod</strong>: Do tabulky jsou načítány všechny obsažené hodnoty, nikoliv pouze první z nich (máme je tedy k dispozici).<ul><li><em>Navrhovaný způsob zobrazení pak bude korespondovat s tím, co je exportováno.</em></li><li><em>Stejný formát hodnoty bude jak v aplikaci, tak v exportním souboru s daty z tabulky.</em></li><li><em>To se týká jak exportu jako takového, tak použití systémové schránky.</em></li></ul></li><li><strong>Poznámka</strong>: Indikační ikona se seznamem záznamů bude zachována – pro přehlednější způsob zobrazení.</li></ul><h3>Export tabulky</h3><p>Dále bude doplněna funkčnost pro export tabulky, zde řešíme následující…</p><ul><li><strong>Struktura exportního souboru</strong> – výsledná podoba exportního souboru (dostupné sloupce).</li><li><strong>Dostupnost exportu</strong> – specifikace míst s možností exportovat záznamy tabulky.</li></ul><h4>Struktura exportního souboru</h4><p>Začneme tedy strukturou exportního souboru – zde budeme vycházet z aktuálního rozložení tabulky, pro kterou je export spuštěn.</p><ul><li>Dostupné sloupce odpovídají těm, které má uživatel nastavené v aplikaci (viditelnost a pořadí).</li><li>Dostupné záznamy odpovídají těm, které jsou načteny v tabulce (bez ohledu na stránkování).</li><li>Pořadí záznamů odpovídá jejich řazení v tabulce.</li><li>Formát dílčích hodnot odpovídá tomu v tabulce.</li></ul><p>Soubor je pak možné exportovat v dále uvedených formátech: <strong>xlsx</strong>, <strong>csv</strong>.</p><h4>Dostupnost exportu</h4><p>Spuštění exportu tabulky pak bude dostupné hned na několika místech. Jednat se bude o dále uvedené moduly…</p><ul><li>přehled objednávek (hlavní tabulka),</li><li>přehled objednaných služeb (hlavní tabulka, tabulka objednaných služeb).</li></ul><p>K dispozici bude rozbalovací tlačítko umožňující spuštění těchto akcí:</p><ul><li><strong>Exportovat do CSV</strong> – export tabulky ve formátu <strong>csv</strong> (jako oddělovač je použit středník).</li><li><strong>Exportovat do Excelu</strong> – export tabulky ve formátu <strong>xlsx</strong>.</li></ul><p>Spuštění funkčnosti není omezeno žádným uživatelským oprávněním – je dostupné pro všechny.</p><p><img src="id-098-export-objednanych-sluzeb-122193405_images/image2025-7-12 16-35-30.png" data-attachment="true"></p><h1>Akceptační testy</h1><p>Pro splnění požadavku musí být splněny následující testovací scénáře.</p><h2>TC01: Xxx</h2><ol><li>Systém…</li></ol><h1>Poznámka</h1><p>–</p>
</div>
</body>
</html>
