<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>ID-030: Porovnání plánované a skutečné realizace denního výkonu (report)</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Požadavek</h1><p>V rámci monitoringu realizace denních výkonů je porovnávána skutečná trasa vozidla s tou plánovanou. Požadováno pak je doplnění reportu, který uživateli zprostředkuje souhrnný pohled na tato data.</p><h1>Aktuální stav</h1><p>Aktuálně může uživatel porovnávat skutečnou trasu vozidla s tou plánovanou v detailu denního výkonu, a to pouze pro jeden denní výkon zároveň. </p><h1>Návrh řešení</h1><p>Uvedený návrh řešení je složen z několika dílčích kroků, které na sebe navazují. Postupně si je tedy projdeme. Souhrnný tok událostí je pak uveden v rámci akceptačních testů (oproti běžným reportům probíhá generování synchronně – aby uživatel mohl v rámci této záložky prohlížeče dále pracovat s aplikací, musí počkat na dokončení generování reportu).</p><p> Poznámka: Uvedený návrh řešení představuje dočasné řešení, které bude v budoucnosti nahrazeno, a to ve formě běžného reportu (pokud nebude zvolená varianta v rozporu s běžnými reporty, viz dále). Tento převod pak bude proveden bez dalších nákladů.</p><h2>Spuštění reportu</h2><p>Report bude možné spustit na obrazovce přehledu denních výkonů, a to z nástrojové lišty tabulky (viz obrázek). Po stisknutí tlačítka dojde k zobrazení formuláře pro nastavení parametrů reportu.</p><p>To, zda bude mít uživatel k dispozici tuto funkčnost, bude možné nastavit ve správě systému FLWW2 (nastavení uživatelských oprávnění uživatelů/rolí – záložka Reporty).</p><p><img src="id-030-porovnani-planovane-a-skutecne-realizace-denniho-vykonu-report-89065044_images/image2020-11-9 15-15-22.png" data-attachment="true"></p><p>Pokud by v rámci přehledu DV byly spouštěny i další reporty, bylo by uvedené tlačítko rozšířeno o kontextovou nabídku, viz obrázek (uvedené názvy reportů jsou orientační).</p><p><img src="id-030-porovnani-planovane-a-skutecne-realizace-denniho-vykonu-report-89065044_images/image2020-11-10 14-56-28.png" data-attachment="true"></p><h2>Nastavení vstupních dat reportu</h2><p>K nastavení parametrů reportu bude využit běžně používaný formulář, jeho obsah pak bude odpovídat zvolené variantě řešení. Dále jsou tedy uvedeny konkrétní parametry, které budou v rámci formuláře k dispozici.</p><h3>Základní vstupní parametry</h3><ul><li>Provozovna – nastavení provozovny, pro kterou bude report generován. K dispozici jsou všechny provozovny, na které má konkrétní uživatel oprávnění. Vybrána musí být právě jedna provozovna.</li><li>Období – rozmezí data realizace (od-do), pro které bude report generován. Nastaveny musí být obě hodnoty.</li><li>Typ dopravy – typ dopravy, pro který bude report generován. Kromě používaných typů dopravy bude k dispozici možnost „Vybrat vše“.</li></ul><p>Výsledný report pak bude obsahovat informace o všech denních výkonech (a jejich realizacích), které odpovídají nastaveným parametrům.</p><h3>Pokročilé vstupní parametry</h3><p>V rámci pokročilé varianty jsou obsaženy všechny parametry té základní, viz <a href="id-89065044.html">Základní vstupní parametry</a>. Dále je pak rozšířena následovně:</p><ul><li>tisknout začátek realizace,</li><li>tisknout konec realizace,</li><li>tisknout dobu realizace,</li><li>tisknout časové využití,</li><li>tisknout ujetou vzdálenost,</li><li>tisknout ujetou vzdálenost s přívěsem,</li><li>tisknout počet kilometrů s přívěsem,</li><li>tisknout počet objednaných služeb.</li></ul><p>Nastavením příznaku pak může uživatel určit, které hodnoty budou ke konkrétním denním výkonům reportovány (určí, které sloupce budou ve výsledném souboru k dispozici).</p><p>Základní varianta (viz <a href="id-89065044.html">Základní vstupní parametry</a>) tedy určuje, které denní výkony budou v rámci reportu zaneseny, ta pokročilá pak umožní nastavit informace, které budou u těchto denních výkonů k dispozici. </p><p> Jedná se o pokročilou funkci, která není v rámci běžných reportů k dispozici. To znamená, že pravděpodobně nebude možné toto chování přenést v rámci převodu sestavy na běžný report.</p><h2>Struktura reportu</h2><p>Navážeme strukturou samotného reportu. Ten bude předán výhradně ve formě <strong>xlsx</strong> souboru. Pojmenován bude následovně: <strong>Vyhodnocení realizace denních výkonů</strong>.</p><p>Denní výkony pak budou seskupeny dle přiřazeného vozidla. Pro každé vozidlo bude v rámci Excel dokumentu vyčleněn jeden list, viz obrázek. Mimo identifikace odpovídajícího vozidla pak budou k dispozici i další informace:</p><ul><li>Vozidlo: identifikace vozidla.</li><li>Období: období nastavené při spuštění reportu.</li><li>Provozovna: provozovna, pro kterou byly odpovídající denní výkony vytvořeny.</li><li>Typ dopravy: typ dopravy, pro který byly odpovídající denní výkony vytvořeny.</li></ul><p><img src="id-030-porovnani-planovane-a-skutecne-realizace-denniho-vykonu-report-89065044_images/image2020-11-9 16-6-27.png" data-attachment="true"></p><p>Dále jsou již uvedeny informace o plánované a skutečné trase jednotlivých denních výkonů daného vozidla (viz obrázek), sledované atributy jsou pak uvedeny v tabulce. Jednotlivé atributy jsou reprezentovány třemi sloupci:</p><ul><li>plán – hodnota získaná v rámci plánování (tedy z denního výkonu),</li><li>realizace – skutečná hodnota získaná v rámci monitoringu realizace (tedy z realizace denního výkonu),</li><li>rozdíl – rozdíl plánované a skutečné hodnoty (výpočet).</li></ul><p>Na konci každého sloupce je uvedena souhrnná hodnota, ta je získána výpočtem dle povahy každého sloupce.</p><table><tbody><tr><th>Atribut</th><th>Souhrnná hodnota</th><th>Poznámka</th></tr><tr><td>Datum realizace</td><td>–</td><td>Sloupec uveden pouze jednou, hodnota je stejná pro plán i skutečnou realizaci.</td></tr><tr><td>Začátek realizace</td><td><ul><li>plán: průměr</li><li>realizace: průměr</li><li>rozdíl: průměr</li></ul></td><td>–</td></tr><tr><td>Konec realizace</td><td><ul><li>plán: průměr</li><li>realizace: průměr</li><li>rozdíl: průměr</li></ul></td><td>–</td></tr><tr><td>Doba realizace</td><td><ul><li>plán: průměr</li><li>realizace: průměr</li><li>rozdíl: průměr</li></ul></td><td>–</td></tr><tr><td>Časové využití [%]</td><td><ul><li>plán: průměr</li><li>realizace: průměr</li><li>rozdíl: průměr</li></ul></td><td>–</td></tr><tr><td>Ujetá vzdálenost [km]</td><td><ul><li>plán: součet</li><li>realizace: součet</li><li>rozdíl: průměr</li></ul></td><td>–</td></tr><tr><td>Ujetá vzdálenost s přívěsem [km]</td><td><ul><li>plán: součet</li><li>realizace: součet</li><li>rozdíl: průměr</li></ul></td><td>–</td></tr><tr><td>Podíl km s přívěsem [%]</td><td><ul><li>plán: průměr</li><li>realizace: průměr</li><li>rozdíl: průměr</li></ul></td><td>–</td></tr><tr><td colspan="1">Počet objednaných služeb</td><td colspan="1"><ul><li>plán: součet</li><li>realizace: součet</li><li>rozdíl: průměr</li></ul></td><td colspan="1">–</td></tr></tbody></table><p>Poznámka:</p><ul><li>Jednotlivé skupiny odpovídají vstupním parametrům v pokročilé variantě (viz <a href="id-89065044.html">Pokročilé vstupní parametry</a>).</li><li>V případě, že pro daný den a vozidlo nebudou k dispozici informace o denním výkonu (případně o realizaci denního výkonu), nebudou odpovídající hodnoty tabulky vyplněny.</li><li>Pro některé typy dopravy nemusí být dostupné všechny informace.</li></ul><p><img src="id-030-porovnani-planovane-a-skutecne-realizace-denniho-vykonu-report-89065044_images/image2020-11-9 16-18-51.png" data-attachment="true"></p><h2>Generování a předání reportu uživateli</h2><p>Uživatel potvrdil zadání vstupních parametrů reportu, můžeme je tedy odeslat na server. V tu chvíli začíná generování výsledného souboru a uživatel nemůže dále pracovat s aplikací (na této záložce prohlížeče).</p><p>Jakmile je soubor připraven, je uživateli umožněna další práce s aplikací. Následně začne stahování výsledného souboru.</p><h1>Akceptační testy</h1><p>Pro splnění požadavku musí být splněny následující testovací scénáře.</p><h2>TC01: Spuštění reportu</h2><ol><li>Uživatel zadá požadavek na generování reportu.</li><li>Systém zobrazí formulář pro nastavení vstupních parametrů reportu.</li><li>Uživatel vyplní formulář pro nastavení vstupních parametrů reportu a potvrdí ho.</li><li>Systém odešle požadavek na server.</li><li>Systém začne generovat požadovaný report (s aplikací není možné po dobu generování reportu pracovat).</li><li>Systém dokončí generování požadovaného reportu.</li><li>Systém předá výsledný soubor uživateli (začne stahování).</li></ol><h1>Poznámka</h1><p>Jedná se o rozšíření staršího návrhu řešení o nové požadavky.</p>
</div>
</body>
</html>
