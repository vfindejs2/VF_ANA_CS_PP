<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>ID-007: Načtení adresy zákazníka pomocí služby FinStat</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Požadavek</h1><p>Při vytváření zákazníka je možné načíst část informací o něm pomocí služby FinStat. Jedním z údajů, který je získáván, je adresa tohoto zákazníka. Ta však není k dispozici v dostačující podobě, číslo popisné a číslo orientační je předáno jako jedna společná hodnota (např.: 123/15). Požadováno je pak korektní vyplnění údajů u vytvářeného zákazníka.</p><h1>Aktuální stav</h1><p>Při načtení informací o zákazníkovi pomocí služby FinStat dojde k jejich přiřazení ke konkrétním atributům zákazníka, který je právě vytvářen v rámci aplikace RoadPlan. Zde však dojde k ne úplně šťastnému přiřazení čísla ulice k atributu Číslo orientační.</p><p>Problém: V rámci systému RoadPlan je číslo popisné a číslo orientační uvedeno samostatně (stejně tak na rozhraní se systémem WinyX), ze služby FinStat je však získána pouze jedna hodnota.</p><p>Poznámka: V rámci systému WinyX je zobrazováno číslo popisné a číslo orientační jako jedna položka (respektive je zobrazována pouze jedna hodnota, i když je na společném rozhraní je číslo popisné a číslo orientační uvedeno samostatně).</p><h1>Návrh řešení</h1><p>Při vytváření zákazníka za pomoci rejstříku podnikatelských subjektů bude provedena drobná změna v mapování na atributy odpovídající entity. Ve formuláři bude hodnota s číslem domu, která je získána z rejstříku podnikatelských subjektů v rámci adresy, vkládána do pole s číslem popisným. V případě, že uživatel zadá adresu ručně (a zároveň zadá zvlášť číslo popisné i číslo orientační), budou hodnoty uloženy samostatně. </p><p>Při odeslání zákazníka na rozhraní systému WinyX však dojde ke sloučení, číslo popisné a číslo orientační bude odesláno jako jedna hodnota. Předána bude pod atributem Číslo orientační, její formát pak bude následující:</p><ul><li>Pokud je k dispozici pouze číslo popisné: <Číslo popisné></li><li>Pokud je k dispozici pouze číslo orientační: <Číslo orientační></li><li>Pokud je k dispozici číslo popisné i číslo orientační: <Číslo popisné>/<Číslo orientační>.</li></ul><p>Bude provedena revize chování při načítání informací o zákazníkovi pomocí služby FinStat. Číslo ulice získané ze služby FinStat bude nově uloženo pod atributem Číslo popisné, nikoliv k atributu Číslo orientační.</p><p>Poznámka:</p><ul><li>Uvedené chování však nevyřeší problém na straně WinyX. Pokud uživatel vytvoří v RP zákazníka bez pomoci služby FinStat, a zadá tedy adresu ručně, mohou být hodnoty předány samostatně – zvlášť číslo popisné a zvlášť číslo orientační. S tím si však aktuálně systém WinyX neporadí a zobrazí uživateli pouze jednu hodnotu, i když má na rozhraní k dispozici hodnoty obě.</li><li>Je pak nutné, aby atribut Číslo popisné začal využívat i systém WinyX. V opačném případě by se nemusela k uživateli WinyX dostat úplná informace o adrese (chybělo by jak číslo popisné, tak orientační). </li></ul><h1>Akceptační testy</h1><p>Pro splnění požadavku musí být splněny následující testovací scénáře.</p><h2>TC01: Načtení informací o zákazníkovi pomocí služby FinStat</h2><ol><li>Uživatel zadá požadavek na vyhledání zákazníka dle zadaného textu (musí být zadány alespoň 3 znaky).</li><li>Systém odešle dotaz na službu FinStat, které předá hledaný text. Získané údaje zobrazí uživateli (je zobrazeno prvních 10 získaných záznamů).</li><li>Uživatel vybere požadovaný podnikatelský subjekt.</li><li>Systém vyplní získané hodnoty ve formuláři zákazníka (číslo ulice je přiřazeno k položce Číslo popisné).</li></ol><h2>TC02: Odeslání zákazníka na rozhraní systému WinyX</h2><ol><li>Uživatel uloží objednávku, která obsahuje zákazníka vytvořeného v rámci aplikace RoadPlan, k realizaci.</li><li>Systém uloží objednávku a provede další potřebné akce (detail není podstatný pro tento TC).</li><li>Systém odešla zákazníka na rozhraní se systémem WinyX, je pak dodržen následující formát pro uvedené atributy adresy:<br><ul><li>Atribut Číslo popisné – není předána žádná hodnota.</li><li>Atribut Číslo orientační:<br><ul><li><p>Pokud je k dispozici pouze číslo popisné: <Číslo popisné>.</p></li><li><p>Pokud je k dispozici pouze číslo orientační: <Číslo orientační>.</p></li><li><p>Pokud je k dispozici číslo popisné i číslo orientační: <Číslo popisné>/<Číslo orientační>.</p></li></ul></li></ul></li></ol><h1>Poznámka</h1><p>Jedná se o dříve řešený požadavek, je tedy uveden pouze zákazníkem zvolený návrh řešení.</p>
</div>
</body>
</html>
