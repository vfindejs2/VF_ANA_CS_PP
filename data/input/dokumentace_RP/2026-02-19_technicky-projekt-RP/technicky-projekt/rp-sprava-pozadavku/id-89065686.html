<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>ID-040: Násobné rozdělení objednané služby</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Požadavek</h1><p>V rámci plánování objednaných služeb na denní výkony je k dispozici několik pokročilých funkcí, které slouží k optimalizaci výsledné trasy denního výkonu. Těmi hojně využívanými je rozdělní objednané služby a vytvoření místa dočasného uložení, které mají mnoho společného. Dále tedy budeme mluvit pouze o rozdělení objednané služby, kterým budou rozuměny obě uvedené funkce.</p><p>Rozdělení objednané služby je podmíněno splněním určitých vstupních podmínek (viz <a href="id-89065686.html">Aktuální stav</a>). Jednou z nich je skutečnost, že daná objednaná služba zatím nebyla rozdělena. To je však v praktickém provozu značně omezující. Je tedy požadována revize vstupních podmínek pro rozdělení objednané služby.</p><h1>Aktuální stav</h1><p>Aby bylo možné objednanou službu rozdělit, musí být splněny určité podmínky. Ty si nyní uvedeme.</p><ul><li>Jedná se o položku denního výkonu typu objednaná služba (případ užití spouštěn pro položku denního výkonu; uvedeno pouze pro úplnost).</li><li>Typ úkonu objednané služby není Rozvoz (pro typ dopravy Valník) – objednaná služba není definována množinou lokací, ale časovým rozmezím.</li><li>Objednaná služba obsahuje alespoň 2 platné lokace objednané služby, u kterých je prováděn monitoring realizace (MR, LM, P, MDU).</li><li>Objednaná služba nebyla rozdělena.</li><li>Pro objednanou službu nebylo vytvořeno místo dočasného uložení.</li><li>Uživatel má oprávnění k provedení této akce.</li></ul><p>S rozdělením však souvisí i sloučení objednané služby, tedy vrácení objednané služby do původní stavu. Jedná se pak o důležitou součást rozdělení, která nemůže být opomíjena. I zde si tedy uvedeme vstupní podmínky pro provedení akce.</p><ul><li>Objednaná služba byla rozdělena.</li><li>Uživatel má oprávnění k provedení této akce.</li></ul><p>Poznámka: Pokud není umožněna editace odpovídajícího denního výkonu, není sloučení ani rozdělení objednané služby k dispozici.</p><p>Vrácení objednané služby do původního stavu pak může být omezeno i stavem jednotlivých objednaných služeb. Pokud je u jedné z částí rozdělené objednané služby již potvrzena realizace, sloučení není možné. V takovém případě můžeme akci spustit, skončí však zobrazením systémového hlášení.</p><h1>Návrh řešení</h1><p>Návrh řešení jak pak koncipován poněkud netradičně. Začneme totiž „stručným“ popisem možných přístupů k dělení objednaných služeb. Ukážeme si, jak by dělení probíhalo při zachování stávajícího přístupu, na který navážeme, a pro stejný příklad uvedeme postup nově navrhovaný. Důvodem je především pochopení toho, jak dělení funguje nyní, jaká jsou jeho omezení a jaké přínosy změna chování má.</p><p>Na uvedené principy navážeme samotným návrhem řešení, kde postupně představíme dílčí úkony, které bude třeba provést. Od samotného dělení objednané služby, přes její sloučení až po zobrazení na jednotlivých obrazovkách aplikace. Důležité je pak zmínit, že změna použitého principu dělení objednaných služeb bude mít jen minimální vliv na samotné ovládání aplikace.</p><h2>Možné přístupy k dělení objednaných služeb</h2><p>Jak bylo zmíněno, uvedeme možné přístupy k dělení objednaných služeb. Na stejném příkladu si ukážeme, jak by dělení probíhalo při zachování stávajícího chování a jak po jeho modifikaci.</p><h3>Stávající přístup k dělení objednaných služeb</h3><p>Začneme stručným popisem stávajícího algoritmu pro dělení objednané služby. S drobným zjednodušením si můžeme dovolit popsat oba způsoby společně.</p><ol><li>Uživatel označí objednanou službu a zadá požadavek na její rozdělení.</li><li>Systém zobrazí odpovídající formulář pro rozdělení objednané služby.</li><li>Uživatel nastaví místo rozdělení (případně adresu MDU) a předpokládaný datum realizace. Zadané údaje potvrdí.</li><li>Systém rozdělí objednanou službu (dále jen „původní služba“), provede následující kroky:<br><ol><li>Systém vytvoří kopii původní objednané služby (dále jen „nová služba“).</li><li>Systém provede nastavení původní služby:<br><ul><li>Nastaví vazbu na na novou službu.</li><li>Nastaví lokace za místem rozdělení jako neplatné.</li></ul></li><li>Systém provede nastavení nové služby.<br><ul><li>Nastaví vazbu na původní službu.</li><li>Nastaví lokace před místem rozdělení  jako neplatné.</li></ul></li></ol></li></ol><p>Jsou tedy dodržována určitá pravidla, která jsou, jak si za chvíli ukážeme, pro násobné dělení značně omezující. Jejich stručný výpis si uvedeme:</p><ul><li>Na objednané službě je k dispozici úplná množina lokací objednané služby (část je pak označen jako neplatná).</li><li>Objednanou službu je možné rozdělit pouze jednou (lze snadno dohledat druhou objednanou službu, s kterou má být provedeno sloučení).</li><li>V rámci objednané služby je maximálně jedno MDU (jeho obraz ve druhé objednané službě lze snadno dohledat).</li></ul><p>Krok 4 je pak naznačen na obrázku. Šedou barvou jsou zvýrazněny neplatné lokace objednané služby. Zobrazen je pak příklad rozdělení objednané služby, v případě vytvoření MDU by navíc vznikla nová lokace objednané služby právě pro samotné MDU. Zmíněná vazba mezi oběma objednanými službami je pak velice důležitá pro zpětné sloučení.</p><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-16 14-43-43.png" data-attachment="true"></p><p>Potřebnou teorii jsme si zopakovali, pusťme se tedy do násobného dělení objednaných služeb za použití stávajícího přístupu. Postup je pak uveden ve formě tabulky vhodně doplněné obrázky.</p><table><tbody><tr><th>#</th><th>Náhled</th><th>Popis</th><th>Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1"><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-17 13-29-0.png" data-attachment="true"></td><td colspan="1"><p>Výchozí stav – máme objednanou službu, která byla rozdělena.</p><ul><li>Bílé lokace – označeny jako platné.</li><li>Šedé lokace – označeny jako neplatné.</li></ul></td><td colspan="1">–</td></tr><tr><td>2</td><td><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-17 13-6-6.png" data-attachment="true"></td><td><p>Požadavek na vytvoření MDU – zadáme požadavek na vytvoření MDU pro první uvedenou objednanou službu (část 1). Samotné MDU bude vloženo mezi první 2 lokace (Lok.1, Lok. 2).</p><ul><li>Oranžové lokace – označeny jako platné, dojde k vytvoření MDU.</li><li>Bílé lokace – označeny jako platné.</li><li>Šedé lokace – označeny jako neplatné.</li></ul></td><td>–</td></tr><tr><td>3</td><td><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-17 13-25-22.png" data-attachment="true"></td><td><p>Vytvoření MDU – na základě požadavku došlo k vytvoření MDU. Pro odpovídající objednanou službu byla vytvořena její kopie, zároveň došlo k doplnění lokací objednané služby pro MDU a nastavení platnosti jednotlivých lokací. Dále se změnilo pomocné označení objednaných služeb.</p><ul><li>Oranžové lokace – označeny jako neplatné, důvodem vytvoření MDU.</li><li>Bílé lokace – označeny jako platné.</li><li>Šedé lokace – označeny jako neplatné.</li></ul></td><td><p>Již nesedí lokace objednané služby v rámci jednotlivých objednaných služeb.</p><p>Pro poslední objednanou službu (část 3) již není umožněno zrušení provedeného rozdělení.</p></td></tr><tr><td>4</td><td><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-17 13-40-35.png" data-attachment="true"></td><td><p>Požadavek na vytvoření MDU – zadáme požadavek na vytvoření MDU pro první uvedenou objednanou službu (část 1). Samotné MDU bude vloženo mezi první 2 lokace (Lok.1, MDU 1.a).</p><ul><li>Modré lokace – označeny jako platné, dojde k vytvoření MDU.</li><li>Oranžové lokace – označeny jako neplatné, důvodem vytvoření MDU.</li><li>Bílé lokace – označeny jako platné.</li><li>Šedé lokace – označeny jako neplatné.</li></ul><p><br></p></td><td>–</td></tr><tr><td>5</td><td><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-17 13-47-16.png" data-attachment="true"></td><td><p>Vytvoření MDU – na základě požadavku došlo k vytvoření MDU. Pro odpovídající objednanou službu byla vytvořena její kopie, zároveň došlo k doplnění lokací objednané služby pro MDU a nastavení platnosti jednotlivých lokací. Dále se změnilo pomocné označení objednaných služeb.</p><ul><li>Modré lokace – označeny jako neplatné, důvodem vytvoření MDU.</li><li>Oranžové lokace – označeny jako neplatné, důvodem vytvoření MDU.</li><li>Bílé lokace – označeny jako platné.</li><li>Šedé lokace – označeny jako neplatné.</li></ul><p><br></p></td><td><p>Již je obsaženo více než jedno MDU, pro případné odebrání MDU je třeba doplnit další vazbu.</p><p>Pro poslední dvě objednané služby (část 3, část 4) již není umožněno zrušení provedeného rozdělení.</p></td></tr></tbody></table><h3>Nový přístup k dělení objednaných služeb</h3><p>Je tedy zřejmé, že zachování stávajících principů není zcela šťastné, a navrhujeme jejich modifikaci. Práce s objednanými službami se výrazně zjednoduší a otevřou se nám další možnosti rozšíření. Popišme si tedy navrhovaný postup.</p><ol><li>Uživatel označí objednanou službu a zadá požadavek na její rozdělení.</li><li>Systém zobrazí odpovídající formulář pro rozdělení objednané služby.</li><li>Uživatel nastaví místo rozdělení (případně adresu MDU) a předpokládaný datum realizace. Zadané údaje potvrdí.</li><li>Systém rozdělí objednanou službu (dále jen „původní služba“), provede následující kroky:<br><ol><li>Systém vytvoří kopii původní objednané služby (dále jen „nová služba“).</li><li>Systém provede nastavení původní služby:<br><ul><li>Nastaví vazbu na na novou službu.</li><li><strong>Odebere</strong> lokace za místem rozdělení.</li></ul></li><li>Systém provede nastavení nové služby.<br><ul><li>Nastaví vazbu na původní službu.</li><li><strong>Odebere</strong> lokace před místem rozdělení.</li></ul></li></ol></li></ol><p>Tato drobná změna má pak značný přínos v mnoha ohledech, ty základní si uvedeme dále.</p><ul><li>Snazší práci na datové úrovni (jednodušší implementace).</li><li>Značná variabilita při rušení provedeného rozdělení (viz dále).</li></ul><p>Nyní se vrátíme k dříve uvedenému příkladu. Provedeny budou stejné kroky, k rozdělní však budou použity modifikované principy. Postup je i zde znázorněn ve formě tabulky. Nad rámec předchozího příkladu je v tabulce obsaženo i prvotní rozdělení původní objednané služby.</p><p>Poznámka: Všechny lokace objednané služby jsou platné, již není nutné jejich rozlišení tímto způsobem. </p><table><tbody><tr><th>#</th><th>Náhled</th><th>Popis</th><th>Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1"><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-17 18-59-35.png" data-attachment="true"></td><td colspan="1">Výchozí stav – máme objednanou službu, s která zatím nebyla rozdělena.</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1"><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-17 18-59-47.png" data-attachment="true"></td><td colspan="1">Požadavek na rozdělení – zadáme požadavek na rozdělení objednané služby. Barvy pak naznačují, jakým způsobem bude služba rozdělena.</td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1"><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-17 19-19-33.png" data-attachment="true"></td><td colspan="1">Rozdělení – na základě požadavku došlo k rozdělení objednané služby. Lokace jsou pak barevně označeny vzhledem k předchozímu kroku.</td><td colspan="1">–</td></tr><tr><td colspan="1">4</td><td colspan="1"><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-17 19-19-49.png" data-attachment="true"></td><td colspan="1">Požadavek na vytvoření MDU – zadáme požadavek na vytvoření MDU pro první objednanou službu (část 1). Barvy pak naznačují, jakým způsobem bude MDU vytvořeno.</td><td colspan="1">–</td></tr><tr><td colspan="1">5</td><td colspan="1"><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-17 19-20-26.png" data-attachment="true"></td><td colspan="1">Vytvoření MDU – na základě požadavku došlo k vytvoření MDU. Lokace jsou pak barevně označeny vzhledem k předchozímu kroku.</td><td colspan="1">–</td></tr><tr><td colspan="1">6</td><td colspan="1"><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-17 19-21-20.png" data-attachment="true"></td><td colspan="1">Požadavek na vytvoření MDU – zadáme požadavek na vytvoření MDU pro první objednanou službu (část 1). Barvy pak naznačují, jakým způsobem bude MDU vytvořeno.</td><td colspan="1">–</td></tr><tr><td colspan="1">7</td><td colspan="1"><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-17 19-22-11.png" data-attachment="true"></td><td colspan="1">Vytvoření MDU – na základě požadavku došlo k vytvoření MDU. Lokace jsou pak barevně označeny vzhledem k předchozímu kroku.</td><td colspan="1">Když porovnáme lokace jednotlivých objednaných služeb, odpovídají platným lokacím objednaných služeb (bílé lokace) v předchozím případě. Dosáhli jsme tedy stejného výsledku.</td></tr></tbody></table><h3>Rozdělení objednané služby</h3><p>Když jsme si na příkladech představili rozdíl mezi jednotlivými přístupy k dělení objednaných služeb, můžeme navázat podrobnějším popisem. Dále se tedy budeme věnovat modifikovanému přístupu. I zde si pomůžeme příkladem, který je oproti dříve uvedenému zjednodušen. Důraz je pak kladen na jiný typ informací.</p><p><strong>První krok</strong> – rozdělíme objednanou službu (viz barevné rozlišení).</p><ul><li>Vzniká nová objednané služba, kdy je doplněna vazba typu Rozdělení mezi původní a novou objednanou službou.</li><li>Novou objednanou službu není možné dále dělit (obsahuje pouze jedinou lokaci; naznačeny přerušovanou čarou).</li></ul><p> <img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-17 19-44-11.png" data-attachment="true"></p><p><strong>Druhý krok</strong> – v rámci první objednané služby vytvoříme MDU (viz barevní rozlišení).</p><ul><li>Vzniká nová objednané služba, kdy je doplněna vazba typu MDU mezi původní a novou objednanou službou.</li></ul><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-17 19-59-19.png" data-attachment="true"></p><p><strong>Třetí krok</strong> – rozdělíme druhou objednanou službu (viz barevné rozlišení).</p><ul><li>Vzniká nová objednané služba, kdy je doplněna vazba typu Rozdělení mezi původní a novou objednanou službou.</li><li>Již je možné dělit pouze první objednanou službu (obsahuje více jak jednu lokaci; naznačeny přerušovanou čarou)</li></ul><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-17 20-0-19.png" data-attachment="true"></p><p>Aby bylo možné objednanou službu rozdělit, musí být splněny určité vstupní podmínky. Ty jsou společné pro obě akce.</p><ul><li><p>Jedná se o položku denního výkonu typu objednaná služba (případ užití spouštěn pro položku denního výkonu).</p></li><li><p>Typ úkonu objednané služby není Rozvoz (pro typ dopravy Valník) – objednaná služba není definována množinou lokací, ale časovým rozmezím.</p></li><li><p>Objednaná služba obsahuje alespoň 2 lokace objednané služby, u kterých je prováděn monitoring realizace (MR, LM, P, MDU).</p></li><li><p>Uživatel má oprávnění k provedení této akce.</p></li></ul><p>Poznámka: Pokud není umožněna editace odpovídajícího denního výkonu, není spuštění akce k dispozici.</p><p>K provedení uvedených akcí jsou použity stávající formuláře. Zde navrhujeme provedení drobné změny, která  usnadní uživatelům práci.</p><ul><li>V rámci formuláře pro rozdělení objednané služby je nutné nastavit předpokládané datum realizace objednané služby.</li><li>Systém tato pole přednastaví na dnešní (datum od) a zítřejší (datum do) den.</li><li>To však není vhodné v případě, kdy plánujeme s předstihem na několik dní dopředu.</li><li>Navrhujeme tedy následující změnu chování při nastavení výchozí hodnoty uvedených polí:<ul><li>Datum od: Datum realizace právě editovaného denního výkonu.</li><li>Datum do: Následující den pro datum realizace právě editovaného denního výkonu.</li></ul></li></ul><p>Poznámka: Akci je možné spustit pouze z obrazovky editace denního výkony.</p><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-19 10-33-8.png" data-attachment="true"></p><p>Z pohledu uživatele tedy nedochází k žádným výrazným změnám, co se týče dělení objednaných služeb.</p><h3>Sloučení objednané služby</h3><p>Může nastat situace, kdy je třeba provést sloučení objednané služby – její vrácení do původního stavu. Zde, jak za chvíli uvidíme, dochází k určitým změnám oproti stávajícímu chování. Místo systémového hlášení k potvrzení akce bude zobrazen formulář pro sloučení objednané služby. Začneme však vstupními podmínkami. Pokud nejsou spuštěny, není možné formulář zobrazit.</p><ul><li>Objednaná služba byla rozdělena.</li><li>Uživatel má oprávnění k provedení této akce.</li></ul><p>Poznámka: Pokud není umožněna editace odpovídajícího denního výkonu, není spuštění akce k dispozici.</p><p>Spuštění samotné akce je pak dostupné na několika místech v aplikaci.</p><ul><li>Obrazovka plánování denních výkonů – kontextová nabídka nad panelem objednané služby.</li><li>Obrazovka editace denního výkonu – tlačítko nástrojové lišty tabulky.</li></ul><p>Poznámka: Aktuálně jsou k dispozici dvě samostatné funkce – „Sloučení objednané služby“ a „Zrušení MDU“. Nově se pak bude jednat o funkci jednu, která nahradí ty aktuálně implementované.</p><p>Nyní se dostáváme k samotnému formuláři, viz obrázek. Ten je složen ze dvou základních částí – obecné informace o objednané službě a její jednotlivé části.</p><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-20 11-54-34.png" data-attachment="true"></p><p>První část, které se budeme věnovat, jsou obecné informace o objednané službě. Ta slouží pouze k zobrazení základních informací o objednané službě, kterou chceme sloučit.</p><ul><li>Typ úkonu, název zákazníka, ikona objednávky (po najetí myší je zobrazena bublinková nápověda s číslem odpovídající objednávky).</li><li>Adresa místa realizace.</li><li>Druh odpadu, typ a případně i vlastnictví nádoby. </li></ul><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-20 12-44-46.png" data-attachment="true"></p><p>Nyní se dostáváme k té stěžejní části z pohledu slučování. Zde je obsažen přehled jednotlivých objednaných služeb, které vznikly v rámci dělení původní objednané služby. Mezi jednotlivé objednané služby je pak vložena informace o způsobu rozdělení s možností toto rozdělení zrušit.</p><ul><li>Objednaná služba (konkrétní část), pro kterou bylo spuštěno sloučení, je zvýrazněna „tlustou“ čarou. Některé informace zobrazené v rámci formuláře se pak mohou vztahovat právě k této objednané službě.</li><li>Objednaná služba je zobrazena ve formě panelu, který obsahuje následující informace:<ul><li>Pořadové číslo vzhledem k původní objednané služby (z pohledu pořadí obsažených lokací).</li><li>Identifikace denního výkonu (identifikace odpovídajícího vozidla a datum realizace), na který je objednaná služba naplánována. Pokud není objednaná služba naplánována na žádný denní výkon, je zobrazen zástupný text.</li><li>Výčet obsažených lokací objednané služby – typ lokace, adresa a typ úkonu.</li></ul></li><li>Pokud není možné objednanou službu sloučit, je graficky zvýrazněna pomocí ikony. Po najetí myší na tuto ikonu je zobrazena bublinková nápověda s důvodem nemožnosti službu sloučit. Důvody pak mohou být následující:<ul><li>U objednané služby je již potvrzena realizace – objednaná služba je nějakým způsobem potvrzena, není tedy žádoucí ji dále měnit.</li><li>Objednaná služba je naplánována na jiný denní výkon – porovnáváno vzhledem k objednané službě, pro kterou byla akce spuštěna. V takovém případě je nutné objednanou službu z odpovídajícího denního výkonu odebrat.</li></ul></li><li>Mezi jednotlivé panely objednané služby je vloženo samotné rozdělení, to je identifikováno svým typem (Rozdělení, MDU) a doplněno o tlačítko pro zrušení provedeného rozdělení.<ul><li>Jedná se o 2stavové tlačítko, kdy po kliknutí dojde k „zaškrtnutí“ tohoto tlačítka. To představuje situaci, kdy chceme sloučení odebrat. Po uložení provedených změn se požadované změny aplikují.</li><li>Tlačítko je dostupné pouze v případě, kdy obě sousední objednané služby umožňují sloučení.</li><li>Pokud není tlačítko dostupné, je graficky zvýrazněno („disable mode“) a v rámci bublinkové nápovědy je zobrazena informace, že sloučení v této části objednané služby není možné.</li></ul></li></ul><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-20 12-51-55.png" data-attachment="true"></p><h3>Zobrazení objednané služby napříč aplikací</h3><p>Vzhledem k dříve uvedenému je vhodné (a v některých případech i nutné) provést změny v rámci dalších obrazovek aplikace. Jedná se pak především o ty části aplikace, kde je nějakým způsobem pracováno s objednanými službami.</p><h4>Obrazovka plánování denních výkonů</h4><p>V přehledu objednaných služeb dojde ke změně způsobu, jakým jsou číslovány jednotlivé objednané služby. Změna se pak projeví u objednaných služeb, které byly rozděleny:</p><ul><li>běžné objednané služby – číslovány stejně jako nyní (např. 1, 2, 3),</li><li>rozdělené objednané služby – doplněna identifikace, o kterou část objednané služby se jedná (např. 3.a, 3.b, 3.c).</li></ul><p>Pokud se pak v rámci přehledu vyskytuje pouze omezená množina (jednotlivé části) původní objednané služby, číslování i tak odpovídá pořadí napříč všemi částmi objednané služby. V přehledu mohou výt obsaženy např. následující objednané služby: 1, 2, 3.b, 3.c, 4, 5. Navíc bude změněna indikace rozdělení objednané služby. Vzhledem k tomu, že může být služba rozdělena více způsoby zároveň, je použita společná ikona.</p><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-20 14-20-0.png" data-attachment="true"></p><p>V přehledu objednaných služeb bude k dispozici informace, jaké lokace se v rámci objednané služby vyskytují. Ta bude zobrazena ve formě bublinkové nápovědy následovně:</p><ul><li>Běžná objednaná služba – doplněna ikona, nad kterou je zobrazena bublinková nápověda (zobrazeny pouze lokace objednané služby).</li><li>Rozdělená objednaná služba – bublinková nápověda se zobrazuje nad ikonou indukující rozdělení objednané služby. Zobrazený text je pak složen následovně:<br><ul><li>Jsou zobrazeny lokace všech souvisejících objednaných služeb.</li><li>Jednotlivé části objednané služby jsou nadepsány pořadovým číslem a identifikací denního výkonu (identifikace odpovídajícího vozidla, datum realizace), na který jsou naplánovány. Pokud není objednaná služba naplánována na žádný denní výkon, je zobrazen zástupný text.</li><li>V každé části objednané služby je uvedena množina odpovídajících lokací.</li><li>Objednaná služba, pro kterou je zobrazena bublinková nápověda, je zvýrazněna.</li></ul></li></ul><p>Lokace objednané služby je pak uvedena pomocí typu lokace (zkratka), adresa a akce v lokaci. </p><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-20 14-29-46.png" data-attachment="true"></p><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-20 14-30-18.png" data-attachment="true"></p><p>V přehledu objednaných služeb bude k dispozici společné tlačítko pro sloučení objednané služby (aktuálně je k dispozici tlačítko pro složení objednané služby či zrušení MDU; zmíněno již dříve). </p><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-20 14-3-50.png" data-attachment="true"></p><p>V přehledu objednaných služeb bude v rámci jednotlivých panelů k dispozici informace o odpovídající objednávce, pod kterou objednaná služba spadá. Ta bude dostupná jako bublinková nápověda nově přidané ikony (naznačeno červeně). Na obrázku je pak naznačen i případ s dlouhým názvem zákazníka.</p><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-20 14-9-46.png" data-attachment="true"></p><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-20 14-13-42.png" data-attachment="true"></p><p>V přehledu denních výkonů bude doplněna bublinková nápověda objednané služby, a to o identifikaci odpovídající objednávky (naznačeno červeně). </p><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-20 13-58-58.png" data-attachment="true"></p><p> </p><h4>Formulář editace denního výkonu</h4><p>V nástrojové liště tabulky bude k dispozici pouze jedno (společné) tlačítko pro sloučení objednané služby (zmíněno již dříve).</p><p>V tabulce objednaných služeb bude v rámci jednotlivých panelů objednané služby použita společná ikona indikující rozdělení objednané služby či vytvoření místa dočasného uložení (aktuálně dvě samostatné ikony; naznačeno červeně).</p><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-20 15-22-40.png" data-attachment="true"></p><p>V tabulce objednaných služeb bude v rámci jednotlivých panelů objednané služby doplněna informace o odpovídající objednávce, pod kterou objednaná služba spadá. Ta bude dostupná jako bublinková nápověda nově přidané ikony (naznačeno červeně).</p><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-20 14-47-16.png" data-attachment="true"></p><p>V případě, kdy uživatel označí objednanou službu, která byla rozdělena, dojde ke grafickému zvýraznění ostatních částí této objednané služby (pokud jsou vloženy na stejný denní výkon). Takto jsou související objednané služby zvýrazněny, dokud je tato objednaná služba označena.</p><ul><li>Objednaná služba 4 – označena uživatelem (v takovém případě jsou graficky zvýrazněny i odpovídající lokace; aktuální stav).</li><li>Objednaná služba 6 – zvýrazněna systémem, jedná se pak část uživatelem označené objednané služby (zvýrazněn je pouze panel objednané služby bez odpovídajících lokací).</li></ul><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-23 8-1-11.png" data-attachment="true"></p><h4>Obrazovka monitoringu realizace denního výkonu</h4><p>V přehledu realizací denních výkonů bude doplněna bublinková nápověda lokace objednané služby, a to o identifikaci odpovídající objednávky (naznačeno červeně). </p><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-20 14-58-47.png" data-attachment="true"></p><h4>Formulář kontroly realizace denního výkonu</h4><p>V tabulce objednaných služeb bude v rámci jednotlivých panelů objednané služby doplněna informace o odpovídající objednávce, pod kterou objednaná služba spadá. Ta bude dostupná jako bublinková nápověda nově přidané ikony (naznačeno červeně).</p><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-20 15-1-20.png" data-attachment="true"></p><h4>Formulář objednané služby, Formulář rozdělení objednané služby, Formulář vytvoření místa dočasného uložení</h4><p>V dále uvedených formulářích bude doplněna informace o odpovídající objednávce, pod kterou objednaná služba spadá. Ta bude dostupná jako bublinková nápověda nově přidané ikony (naznačeno červeně). Jedná se pak o tyto formuláře:</p><ul><li>Formulář objednané služby,</li><li>Formulář rozdělení objednané služby,</li><li>Formulář vytvoření místa dočasného uložení.</li></ul><p><img src="id-040-nasobne-rozdeleni-objednane-sluzby-89065686_images/image2020-11-20 15-9-19.png" data-attachment="true"></p><h1>Akceptační testy</h1><p>Pro splnění požadavku musí být splněny následující testovací scénáře.</p><h2>TC01: Migrace datové základny</h2><p>V rámci nasazení změnového požadavku dochází k migraci datové základny. Splněna pak musí být všechna dále uvedená kritéria:</p><ul><li>Jsou zachována data o objednaných službách.</li><li>Jsou zachována data o denních výkonech.</li><li>Jsou zachována data o realizaci denních výkonů.</li><li>Jsou zachovány vazby mezi uvedenými entitami.</li></ul><p>Poznámka: Uvedeny jsou pouze takové entity, u kterých dochází ke změně struktury. Zde je riziko chybného přenesení dat.</p><h2>TC02: Rozdělení objednané služby</h2><ol><li>Uživatel označí objednanou službu.</li><li>Systém vyhodnotí, zda je možné rozdělení objednané služby provést – pokud jsou splněny všechny dále uvedené podmínky, zobrazí tlačítko pro rozdělení objednané služby.<br><ul><li>Uživatel má oprávnění k provedení akce.</li><li>Objednaná služba umožňuje rozdělení – obsahuje alespoň 2 platné lokace objednané služby (provozovna, likvidační místo, místo realizace, místo dočasného uložení).</li><li>Odpovídající denní výkon je možné editovat (je ve stavu Plněný nebo nižším).</li></ul></li><li>Uživatel zadá požadavek na rozdělení objednané služby.</li><li>Systém zobrazí formulář pro rozdělení objednané služby.</li><li>Uživatel vyplní formulář:<br><ol><li>zvolí místo rozdělení,</li><li>nastaví předpokládané datum realizace vytvářené objednané služby.</li></ol></li><li>Pokud uživatel zruší provedení změny:<br><ol><li>Testovací scénář končí – nedošlo k rozdělení objednané služby.</li></ol></li><li>Jinak uživatel potvrdí provedené změny.</li><li>Systém vytvoří navazující objednanou službu – lokace objednané služby jsou mezi objednané služby rozděleny dle nastaveného místa rozdělení.</li><li>Systém vloží vytvořenou objednanou službu na odpovídající denní výkon (jako v pořadí poslední položku denního výkonu).</li><li>Systém se vrátí zpět na obrazovku, kde došlo ke spuštění požadavku na rozdělení objednané služby (zde aktualizuje zobrazené informace). </li></ol><p>Poznámka: Akci je možné spustit na obrazovce editace denního výkonu (M5).</p><h2>TC03: Vytvoření místa dočasného uložení</h2><ol><li>Uživatel označí objednanou službu.</li><li>Systém vyhodnotí, zda je možné vytvoření místa dočasného uložení provést – pokud jsou splněny všechny dále uvedené podmínky, zobrazí tlačítko pro vytvoření místa dočasného uložení.<br><ul><li>Uživatel má oprávnění k provedení akce.</li><li>Objednaná služba umožňuje vytvoření místa dočasného uložení – obsahuje alespoň 2 platné lokace objednané služby (provozovna, likvidační místo, místo realizace, místo dočasného uložení).</li><li>Odpovídající denní výkon je možné editovat (je ve stavu Plněný nebo nižším).</li></ul></li><li>Uživatel zadá požadavek na vytvoření místa dočasného uložení.</li><li>Systém zobrazí formulář pro vytvoření místa dočasného uložení.</li><li>Uživatel vyplní formulář:<br><ul><li>nastaví adresu a souřadnice místa dočasného uložení,</li><li>zvolí místo rozdělení,</li><li>nastaví předpokládané datum realizace vytvářené objednané služby.<br></li></ul></li><li>Pokud uživatel zruší provedení změny:<br><ol><li>Testovací scénář končí – nedošlo k vytvoření místa dočasného uložení.</li></ol></li><li>Jinak uživatel potvrdí provedené změny.</li><li>Systém vytvoří navazující objednanou službu – lokace objednané služby jsou mezi objednané služby rozděleny dle nastaveného místa rozdělení (obě objednané služby jsou doplněny o lokaci představující místo dočasného uložení).</li><li>Systém vloží vytvořenou objednanou službu na odpovídající denní výkon (jako v pořadí poslední položku denního výkonu).</li><li>Systém se vrátí zpět na obrazovku, kde došlo ke spuštění požadavku na vytvoření místa dočasného uložení (zde aktualizuje zobrazené informace).</li></ol><p>Poznámka: Akci je možné spustit na obrazovce editace denního výkonu (M5).</p><h2>TC04: Sloučení objednané služby</h2><ol><li>Uživatel označí objednanou službu.</li><li>Systém vyhodnotí, zda je možné akci provést – pokud jsou splněny všechny dále uvedené podmínky, zobrazí tlačítko pro sloučení objednané služby.<br><ul><li>Uživatel má oprávnění k provedení akce.</li><li>Objednaná služba byla nějakým způsobem rozdělena (rozdělení, vytvoření místa dočasného uložení).</li></ul></li><li>Uživatel zadá požadavek na sloučení objednané služby.</li><li>Systém zobrazí formulář pro sloučení objednané služby:<br><ul><li>zobrazí všechny dílčí objednané služby,</li><li>zvýrazní objednanou výchozí službu (pro kterou byla akce spuštěna),</li><li>zpřístupní možnost sloučení mezi jednotlivými dvojicemi objednaných služeb (pokud daná dvojice umožňuje sloučení).</li></ul></li><li>Uživatel vyplní formulář – označí dvojice objednaných služeb, u kterých má být provedeno sloučení.</li><li>Pokud uživatel zruší provedení změny:<br><ol><li>Testovací scénář končí – nedošlo ke sloučení objednané služby.<br></li></ol></li><li>Jinak uživatel potvrdí provedené změny.</li><li>Systém provede sloučení zvolených dvojic objednaných služeb.</li><li>Systém odebere zaniklé objednané služby z odpovídajícího denního výkonu, pokud je to potřeba.</li><li>Systém se vrátí zpět na obrazovku, kde došlo ke spuštění požadavku na sloučení objednané služby (zde aktualizuje zobrazené informace).</li></ol><p>Poznámka: Akci je možné spustit na obrazovce plánování denních výkonů (M4) a obrazovce editace denního výkonu (M5).</p><h2>TC05: Zobrazení lokací objednané na obrazovce plánování denních výkonů</h2><ol><li>Uživatel najede myší na panel objednané služby – na ikonu pro zobrazení obsažených lokací objednané služby.</li><li>Pokud se jedná o <strong>nerozdělenou</strong> objednanou službu – systém zobrazí základní informace o lokacích objednané služby.</li><li>Pokud se jedná o nějakým způsobem <strong>rozdělenou</strong>objednanou službu (rozdělení, místo dočasného uložení):<ol><li>Systém zobrazí základní informace o odpovídajících objednaných službách:<br><ul><li>informace o naplánování objednané služby,</li><li>informace o lokacích objednané služby.</li></ul></li><li>Systém zvýrazní informace o uživatelem zvolené objednané službě. </li></ol></li></ol><h2>TC06: Označení objednané služby na obrazovce editace denního výkonu</h2><ol><li>Uživatel označí objednanou, která byla nějakým způsobem rozdělena (rozdělení, vytvoření místa dočasného uložení).</li><li>Systém označí uživatelem zvolenou objednanou službu – označen jak panel objednané služby, tak řádky s jednotlivými lokacemi objednané služby.</li><li>Systém označí všechny odpovídající objednané služby – označen pouze panel objednané služby.</li></ol><h1>Poznámka</h1><p>–</p>
</div>
</body>
</html>
