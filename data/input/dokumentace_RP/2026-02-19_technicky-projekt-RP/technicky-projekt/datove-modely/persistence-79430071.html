<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>Persistence dat v dynamických entitách</title>
</head>
<body>
<div class="wiki-content">
<p><strong><br></strong></p><h1><strong>Definice</strong></h1><h3>Statická entita</h3><ul><li>Entita, která je "trvalá". K jejím změnám dochází zřídka (nicméně podléhá změnám). </li><li>Vyskytuje se v relativně malém počtu. </li><li>Statické entity a jejich atributy bývají referencované v rámci dynamických entit. </li><li>V<em> kontextu navrhovaného systému se jedná např. o Zákazníky, Místa realizace, Vozidla, Zaměstnance.</em></li></ul><h3>Dynamická entita</h3><ul><li>Entita, která má omezenou životnost (z pohledu běžné práce v systému; je důležité ji evidovat pro analytické, auditní účely apod.). </li><li>V čase vzniká velký počet takových entit.</li><li><em>V kontextu navrhovaného systému se jedná např. o Objednávky, Trasy.</em></li></ul><h1><strong>Účel</strong></h1><ul><li>V dynamických entitách, jako jsou např. Objednávka nebo Trasa, figurují reference na atributy ze statických entit. </li><li>Je požadováno, aby při <strong>změně dat statické entity byla pro dynamickou entitu zachována původní referencovaná data</strong>.</li><li>Příklad: <em>Pokud dojde ke dni 14.8.2018 ke změně adresy sídla Zákazníka, pak musí být v Objednávkách před tímto datem zachována původní adresa sídla</em>.</li></ul><h1>Seznam persistentních atributů</h1><p>Atributy, u kterých je požadována persistence, jsou vyznačeny v <a href="#" data-page-title="Datový slovník">Datový slovník</a> ve sloupci Persistentní reference.</p><p>Tato vlastnost je uvedena u následujících entit:</p><ul><li><a href="datovy-78681044.html">Objednávka</a></li><li><a href="datovy-78681044.html">Položka objednávky</a></li><li><a href="datovy-78681044.html">Objednaný úkon</a></li><li><a href="datovy-78681044.html">Vývoz na likvidační místo</a></li><li><a href="datovy-78681044.html">Řádek kalkulace ceny</a></li></ul><p><em>Poznámka: Postupně bude doplněno pro další relevantní případy (např.Objednané služby, Trasy).</em></p><h1>Technické řešení</h1><p>Volba vhodného technického řešení je na dodavateli systému.</p><p>Možné řešení je popsáno např. zde: <a href="https://dba.stackexchange.com/questions/111101/storing-a-billing-address-best-practice-in-orders-table">https://dba.stackexchange.com/questions/111101/storing-a-billing-address-best-practice-in-orders-table</a></p><h3>Popis zvoleného řešení</h3><ul><li>Při modifikaci vzniká vždy nová aktivní instance dané entity, předchozí aktivní instance získá příznak neaktivního záznamu.</li><li>Nově vzniklá instance má na sobě vazbu na úplně původní instanci. (V současnosti - 20.5.2019 - toto neplatí, bude potřebné doimplementovat.)</li></ul>
</div>
</body>
</html>
