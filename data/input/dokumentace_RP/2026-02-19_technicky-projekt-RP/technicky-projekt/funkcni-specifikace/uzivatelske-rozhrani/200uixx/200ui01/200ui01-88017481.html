<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>200UI01: Mapa zobrazující denní výkony</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis</h1><p>Mapa pro zobrazení tras <a href="../../../../datove-modely/datovy-78681044.html">Denních výkonů</a>, které jsou načteny v rámci <a href="200ui01-83266009.html">Přehledu denních výkonů</a>. Zobrazeny jsou pak pouze samotné trasy.</p><p>Poznámka: Základní zobrazení mapy vychází z jejího <a href="../../700uixx-obecne/700ui01-komponenty/700ui01-83266189.html">obecného popisu</a>.</p><h1>Uživatelské rozhraní</h1><h2>Rozložení</h2><h3>Drátový diagram</h3><p><img src="200UI01_MapaZobrazujiciDenniVykony_rozlození_wf.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Hodnota</th></tr><tr><td colspan="1">1</td><td colspan="1">Trasa denního výkonu</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</p><p>Dostupné <a href="../../../../datove-modely/datovy-78681044.html">Denní výkony</a> vychází z těch v <a href="200ui01-83266009.html">Přehledu denních výkonů</a> této obrazovky (tomu odpovídá i pořadí, ve kterém jsou <a href="../../../../datove-modely/datovy-78681044.html">Denní výkony</a> vykreslovány). Vykresleny jsou pak pouze takové <a href="../../../../datove-modely/datovy-78681044.html">Denní výkony</a>, které obsahují alespoň jednu <a href="../../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> (atribut Položky denního výkonu).</p><p>Popis toho, jakým způsobem jsou jednotlivé <a href="../../../../datove-modely/datovy-78681044.html">Denní výkony</a> vykresleny, je uveden dále – viz <a href="200ui01-88017481.html">Vykreslení denních výkonů</a>.</p></td></tr></tbody></table><h3>Chování</h3><h4>Vykreslení denních výkonů</h4><p>Na vstupu mapy pro vykreslení tras <a href="../../../../datove-modely/datovy-78681044.html">Denních výkonů</a> jsou získány takové <a href="../../../../datove-modely/datovy-78681044.html">Denní výkony</a>, které jsou právě zobrazeny v rámci <a href="200ui01-83266009.html">Přehledu denních výkonů</a> stejné obrazovky. Podle nastavení tohoto přehledu jsou pak předány buď všechny obsažené <a href="../../../../datove-modely/datovy-78681044.html">Denní výkony</a>, nebo pouze ty označené. K dispozici je také informace, který <a href="../../../../datove-modely/datovy-78681044.html">Denní výkon</a> byl označen jako poslední.</p><ol><li>Pro všechny <a href="../../../../datove-modely/datovy-78681044.html">Denní výkony</a>, které mají být vykresleny:<br><ol><li>Pokud <a href="../../../../datove-modely/datovy-78681044.html">Denní výkon</a> obsahuje alespoň jednu <a href="../../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> (atribut Položky denního výkonu):<br><ol><li>Systém vykreslí trasu <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, viz <a href="200ui01-88017481.html">Vykreslení trasy denního výkonu</a>. Na vstup jsou pak předány následující informace:<br><ul><li>Denní výkon: právě zkoumaný <a href="../../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li><li>Barva: v pořadí další barva, viz <a href="200ui01-88017481.html">Barva trasy denního výkonu</a>.</li><li>Zobrazit trasu: viz <a href="200ui01-88017481.html">nástrojová lišta</a>, položka Denní výkony, dílčí nastavení Zobrazení trasy.</li><li>Naznačit směr: viz <a href="200ui01-88017481.html">nástrojová lišta</a>, položka Denní výkony, dílčí nastavení Naznačení směru.<br></li></ul></li></ol></li></ol></li><li>Systém zvýrazní trajektorii <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, který byl v <a href="200ui01-83266009.html">Přehledu denních výkonů</a> označen jako poslední (zvýraznění je provedeno pomocí bílého orámování trajektorie).</li></ol><h4>Barva trasy denního výkonu</h4><p>Jednotlivé trasy <a href="../../../../datove-modely/datovy-78681044.html">Denních výkonů</a> jsou barevně odlišeny, k dispozici je pak množina barev, které se cyklicky opakují (barvy jsou uvedeny samostatně v přehledu <a href="../200ui01-83265952.html">použitých barev a ikon</a>). Jejich pořadí je pak pevně dáno:</p><ol><li><a href="../200ui01-83265952.html">Trasa denního výkonu/Pořadí: 1</a>,</li><li><a href="../200ui01-83265952.html">Trasa denního výkonu/Pořadí: 2</a>,</li><li><a href="../200ui01-83265952.html">Trasa denního výkonu/Pořadí: 3</a>,</li><li><a href="../200ui01-83265952.html">Trasa denního výkonu/Pořadí: 4</a>,</li><li><a href="../200ui01-83265952.html">Trasa denního výkonu/Pořadí: 5</a>,</li><li><a href="../200ui01-83265952.html">Trasa denního výkonu/Pořadí: 6</a>,</li><li><a href="../200ui01-83265952.html">Trasa denního výkonu/Pořadí: 7</a>,</li><li><a href="../200ui01-83265952.html">Trasa denního výkonu/Pořadí: 8</a>,</li><li><a href="../200ui01-83265952.html">Trasa denního výkonu/Pořadí: 9</a>,</li><li><a href="../200ui01-83265952.html">Trasa denního výkonu/Pořadí: 10</a>.</li></ol><p>Při prvním požadavku na získání barvy je tedy předána ta v pořadí první, následně druhá a podobně. Pokud je předána poslední uvedená barva, při dalším požadavku na získání barvy je opět předána ta v pořadí první.</p><h4>Vykreslení trasy denního výkonu</h4><p>Na vstupu algoritmu pro vykreslení trasy <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonu</a> jsou získány následující informace:</p><ul><li><a href="../../../../datove-modely/datovy-78681044.html">Denní výkon</a>, který má být vykreslen.</li><li>Barva, kterou má být trasa <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonu</a> vykreslena.</li><li>Zobrazit trasu – informace, zda má být vykreslena skutečná trasa (TRUE) nebo pouze spojnice (FALSE).</li><li>Naznačit směr – informace, zda má být naznačen směr.</li></ul><p>Postup se pak liší podle toho, zda má být vykreslena skutečná trasa, nebo pouze přímé spojnice – viz vstupní parametr Zobrazit trasu:</p><ul><li>TRUE: <a href="200ui01-88017481.html">Vykreslení trasy denního výkonu – trasa</a>,</li><li>FALSE: <a href="200ui01-88017481.html">Vykreslení trasy denního výkonu – spojnice</a>.</li></ul><h5>Vykreslení trasy denního výkonu – trasa</h5><p>V tomto případě jsou vykresleny trasy kopírující pozemní komunikace – postup je následující.</p><ol><li>Systém vykreslí <a href="../../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> představující start <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut Počáteční položka denního výkonu), viz <a href="200ui01-88017481.html">Vykreslení položky denního výkonu</a>. Na vstup jsou pak předány následující informace:<br><ul><li>Položka denního výkonu: právě zkoumaná <a href="../../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>.</li><li>Barva: hodnota parametru Barva získaná na vstupu.</li><li>Naznačit směr: hodnota parametru Naznačit směr získaná na vstupu.<br></li></ul></li><li>Pro všechny <a href="../../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> obsažené v rámci <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut Položky denního výkonu):<br><ol><li>Systém vykreslí právě zkoumanou <a href="../../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a>, viz <a href="200ui01-88017481.html">Vykreslení položky denního výkonu</a>. Na vstup jsou pak předány následující informace:<br><ul><li>Položka denního výkonu: právě zkoumaná <a href="../../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>.</li><li>Barva: hodnota parametru Barva získaná na vstupu.<br></li><li>Naznačit směr: hodnota parametru Naznačit směr získaná na vstupu.</li></ul></li></ol></li></ol><p>Poznámka: <a href="../../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> představující cíl nemusí být vykreslena, neobsahuje žádnou další část trasy.</p><h6>Vykreslení položky denního výkonu</h6><p>Na vstupu algoritmu pro vykreslení trasy <a href="../../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> jsou získány následující informace:</p><ul><li><a href="../../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>, který má být vykreslen.</li><li>Barva, kterou má být trasa <a href="../../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> vykreslena.</li><li>Naznačit směr – informace, zda má být naznačen směr.</li></ul><p>Postup je pak následující:</p><ol><li>Pokud je k dispozici <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (atribut Lokace objednané služby entity <a href="../../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>):<br><ol><li>Systém vykreslí trasu do další <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (atribut Trasa do další lokace právě zkoumané <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>), viz <a href="200ui01-88017481.html">Vykreslení lokace objednané služby</a>. Na vstup jsou pak předány následující informace:<br><ul><li>Lokace objednané služby: právě zkoumaná <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>.</li><li>Barva: hodnota parametru Barva získaná na vstupu.</li><li>Naznačit směr: hodnota parametru Naznačit směr získaná na vstupu.</li></ul></li></ol></li><li>Jinak je vykreslena trasa obsažené <a href="../../../../datove-modely/datovy-78681044.html">Objednané služby</a> (atribut Objednaná služba entity <a href="../../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>):<br><ol><li> Pro všechny <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> obsažené v rámci <a href="../../../../datove-modely/datovy-78681044.html">Objednané služby</a> (atribut Lokace objednané služby):<br><ol><li>Systém vykreslí trasu do další <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (atribut Trasa do další lokace právě zkoumané <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>), viz <a href="200ui01-88017481.html">Vykreslení lokace objednané služby</a>. Na vstup jsou pak předány následující informace:<br><ul><li>Lokace objednané služby: právě zkoumaná <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>.</li><li>Barva: hodnota parametru Barva získaná na vstupu.</li><li>Naznačit směr: hodnota parametru Naznačit směr získaná na vstupu.<br></li></ul></li></ol></li></ol></li></ol><p>Poznámka: V některých případech může být k dispozici jak <a href="../../../../datove-modely/datovy-78681044.html">Objednaná služba</a>, tak <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>. V takovém případě je konkrétní trasa obsažena právě v <a href="../../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a>.</p><h6>Vykreslení lokace objednané služby</h6><p>Na vstupu algoritmu pro vykreslení trasy z <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> jsou získány následující informace:</p><ul><li><a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>, z které je trasa vykreslena.</li><li>Barva, kterou má být trasa z <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> vykreslena.</li><li>Naznačit směr – informace, zda má být naznačen směr.</li></ul><p>Postup je pak následující:</p><ol><li>Pokud má být trasa z <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> získané na vstupu vykreslena – hodnota atributů Platná a Provést je rovna TRUE:<br><ol><li>Systém vykreslí trasu z <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> získané na vstupu UC (atribut Trasa do další lokace) následovně:<br><ul><li>Barva je získaná na vstupu.</li><li>Pokud je hodnota parametru Naznačit směr, která je získána na vstupu, rovna TRUE, je naznačen směr.</li></ul></li></ol></li></ol><h5>Vykreslení trasy denního výkonu – spojnice</h5><p>V tomto případě jsou vykresleny přímé spojnice – postup je následující.</p><ol><li>Systém připraví pomocné proměnné obsahující souřadnice pro získání krajních bodů pro vykreslení spojnice:<br><ol><li>Bod1: výchozí hodnota je nastavena na NULL.</li><li>Bod2: výchozí hodnota je nastavena na NULL.<br></li></ol></li><li>Systém nastaví počáteční bod představující start <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonu</a>:<br><ol><li>Bod1: atribut Souřadnice entity <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> – atribut Lokace objednané služby entity <a href="../../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – atribut Počáteční položka denního výkonu entity <a href="../../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ol></li><li>Pro všechny obsažené <a href="../../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> (atribut Položky denního výkonu entity <a href="../../../../datove-modely/datovy-78681044.html">Denní výkon</a>):<br><ol><li>Pokud je k dispozici <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (atribut Lokace objednané služby entity <a href="../../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>):<br><ol><li>Systém nastaví následující bod trasy – Bod2: atribut Souřadnice entity <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (poznámka: v tomto případě je <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> obsloužena vždy).</li><li>Systém vykreslí spojnici mezi pomocnými body – viz <a href="200ui01-88017481.html">Vykreslení spojnice lokací objednané služby</a>, na vstup jsou předány následující hodnoty (poznámka: provede aktualizaci pomocných souřadnic):<br><ul><li>Počáteční bod: Bod1.</li><li>Koncový bod: Bod2.</li><li>Barva: hodnota parametru Barva získaná na vstupu.</li><li>Naznačit směr: hodnota parametru Naznačit směr získaná na vstupu.</li></ul></li></ol></li><li>Jinak je vykreslena trasa obsažené <a href="../../../../datove-modely/datovy-78681044.html">Objednané služby</a> (atribut Objednaná služba entity <a href="../../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>):<br><ol><li>Pro všechny obsažené <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (atribut Lokace objednané služby entity <a href="../../../../datove-modely/datovy-78681044.html">Objednaná služba</a>), která mají být obslouženy (hodnota atributů Platná a Provést nabývá TRUE):<br><ol><li>Systém nastaví následující bod trasy – Bod2: atribut Souřadnice entity <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>, která je právě zkoumána.</li><li>Systém vykreslí spojnici mezi pomocnými body – viz <a href="200ui01-88017481.html">Vykreslení spojnice lokací objednané služby</a>, na vstup jsou předány následující hodnoty (poznámka: provede aktualizaci pomocných souřadnic):<br><ul><li>Počáteční bod: Bod1.</li><li>Koncový bod: Bod2.</li><li>Barva: hodnota parametru Barva získaná na vstupu.</li><li>Naznačit směr: hodnota parametru Naznačit směr získaná na vstupu.<br></li></ul></li></ol></li></ol></li></ol></li><li>Systém nastaví koncový bod představující cíl <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonu</a>:<br><ol><li>Bod2: atribut Souřadnice entity <a href="../../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> – atribut Lokace objednané služby entity <a href="../../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – atribut Koncová položka denního výkonu entity <a href="../../../../datove-modely/datovy-78681044.html">Denní výkon</a>.<br></li></ol></li><li>Systém vykreslí spojnici mezi pomocnými body – viz <a href="200ui01-88017481.html">Vykreslení spojnice lokací objednané služby</a>, na vstup jsou předány následující hodnoty (poznámka: provede aktualizaci pomocných souřadnic):<ol><li>Počáteční bod: Bod1.</li><li>Koncový bod: Bod2.</li><li>Barva: hodnota parametru Barva získaná na vstupu.</li><li>Naznačit směr: hodnota parametru Naznačit směr získaná na vstupu.</li></ol></li></ol><h6>Vykreslení spojnice lokací objednané služby</h6><p>Na vstupu algoritmu pro vykreslení trasy spojnic <a href="../../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a> jsou získány následující informace:</p><ul><li>Počáteční bod – souřadnice počátečního bodu spojnice.</li><li>Koncový bod – souřadnice koncového bodu spojnice.</li><li>Barva, kterou má být spojnice vykreslena.</li><li>Naznačit směr – informace, zda má být naznačen směr.</li></ul><p>Postup je pak následující:</p><ol><li>Systém vykreslí spojnice mezi body získanými na vstupu (Počáteční bod, Koncový bod) následovně:<br><ul><li>Barva je získaná na vstupu.</li><li>Pokud je hodnota parametru Naznačit směr, která je získána na vstupu, rovna TRUE, je naznačen směr.</li></ul></li><li>Systém aktualizuje body získané na vstupu (projeví se i v rámci algoritmů, které tento tok událostí volají):<ol><li>Počáteční bod: Koncový bod.</li><li>Koncový bod: NULL.</li></ol></li></ol><h3>Interakce</h3><p>V rámci mapy jsou dostupné pouze základní interakce:</p><ul><li>Pokud uživatel najede myší na konkrétní trasu <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, je zobrazena bublinková nápověda obsahující text zobrazený v <a href="200ui01-83266009.html">Přehledu denních výkonů</a> stejné obrazovky v rámci <a href="200ui01-83266009.html">Panelu vozidla</a>, položka Identifikace vozidla.</li><li>Pokud uživatel klikne levým tlačítkem myši na konkrétní trasu <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, dojde k označení odpovídajícího <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonu</a> v rámci <a href="200ui01-83266009.html">Přehledu denních výkonů</a> stejné obrazovky (trasa označeného <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonu</a> je v mapě zvýrazněna). Označení více <a href="../../../../datove-modely/datovy-78681044.html">Denních výkonů</a> v rámci mapy není umožněno.</li></ul><h3>Nástrojová lišta</h3><p>Nástrojová lišta mapy vychází z jejího <a href="https://confluence.radium.cz/display/mpgskdispecer/700UI01%3A+Mapa#id-700UI01:Mapa-N%C3%A1strojov%C3%A1li%C5%A1ta">obecného popisu</a>. Navíc je doplněna o možnost rozšířeného nastavení, které je k dispozici ve skupině <a href="../../700uixx-obecne/700ui01-komponenty/700ui01-83266189.html">Vrstvy</a> této nástrojové lišty.</p><h4>Drátový diagram</h4><p><img src="200ui01-88017481_images/200UI01_MapaZobrazujiciDenniVykony_nastrojovaLista.png" data-attachment="true"></p><h4>Přehled UI komponent</h4><table><tbody><tr><th colspan="1">Callout</th><th>Nadpis</th><th>Typ položky</th><th>Popis</th><th colspan="1">Výchozí hodnota</th><th>Další možná nastavení</th><th colspan="1">Chování</th><th>Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Denní výkony</td><td colspan="1">Rozšířená</td><td colspan="1"><p>Slouží k zobrazení/skrytí plánované stopy obsažených <a href="../../../../datove-modely/datovy-78681044.html">Denních výkonů</a>.</p><p>Dále je možné změnit nastavení jednotlivých spojnic.</p></td><td colspan="1">TRUE: je zobrazena vrstva.</td><td colspan="1"><p>Zobrazení trasy:</p><ul><li>Nadpis: „Zobrazit trasu“.</li><li>Hodnoty:<br><ul><li>TRUE: jsou zobrazeny spojnice kopírující pozemní komunikace,</li><li>FALSE: jsou zobrazeny přímé spojnice.</li></ul></li><li>Výchozí hodnota: TRUE.</li></ul><p>Naznačení směru:</p><ul><li>Nadpis: „Naznačit směr“.</li><li>Hodnoty:<br><ul><li>TRUE: je naznačen směr,</li><li>FALSE: není naznačen směr.</li></ul></li><li>Výchozí hodnota: FALSE.</li></ul></td><td colspan="1">Změna provede nastavení odpovídajících vrstev.</td><td colspan="1">–</td></tr></tbody></table><h1>Grafický návrh</h1><h1>Revize</h1><h3>20. 11. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200ui01-88017481.html">Vykreslení denních výkonů</a></td><td colspan="1">Doplněn popis pro zvýraznění <a href="../../../../datove-modely/datovy-78681044.html">Denních výkonů</a> (naznačeno modře).</td></tr><tr><td colspan="1"><a href="200ui01-88017481.html">Barva trasy denního výkonu</a></td><td colspan="1">Aktualizována paleta použitých barev.</td></tr></tbody></table>
</div>
</body>
</html>
