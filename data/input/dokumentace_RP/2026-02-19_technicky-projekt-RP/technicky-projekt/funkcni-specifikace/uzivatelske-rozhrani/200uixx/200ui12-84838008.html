<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>200UI12: Obrazovka časového využití vozidla za rok</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis</h1><p>Obrazovka slouží k zobrazení časového využití vozidla za zadané období o délce až jeden rok.</p><p>Poznámka: Jednotlivé dílčí komponenty jsou společné pro více obrazovek s časovým využití, a tak jsou uvedeny v samostatném dokumentu – viz <a href="../700uixx-obecne/700ui01-komponenty/700ui01-84838020.html">700UI02: Časové využití vozidel</a>.</p><p>Množina vstupních dat vychází z položek umístěných v <a href="200ui12-84838008.html">nástrojové liště</a> obrazovky.</p><h1>Uživatelské rozhraní</h1><p>Nejdříve je zobrazena struktura obrazovky spolu s náhledem, následně jsou jednotlivé části postupně popsány.</p><p>Hlavička obsahuje tlačítko umožňující skrytí panelu s podrobnými informacemi – chování a parametry tlačítka jsou následující:</p><ul><li>Komponenta: ToggleButton.</li><li>Ikona: ra-panel-top (otočená o 90°).</li><li>Chování:<br><ul><li>Stisknutí tlačítka provede skrytí/zobrazení panelu.</li><li>Pokud je tlačítko stisknuto, je panel zobrazen, jinak je panel skryt.</li><li>Výchozí stav: nestisknuto.</li></ul></li></ul><h2>Rozložení</h2><h3>Drátový diagram</h3><p><img src="200ui12-obrazovka-casoveho-vyuziti-vozidla-za-rok-84838008_images/200UI12_rozlozeni_wf.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Callout</th><th>Skupina</th></tr><tr><td>1</td><td><a href="200ui12-84838008.html">Nástrojová lišta</a></td></tr><tr><td colspan="1">2</td><td colspan="1"><a href="200ui12-84838008.html">Kalendáře s časovým využitím</a></td></tr><tr><td colspan="1">3</td><td colspan="1"><a href="200ui12-84838008.html">Panel s podrobnými informacemi</a></td></tr></tbody></table><h3>Náhled</h3><p>Dále je uveden drátový diagram s náhledem celé obrazovky.</p><p><img src="200ui12-obrazovka-casoveho-vyuziti-vozidla-za-rok-84838008_images/200UI12_rozlozeni_kalendar.png" data-attachment="true"></p><h2>Nástrojová lišta</h2><p>Výchozí hodnoty nastavené v nástrojové liště jsou uvedeny v jejím popisu. Následně si již Systém pamatuje, jaké parametry uživatel nastavil, a při dalším zobrazení obrazovky tyto parametry předvyplní.</p><h3>Drátový diagram</h3><p><img src="200ui12-obrazovka-casoveho-vyuziti-vozidla-za-rok-84838008_images/200UI12_rozlozeni_nastrojovaLista.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Výběr provozovny</td><td colspan="1">–</td><td colspan="1">ComboBox</td><td colspan="1">Provozovna Trenčín</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>.</p><p>Dostupné jsou takové <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>, které splňují zároveň všechny uvedené podmínky:</p><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Uživatel má na danou <a href="../../../datove-modely/datovy-78681044.html">Provozovnu</a> právo.</li><li>Odpovídající <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> je v rámci jejich struktury na druhé úrovni (hodnota atributu Úroveň entity <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> je rovna 1).</li></ul></td><td colspan="1">V pořadí první uživateli dostupná <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>.</td><td colspan="1"><Název></td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Po výběru <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> se načtou odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> – viz <a href="200ui12-84838008.html">Načtení denních výkonů</a>.</td><td colspan="1">–</td><td colspan="1">Pokud je v ovládacím prvku obsažena pouze jedna <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>, chová se tento ovládací prvek jako TextBox.</td></tr><tr><td colspan="1">2</td><td colspan="1">Výběr předchozího období</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-arrow-left.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><p>Po stisknutí tlačítka se nastaví vybrané období (komponenta 3) následovně oproti právě nastavenému.</p><ul><li>Je získána délka zvoleného období – počet měsíců.</li><li>Je nastaveno nové období o stejné délce, které bezprostředně předchází právě nastavenému období.</li></ul><p>To vyvolá načtení odpovídajících <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> – viz <a href="200ui12-84838008.html">Načtení denních výkonů</a>.</p></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1">Výběr období</td><td colspan="1">–</td><td colspan="1">Button</td><td colspan="1">Leden 2018-Prosinec 2019</td><td colspan="1">Jedná se o výstup nabídky pro nastavení období – položky Datum od, Datum do.</td><td colspan="1">Aktuální rok.</td><td colspan="1"><p><Datum od>-<Datum do></p><p><a href="../../../pouzivane-81592337.html">Měsíc v roce</a></p></td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><p>Po stisknutí tlačítka se zobrazí kontextová nabídka pro výběr období po měsících – viz <a href="../700uixx-obecne/702uixx-kalendare-a-periodicita/702ui04-84838362.html">Výběr období po měsících</a>. V nabídce je zobrazeno aktuálně nastavené období.</p><p>Po výběru dne se načtou odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> – viz <a href="200ui12-84838008.html">Načtení denních výkonů</a>.</p></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">4</td><td colspan="1">Výběr následujícího období</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-arrow-right.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><p>Po stisknutí tlačítka se nastaví vybrané období (komponenta 3) následovně oproti právě nastavenému.</p><ul><li>Je získána délka zvoleného období – počet měsíců.</li><li>Je nastaveno nové období o stejné délce, které bezprostředně následuje za právě nastaveným obdobím.</li></ul><p>To vyvolá načtení odpovídajících <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> – viz <a href="200ui12-84838008.html">Načtení denních výkonů</a>.</p></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">5</td><td colspan="1">Výběr vozidla</td><td colspan="1">–</td><td colspan="1">Button</td><td colspan="1">5AX 2348</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Vozidlo</a>.</td><td colspan="1">–</td><td colspan="1"><RZ></td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><p>Po stisknutí tlačítka se zobrazí modální okno pro výběr <a href="../../../datove-modely/datovy-78681044.html">Vozidla</a> – viz <a href="../700uixx-obecne/700ui05-79430047.html">700UI05: Výběrové dialogy – Vozidlo</a>.</p><ul><li>Poznámka: Jsou nabízena pouze taková <a href="../../../datove-modely/datovy-78681044.html">Vozidla</a>, která jsou zařazena pod zvolenou <a href="../../../datove-modely/datovy-78681044.html">Provozovnou</a> (komponenta 1) – atribut Provozovna entity <a href="../../../datove-modely/datovy-78681044.html">Vozidlo</a>. Uživatel pak musí mít na konkrétní <a href="../../../datove-modely/datovy-78681044.html">Vozidlo</a> oprávnění.</li></ul><p>Po výběru <a href="../../../datove-modely/datovy-78681044.html">Vozidla</a> se načtou odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> – viz <a href="200ui12-84838008.html">Načtení denních výkonů</a>.</p></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">6</td><td colspan="1">Obnovení dat</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-refresh.</li><li>Barva pruhu: #2d6d7d.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Po stisknutí tlačítka se načtou odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> – viz <a href="200ui12-84838008.html">Načtení denních výkonů</a>.</td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h3>Chování</h3><h4>Načtení denních výkonů</h4><p>Pokud dojde k situaci, kdy mají být načteny <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, je nutné nejprve vyhodnotit, zda jsou dostupná všechna vstupní data – žádná z dále uvedených hodnot není NULL:</p><ul><li>Provozovna: <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> zvolená v nástrojové liště.</li><li>Období: období zvolené v nástrojové liště.</li><li>Vozidlo: <a href="../../../datove-modely/datovy-78681044.html">Vozidlo</a> zvolené v nástrojové liště.</li></ul><p>Pokud jsou vstupní data k dispozici, je pro každý měsíc obsažený ve zvoleném období spuštěn <a href="../../pripady-uziti/203ucxx-planovani-casove-vyuziti/203uc06-84838100.html">203UC06: Načíst denní výkony pro zobrazení časového využití vozidla</a>, na vstup jsou jsou pak předány následující hodnoty:</p><ul><li>Provozovna: <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> zvolená v nástrojové liště.</li><li>Období: aktuálně zkoumaný měsíc z období zvoleného v nástrojové liště (Datum od-Datum do).</li><li>Vozidlo: <a href="../../../datove-modely/datovy-78681044.html">Vozidlo</a> zvolené v nástrojové liště.</li></ul><p>Následně je získáno průměrné časové využití za právě zkoumaný měsíc – je spuštěn <a href="../../pripady-uziti/203ucxx-planovani-casove-vyuziti/203uc07-84838110.html">203UC07: Získat souhrnné informace o denních výkonech</a>, na vstup jsou pak předány následující hodnoty:</p><ul><li>Denní výkony: <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> načtené v předcházejícím kroku.</li></ul><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> k dispozici nejsou (na výstupu <a href="../../pripady-uziti/203ucxx-planovani-casove-vyuziti/203uc06-84838100.html">203UC06: Načíst denní výkony pro zobrazení časového využití vozidla</a> bylo předáno NULL), souhrnné hodnoty získávány nejsou, tomu pak odpovídá i jejich zobrazení.</p><p>Když máme k dispozici potřebné informace, můžeme zobrazit odpovídající kalendář s hodnotami pro zadaný měsíc – viz <a href="200ui12-84838008.html">Kalendáře s časovým využitím</a>.</p><p>To postupně opakujeme pro každý měsíc, a to ve vzestupném pořadí.</p><p>Pokud dojde k načtení <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a>, Systém zruší zruší výběr buňky, pokud byla před načtením některá vybrána.</p><h2>Kalendáře s časovým využitím</h2><p>Jednotlivé kalendáře jsou vkládány do mřížky, která se responzivně přizpůsobuje velikosti okna prohlížeče, kdy jsou jednotlivé kalendáře vkládány po řádcích.</p><p>Samotný kalendář vkládaný do mřížky je pak popsán samostatně – viz <a href="../700uixx-obecne/700ui01-komponenty/700ui01-84838020.html">Kalendář časového využití</a>. Na vstup jsou pak při vkládání předány následující hodnoty:</p><ul><li>Nadpis: název právě zkoumaného období, který je získán z Data od tohoto období, předaný v uvedeném formátu – viz <a href="../../../pouzivane-81592337.html">Měsíc v roce</a>.</li><li>Průměrné časové využití: průměrné časové využití obsažených <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a>, které bylo získáno v rámci <a href="../../pripady-uziti/203ucxx-planovani-casove-vyuziti/203uc07-84838110.html">203UC07: Získat souhrnné informace o denních výkonech</a> pro zkoumané období.</li><li>Měsíc: právě zkoumané období – Datum od a Datum do.</li><li>Denní výkony (kolekce): <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, které bylo získány v rámci <a href="../../pripady-uziti/203ucxx-planovani-casove-vyuziti/203uc06-84838100.html">203UC06: Načíst denní výkony pro zobrazení časového využití vozidla</a> pro zkoumané období.</li></ul><p>Poznámka:</p><ul><li>Právě zkoumané období je vždy o délce jednoho měsíce, kalendáře jsou tedy vkládány postupně pro každý měsíc zvoleného období.</li><li>Pokud <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> nejsou k dispozici (na výstupu <a href="../../pripady-uziti/203ucxx-planovani-casove-vyuziti/203uc06-84838100.html">203UC06: Načíst denní výkony pro zobrazení časového využití vozidla</a> bylo předáno NULL), je jako Průměrné časové využití předáno NULL.</li></ul><p>V případě, kdy nebyl načten žádný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>, je zobrazen pouze zástupný text: Pro zadané parametry není k dispozici žádný denní výkon.<br></p><h3>Drátový diagram</h3><p><img src="200ui12-obrazovka-casoveho-vyuziti-vozidla-za-rok-84838008_images/image2019-3-15 16-3-56.png" data-attachment="true"></p><h2>Panel s podrobnými informacemi</h2><p>Panel s podrobnými informacemi obsahuje jednu kartu:</p><ul><li>Detail – podrobné informace o <a href="../../../datove-modely/datovy-78681044.html">Denním výkonu</a>.</li></ul><h3>Detail</h3><p>Panel s detailem <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> je popsán v samostatném dokumentu – viz <a href="200ui04-83265960.html">200UI04: Detail denního výkonu – detail</a>. Na vstup je pak předán právě označený <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</p><p>Poznámka: Pokud není označena žádný buňka kalendáře, případně označená buňka kalendáře nemá přiřazen žádný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>, je předáno NULL.</p><h1>Grafický návrh</h1><h1>Revize</h1><h3>31. 8. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200ui12-84838008.html">Nástrojová lišta</a></td><td colspan="1">Revize dostupných provozoven (naznačeno modře).</td></tr></tbody></table><h3>21. 6. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="200ui12-84838008.html">Nástrojová lišta</a></td><td colspan="1">Aktualizován popis dostupných <a href="../../../datove-modely/datovy-78681044.html">Provozoven</a> v nástrojové liště (komponenta 1, naznačeno modře).</td></tr></tbody></table><h3>14. 6. 2019: Tomáš Nadrchal</h3><p>Provedené změny korespondují s <a href="https://confluence.radium.cz/pages/viewpage.action?pageId=84837655">akceptačními testy pro M6</a> (potřebná data jsou k dispozici až v rámci M8) – bude zobrazováno využití <a href="../../../datove-modely/datovy-78681044.html">Vozidla</a> podle toho, zda jsou již k dispozici data ze skutečného provozu (z GPS jednotky).</p><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="200ui12-84838008.html">Detail</a></td><td colspan="1">Použit detail <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, který byl vytvořen v rámci M8 (naznačeno modře).</td></tr></tbody></table><h3>1. 4. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="200ui12-84838008.html">Nástrojová lišta</a></td><td colspan="1">Doplněna informace o pamatování si hodnot zadaných uživatelem v nástrojové liště.</td></tr><tr><td colspan="1"><a href="200ui12-84838008.html">Kalendáře s časovým využitím</a></td><td colspan="1"> </td></tr></tbody></table>
</div>
</body>
</html>
