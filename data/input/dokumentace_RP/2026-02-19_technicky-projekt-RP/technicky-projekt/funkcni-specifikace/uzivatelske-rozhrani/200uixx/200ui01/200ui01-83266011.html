<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>200UI01: Mapa zobrazující vybraný denní výkon</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis</h1><p>Mapa pro zobrazení <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonů</a>, a to ve formě bublinkové nápovědy. <a href="../../../../datove-modely/datovy-78681044.html">Denní výkon</a>, který má být v rámci mapy zobrazen, je získán na vstupu.</p><p>Poznámka: Základní zobrazení mapy vychází z jejího <a href="../../700uixx-obecne/700ui01-komponenty/700ui01-83266189.html">obecného popisu</a>.</p><h1>Uživatelské rozhraní</h1><p>Pro zobrazení <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonu</a> je použita existující mapa, která je popsána samostatně, viz <a href="#" data-page-title="200UI02: Mapa zobrazující denní výkon">200UI02: Mapa zobrazující denní výkon</a>. Vzhledem k zobrazení mapy v rámci bublinkové nápovědy je částečně omezena její funkčnost, a to následovně:</p><ul><li>Nejsou dostupné žádné interakce – přiblížení mapy, posun v rámci mapového podkladu a podobně.</li><li>Není možné provést žádná nastavení mapy – nástrojová lišta není k dispozici vůbec (je použito výchozí nastavení).</li><li>Mapa je vycentrována a přiblížena tak, aby byly vidět všechny zobrazené vrstvy.</li></ul><p>Rozměry jsou pak dynamicky přizpůsobeny jak velikosti displeje, tak rozměry zobrazené vrstvy s trasou <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</p><p>Nejprve je nutné zjistit, která strana bude nastavena dle velikosti displeje a která se dynamicky dopočítá dle velikosti zobrazené vrstvy. Tuto informaci získáme ze struktury Polyline (slouží k vykreslení samotné trasy <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonu</a>), která je předána spolu s <a href="../../../../datove-modely/datovy-78681044.html">Denním výkonem</a> na vstupu. V rámci struktury nás pak zajímají 2 základní atributy, <strong>šířka</strong> a <strong>výška</strong>. Zároveň můžeme vypočítat i poměr poměr stran pro následný výpočet druhého z rozměrů mapy.</p><table><tbody><tr><th>Podmínka</th><th>Pevně daný rozměr mapy</th><th>Poměr stran</th></tr><tr><td>Šířka je větší nebo rovna výšce</td><td>šířka</td><td>Podíl <strong>výšky</strong> a <strong>šířky</strong>.</td></tr><tr><td>Jinak</td><td>výška</td><td>Podíl <strong>šířky</strong> a <strong>výšky</strong>.</td></tr></tbody></table><p>Pevně daný rozměr mapy je pak nastaven dle velikosti displeje, a to jako součin <strong>šířky displeje</strong> a <strong>koeficientu</strong> (maxSizeContextMapRatio, viz <a href="#" data-page-title="Konfigurační hodnoty"></a>).</p><p>Dynamicky dopočítaný rozměr mapy je pak získán jako součin <strong>pevně daného rozměru mapy</strong> a <strong>poměru stran</strong>.</p><p>Vrstva s trasou <a href="../../../../datove-modely/datovy-78681044.html">Denního výkonu</a> je pak vykreslena tak, aby v rámci mapy zůstaly zachovány okraje – vrstva tedy nebude plně vyplňovat mapu. Rozměr vrstvy je pak pro výšku i šířku získán jako součin <strong>odpovídajícího rozměru mapy</strong> a <strong>koeficientu</strong> (layersSizeContextMapRatio, viz <a href="#" data-page-title="Konfigurační hodnoty"></a>).</p><p>Poznámka: Pokud by po zobrazení mapy mělo dojít k tomu, že část bude zobrazena „mimo obrazovku“, dojde k posunutí tak, aby byla vidět celá mapa.</p><h1>Grafický návrh</h1><h1>Revize</h1><h3>1. 10. 2019: Tomáš Nadrchal</h3><p>Provedeny změny v rámci celého dokumentu dle požadavků v M10.</p>
</div>
</body>
</html>
