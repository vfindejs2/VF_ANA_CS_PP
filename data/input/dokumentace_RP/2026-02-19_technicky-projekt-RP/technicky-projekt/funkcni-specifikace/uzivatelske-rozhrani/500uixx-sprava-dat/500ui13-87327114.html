<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>500UI13: Formulář adresy sídla zákazníka</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis</h1><p>Formulář slouží k zadání <a href="../../../datove-modely/datovy-78681044.html">Adresy</a> sídla <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, a to při jeho zakládání či editaci. Umožňuje v rámci přidání této <a href="../../../datove-modely/datovy-78681044.html">Adresy</a> rovnou založit i <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a>, které se vyskytuje na totožné <a href="../../../datove-modely/datovy-78681044.html">Adrese</a>.</p><p>Na vstupu pak mohou být předána uvedená data:</p><ul><li><a href="../../../datove-modely/datovy-78681044.html">Adresa</a> (nepovinný údaj).</li><li><a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (nepovinný údaj).</li></ul><p>Poznámka: Formulář částečně vychází z <a href="#" data-page-title="500UI04: Formulář místa realizace"></a>.</p><h1>Uživatelské rozhraní</h1><h2>Rozložení</h2><p>Formulář obsahuje část, která je zobrazena až ve chvíli, kdy to požaduje uživatel (komponenty 8-13) a která umožňuje současné vytvoření <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a>. Po zobrazení formuláře jsou pole této části vždy prázdná, a to i v případě, kdy jsou předána vstupní data. Takto zadaná data pak nejsou ukládána k <a href="../../../datove-modely/datovy-78681044.html">Adrese</a> sídla <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, dojde k vytvoření nové instance entity <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> – popis je pak uveden v rámci <a href="#" data-page-title="500UC34: Založit adresu sídla zákazníka"></a>. Při následovném zobrazení formuláře již tedy nejsou informace o vytvořeném <a href="../../../datove-modely/datovy-78681044.html">Místě realizace</a> dostupné. Zobrazení této části formuláře je pak vyvoláno stisknutím zaškrtávacího tlačítka pro společné zadání <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> (komponenta 7). Při zadání nové adresy či editací té původní, pokud je požadováno současně vytvořit i <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a>, vznikne nové <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a>.</p><h3>Drátový diagram</h3><p><img src="500ui13-formular-adresy-sidla-zakaznika-87327114_images/image2019-7-3 14-14-26.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><p>Pokud některá z komponent obsahuje text, který svou délkou přesahuje šířku samotné komponenty, je zobrazena pouze část textu (naznačeno v rámci komponenty 8). Po najetí myší na odpovídající komponentu je pak zobrazen celý text pomocí ToolTipu.</p><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Ulice</td><td colspan="1">Ulice</td><td colspan="1">TextBox</td><td colspan="1">Opatovská</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>, která byla získána na vstupu UC.</td><td colspan="1">–</td><td colspan="1"><Ulice></td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">Maximálně 80 znaků.</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Číslo popisné</td><td colspan="1">Číslo popisné</td><td colspan="1">TextBox</td><td colspan="1">1735</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>, která byla získána na vstupu UC.</td><td colspan="1">–</td><td colspan="1"><Číslo popisné></td><td colspan="1">Vždy </td><td colspan="1">Vždy </td><td colspan="1">–</td><td colspan="1">Maximálně 15 znaků.</td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1">Číslo orientační</td><td colspan="1">Číslo orientační</td><td colspan="1">TextBox</td><td colspan="1">A</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>, která byla získána na vstupu UC.</td><td colspan="1">–</td><td colspan="1"><Číslo orientační></td><td colspan="1">Vždy </td><td colspan="1">Vždy </td><td colspan="1">–</td><td colspan="1">Maximálně 15 znaků.</td><td colspan="1">–</td></tr><tr><td colspan="1">4</td><td colspan="1">Obec</td><td colspan="1">Obec*</td><td colspan="1">TextBox</td><td colspan="1">Trenčín</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>, která byla získána na vstupu UC.</td><td colspan="1">–</td><td colspan="1"><Město></td><td colspan="1">Vždy </td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1"><p>Povinné.</p><p>Maximálně 80 znaků.</p></td><td colspan="1">–</td></tr><tr><td colspan="1">5</td><td colspan="1">PSČ</td><td colspan="1">PSČ</td><td colspan="1">TextBox</td><td colspan="1">911 01</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>, která byla získána na vstupu UC.</td><td colspan="1">–</td><td colspan="1"><PSČ></td><td colspan="1">Vždy </td><td colspan="1">Vždy </td><td colspan="1">–</td><td colspan="1">Maximálně 15 znaků.</td><td colspan="1">–</td></tr><tr><td colspan="1">6</td><td colspan="1">Nalezení adresy</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: .</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy </td><td colspan="1">Vždy </td><td colspan="1"><a href="500ui13-87327114.html">Dopředné geokódování</a></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">7</td><td colspan="1">Založit místo realizace</td><td colspan="1">Zadat jako MR</td><td colspan="1">CheckBox</td><td colspan="1">TRUE</td><td colspan="1">–</td><td colspan="1"><p>FALSE</p><ul><li>Vždy po otevření formuláře, i když jsou předána vstupní data.</li></ul></td><td colspan="1">–</td><td colspan="1">Vždy </td><td colspan="1">Vždy </td><td colspan="1"><p>Pokud je hodnota rovna TRUE, jsou zobrazeny komponenty 8-13.</p><p>Jinak tyto komponenty zobrazeny nejsou.</p></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">8</td><td colspan="1">Název místa realizace</td><td colspan="1">Název*</td><td colspan="1">TextBox</td><td colspan="1">Opatovská, Trenčín (Marius Pedersen, a.s.)</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a>, pro kterou bude vytvořena nová instance (data tedy nikdy nejsou získána na vstupu, vždy je použita výchozí hodnota).</td><td colspan="1">–</td><td colspan="1"><Název></td><td colspan="1">Vždy </td><td colspan="1">Pokud je požadováno založení <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> – v rámci komponenty 7 je nastavena hodnota TRUE.</td><td colspan="1">–</td><td colspan="1"><p>Povinný, pokud je požadováno současné založení <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> – v rámci komponenty 7 je nastavena hodnota TRUE.</p><p>Maximálně 255 znaků.</p></td><td colspan="1">–</td></tr><tr><td colspan="1">9</td><td colspan="1">Zeměpisná šířka místa realizace</td><td colspan="1">Souřadnice*</td><td colspan="1">TextBox</td><td colspan="1">48,8960514</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a>, pro kterou bude vytvořena nová instance (data tedy nikdy nejsou získána na vstupu, vždy je použita výchozí hodnota).</td><td colspan="1">–</td><td colspan="1"><p><Souřadnice.X></p><p><a href="../../../pouzivane-81592337.html">Poloha</a></p></td><td colspan="1">Vždy </td><td colspan="1">Pokud je požadováno založení <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> – v rámci komponenty 7 je nastavena hodnota TRUE.</td><td colspan="1">–</td><td colspan="1"><p>Povinné.</p><p>Desetinné číslo.</p></td><td colspan="1">–</td></tr><tr><td colspan="1">10</td><td colspan="1">Zeměpisná délka místa realizace</td><td colspan="1">–</td><td colspan="1">TextBox</td><td colspan="1">18,0672664</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a>, pro kterou bude vytvořena nová instance (data tedy nikdy nejsou získána na vstupu, vždy je použita výchozí hodnota).</td><td colspan="1">–</td><td colspan="1"><p><Souřadnice.Y></p><p><a href="../../../pouzivane-81592337.html">Poloha</a></p></td><td colspan="1">Vždy </td><td colspan="1">Pokud je požadováno založení <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> – v rámci komponenty 7 je nastavena hodnota TRUE.</td><td colspan="1">–</td><td colspan="1"><p>Povinné.</p><p>Desetinné číslo.</p></td><td colspan="1">–</td></tr><tr><td colspan="1">11</td><td colspan="1">Kontakt na místo realizace</td><td colspan="1">Kontakt</td><td colspan="1">TextBox</td><td colspan="1">0902 258 456</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a>, pro kterou bude vytvořena nová instance (data tedy nikdy nejsou získána na vstupu, vždy je použita výchozí hodnota).</td><td colspan="1">–</td><td colspan="1"><Kontakt></td><td colspan="1">Vždy </td><td colspan="1">Pokud je požadováno založení <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> – v rámci komponenty 7 je nastavena hodnota TRUE.</td><td colspan="1">–</td><td colspan="1">Maximálně 255 znaků.</td><td colspan="1">–</td></tr><tr><td colspan="1">12</td><td colspan="1">Poznámka k místu realizace</td><td colspan="1">Poznámka</td><td colspan="1">TextBox</td><td colspan="1">Nezpevněný povrch.</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a>, pro kterou bude vytvořena nová instance (data tedy nikdy nejsou získána na vstupu, vždy je použita výchozí hodnota).</td><td colspan="1">–</td><td colspan="1"><Poznámka></td><td colspan="1">Vždy </td><td colspan="1">Pokud je požadováno založení <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> – v rámci komponenty 7 je nastavena hodnota TRUE.</td><td colspan="1">–</td><td colspan="1">Maximálně 255 znaků.</td><td colspan="1">–</td></tr><tr><td colspan="1">13</td><td colspan="1">Výchozí místo realizace</td><td colspan="1">Výchozí</td><td colspan="1">CheckBox</td><td colspan="1">TRUE</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a>, pro kterou bude vytvořena nová instance (data tedy nikdy nejsou získána na vstupu, vždy je použita výchozí hodnota).</p></td><td colspan="1"><p>TRUE</p><ul><li>Vždy po otevření formuláře, i když jsou předána vstupní data.</li></ul></td><td colspan="1"><Výchozí></td><td colspan="1">Vždy </td><td colspan="1">Pokud je požadováno založení <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> – v rámci komponenty 7 je nastavena hodnota TRUE.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">14</td><td colspan="1">Nalezené adresy</td><td colspan="1">–</td><td colspan="1">Grid</td><td colspan="1">–</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>, který byla získána v rámci nalezení .</td><td colspan="1">–</td><td colspan="1"><p><Ulice> <Číslo popisné>/<Číslo orientační>, <PSČ> <Město></p><p>Pokud není dostupné Číslo orientační:</p><ul><li><Ulice> <Číslo popisné>, <PSČ> <Město></li></ul><p>Pokud není dostupné Číslo popisné:</p><ul><li><Ulice> <Číslo orientační>, <PSČ> <Město></li></ul></td><td colspan="1">Vždy </td><td colspan="1">Pokud je při dopředném geokódování nalezena více než jedna adresa.</td><td colspan="1"><a href="500ui13-87327114.html">Dopředné geokódování</a></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">15</td><td colspan="1">Mapa</td><td colspan="1">–</td><td colspan="1">Map</td><td colspan="1">–</td><td colspan="1">– </td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy </td><td colspan="1">Vždy</td><td colspan="1"><a href="500ui13-87327114.html">Změna souřadnic</a></td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h3>Chování</h3><h4>Dopředné geokódování</h4><p>Chování vychází z <a href="500ui09-83263989.html">Dopředné geokódování</a>, vrácen pak může být různý počet <a href="../../../datove-modely/datovy-78681044.html">Adres</a>, od kterého se odvíjí o další chování – viz tabulka.</p><table><tbody><tr><th>Počet adres</th><th>Chování</th></tr><tr><td>Žádná</td><td>Je zobrazeno chybové hlášení – viz <a href="500ui09-83263989.html">Dopředné geokódování</a>.</td></tr><tr><td>Právě jedna</td><td><p>Dojde k vyplnění jednotlivých polí v rámci formuláře:</p><ul><li>Komponenty 1-5 jsou vyplněny dle dostupných informací v získané <a href="../../../datove-modely/datovy-78681044.html">Adrese</a> (mohou být například doplněny uživatelem nezadané informace).</li><li>Pokud je požadováno současné založení <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> – v rámci komponenty 7 je nastavena hodnota TRUE:<br><ul><li>Komponenta 8 je vyplněna dle dostupných informací – viz <a href="500ui13-87327114.html">Název místa realizace</a>.</li><li>Komponenta 9 a 10 jsou vyplněny dle nalezených souřadnic.</li></ul></li><li>Komponenta 15 zobrazí nalezený bod a vycentruje na něj mapu.</li></ul></td></tr><tr><td>Více než jedna</td><td>V rámci komponenty 14 je zobrazena nabídka nalezených <a href="../../../datove-modely/datovy-78681044.html">Adres</a>, uživatel jednu vybere – tím dojde k použití varianty, kdy je k dispozici právě jedna <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>.</td></tr></tbody></table><h4>Název místa realizace</h4><p>Název místa realizace je získán z více zdrojů zároveň. Jednak ze <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, pro kterého je adresa nastavována, a z adresy získané v rámci <a href="500ui09-83263989.html">Dopředného geokódování</a>.</p><p>Formát je pak následující: <strong><Adresa.Město>, <Adresa.Ulice> (<strong><Zákazník.Název zákazníka></strong>)</strong>.</p><ul><li>Pokud není <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> předán na vstupu, je formát následující: <strong><Adresa.Město>, <Adresa.Ulice></strong>.</li><li>Pokud není k dispozici ulice, je formát následující: <strong><Město> (<strong><Název zákazníka></strong>)</strong>.</li></ul><h4>Změna souřadnic</h4><p>Pokud je v mapě zobrazen pouze jeden bod, je možné pomocí změny jeho polohy upravit hodnotu polí pro zadání souřadnic (posunutím není měněna <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>). Uživatel na zobrazený bod v mapě najede myší a stiskne její levé tlačítko. S pohybem myši se mění i poloha zobrazeného bodu. Jakmile uživatel uvolní levé tlačítko myši, Systém umístí bod na novou pozici a aktualizuje hodnoty v polích pro zadání souřadnic.</p><p>V případech, kdy není v mapě zobrazen žádný bod (např. nebyla v rámci <a href="500ui13-87327114.html">Dopředného geokódování</a> nalezena žádná <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>), může ho uživatel kliknutím do mapy vytvořit. Po kliknutí se tedy v mapě zobrazí nový bod a vyplní se jeho souřadnice (komponenta 9 a 10). <a href="../../../datove-modely/datovy-78681044.html">Adresa</a> však pomocí zpětného geokódování není získávána! V tuto chvíli máme k dispozici jeden bod, který můžeme ručně přesouvat, jak bylo uvedeno dříve.</p><h4>Získání hodnoty pro stát</h4><p>Může nastat situace, kdy není po zadání <a href="../../../datove-modely/datovy-78681044.html">Adresy</a> uživatelem dostupná hodnota pro atribut <strong>Stát</strong>. V takovém případě je pro nastavení použita konfigurační hodnota <strong>countryIsoCode</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty">Konfigurační hodnoty</a>).</p><p>Poznámka: Typickým případem je situace, kdy uživatel zadá adresu ručně – nepoužije např. dostupné geokódování.</p><h1>Grafický návrh</h1><h1>Revize</h1><h3>30. 11. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="500ui13-87327114.html">Získání hodnoty pro stát</a></td><td colspan="1">Doplněn popis chování pro případ, že při zadání adresy není získán stát (naznačeno modře).</td></tr></tbody></table>
</div>
</body>
</html>
