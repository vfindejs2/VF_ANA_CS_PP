<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>500UI09: Formulář adresy</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis</h1><p>Formulář slouží k editaci entity <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>, která je jeho nepovinným vstupním parametrem.</p><h1>Uživatelské rozhraní</h1><h2>Rozložení</h2><h3>Drátový diagram</h3><p><img src="500ui09-formular-adresy-83263989_images/500UI09_rozlozeni_wf.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Ulice</td><td colspan="1">Ulice</td><td colspan="1">TextBox</td><td colspan="1">Opatovská</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>.</td><td colspan="1">–</td><td colspan="1"><Ulice></td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">Maximálně 80 znaků.</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Číslo popisné</td><td colspan="1">Číslo popisné</td><td colspan="1">TextBox</td><td colspan="1">1735</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>.</td><td colspan="1">–</td><td colspan="1"><Číslo popisné></td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">Maximálně 15 znaků.</td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1">Číslo orientační</td><td colspan="1">Číslo orientační</td><td colspan="1">TextBox</td><td colspan="1">A</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>.</td><td colspan="1">–</td><td colspan="1"><Číslo orientační></td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">Maximálně 15 znaků.</td><td colspan="1">–</td></tr><tr><td colspan="1">4</td><td colspan="1">Obec</td><td colspan="1">Obec*</td><td colspan="1">TextBox</td><td colspan="1">Trenčín</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>.</td><td colspan="1">–</td><td colspan="1"><Město></td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1"><p>Povinné.</p><p>Maximálně 80 znaků.</p></td><td colspan="1">–</td></tr><tr><td colspan="1">5</td><td colspan="1">PSČ</td><td colspan="1">PSČ*</td><td colspan="1">TextBox</td><td colspan="1">911 01</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>.</td><td colspan="1">–</td><td colspan="1"><PSČ></td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1"><p>Povinné.</p><p>Maximálně 15 znaků.</p></td><td colspan="1">–</td></tr><tr><td colspan="1">6</td><td colspan="1">Nalezení adresy</td><td colspan="1">–</td><td colspan="1">Button</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><p><a href="500ui09-83263989.html">Dopředné geokódování</a></p></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">7</td><td colspan="1">Nalezené adresy</td><td colspan="1">–</td><td colspan="1">Grid</td><td colspan="1">–</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>.</td><td colspan="1">–</td><td colspan="1"><p><Ulice> <Číslo popisné>/<Číslo orientační>, <PSČ> <Město></p><p>Pokud není dostupné Číslo orientační:</p><ul><li><Ulice> <Číslo popisné>, <PSČ> <Město></li></ul><p>Pokud není dostupné Číslo popisné:</p><ul><li><Ulice> <Číslo orientační>, <PSČ> <Město></li></ul></td><td colspan="1">Vždy</td><td colspan="1">Pokud je při dopředném geokódování nalezena více než jedna adresa.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1"><p>Tabulka obsahuje pouze jeden sloupec s formátovaným výpisem nalezené adresy. Hlavička tabulky není zobrazena.</p><p>Řádek obsahuje tlačítko pro výběr požadované adresy (ikona: ra-location).</p></td></tr><tr><td colspan="1">8</td><td colspan="1">Mapa</td><td colspan="1">–</td><td colspan="1">Map</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><a href="500ui09-83263989.html">Zpětné geokódování</a></td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h3>Chování</h3><p>Poznámka:</p><ul><li>Ve vytvořené instanci je automaticky doplněna hodnota atributu Stát – Slovenská republika.</li><li>Po otevření formuláře nejsou v mapě nikdy zobrazeny žádné body – ty jsou získány pouze jako výsledek geokódování. Body tedy nejsou na mapě zobrazeny ani v případě, kdy je otevřen formulář s již existující adresou. Po otevření formuláře je na mapě nastaveno přiblížení a centrování tak, aby byla vidět celá Slovenská republika.</li></ul><h4>Dopředné geokódování</h4><p>Získání souřadnic z textového řetězce.</p><p>Dopředné geokódování je spuštěno stisknutím tlačítka Nalezení adresy. Pokud Uživatel stiskne tlačítko ve chvíli, kdy není vyplněno ani jedno z polí pro zadání adresy, systém zobrazí chybové hlášení, že není vyplněno žádné z polí (TODO: kód hlášky, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>). Pokud jsou zobrazeny dříve nalezené body, dojde ke zrušení zobrazení těchto bodů v mapě a skrytí tabulky s nalezenými body.</p><p>Pokud je vyplněno alespoň jedno z polí pro zadání adresy, proběhne dopředné geokódování.</p><p>Pokud není nalezena žádná adresa, systém zobrazí chybové hlášení, že nebyla nalezena žádná adresa (TODO: kód hlášky, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>). Pokud jsou zobrazeny dříve nalezené body, dojde ke zrušení zobrazení těchto bodů v mapě a skrytí tabulky s nalezenými body.</p><p>Pokud je nalezena právě jedna adresa, Systém zobrazí její souřadnice v mapě. Pokud je zobrazena tabulka s nalezenými body, systém ji skryje. Pokud uživatel následně klikne na nalezený bod, dojde ke zpětnému geokódování a systém vyplní pole pro zadání adresy.</p><p>Pokud je nalezena více než jedna adresa, Systém zobrazí tabulku s nalezenými adresami a zobrazí nalezená místa v mapě. Pokud uživatel potvrdí výběr adresy v tabulce (dvojklik na řádek nebo kliknutí na tlačítko v řádku), případně klikne na bod v mapě, dojde ke zpětnému geokódování, systém vyplní pole pro zadání adresy, skryje tabulku s nalezenými body a zobrazí v mapě pouze vybraný bod.</p><h4>Zpětné geokódování</h4><p>Získání adresy ze souřadnic.</p><p>Zpětné geokódování je spuštěno kliknutím do mapy. Následně dojde k vyplnění polí pro zadání adresy získaných ze souřadnic místa kliknutí v mapě. Pokud je zobrazena tabulka s nalezenými body, dojde k její skrytí. V mapě je pak označeno místo, kam uživatel klikl.</p><h4>Získání hodnoty pro stát</h4><p>Může nastat situace, kdy není po zadání <a href="../../../datove-modely/datovy-78681044.html">Adresy</a> uživatelem dostupná hodnota pro atribut <strong>Stát</strong>. V takovém případě je pro nastavení použita konfigurační hodnota <strong>countryIsoCode</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty">Konfigurační hodnoty</a>).</p><p>Poznámka: Typickým případem je situace, kdy uživatel zadá adresu ručně – nepoužije např. dostupné geokódování.</p><h1>Grafický návrh</h1><h1>Revize</h1><h3>30. 11. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="500ui09-83263989.html">Získání hodnoty pro stát</a></td><td colspan="1">Doplněn popis chování pro případ, že při zadání adresy není získán stát (naznačeno modře).</td></tr></tbody></table>
</div>
</body>
</html>
