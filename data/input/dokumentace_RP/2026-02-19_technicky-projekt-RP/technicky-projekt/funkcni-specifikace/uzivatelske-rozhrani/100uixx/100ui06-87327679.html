<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>100UI06: Formulář objednávky (v2)</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis</h1><p>Formulář slouží k založení nové či editaci stávající <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>. Pokud zakládáme novou <a href="../../../datove-modely/datovy-78681044.html">Objednávku</a>, je formulář zobrazen ve výchozím stavu (s výjimkou případu, kdy jsou na vstupu předána vstupní data, která mají být načtena) – jsou dostupná pouze některá z polí formuláře, ostatní jsou následně zpřístupňována v rámci jeho vyplňování. Pokud editujeme existující <a href="../../../datove-modely/datovy-78681044.html">Objednávku</a>, je formulář zobrazen dle stavu této <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> – jsou zpřístupněna pouze taková pole, která je možné stále editovat.</p><p>Na vstupu formuláře jsou tedy předány následující hodnoty:</p><ul><li><a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>, kterou chceme zobrazit v rámci formuláře (povinné pouze v případě editace existující <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>). Dále může sloužit jako podklad např. pro vytvoření kopie <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>.</li><li><a href="../../../datove-modely/datovy-78681044.html">Uživatel</a>, který požaduje zobrazení formuláře (povinné pouze v případě vytváření nové <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>).</li><li><a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>, pro kterou má být <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> vytvořena (nepovinné, použito pouze v případě vytváření nové <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>).</li></ul><p>Poznámka: Na vstupní data je pak odkazováno v rámci popisu jednotlivých skupin.</p><p>Nutnou podmínkou pro zobrazení formuláře <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> je vlastnictví následujících oprávnění:</p><ul><li>Uživatel má právo na zobrazení <a href="../../../datove-modely/datovy-78681044.html">Objednávek</a> (VIEW_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</li><li>Uživatel má právo na zobrazení <a href="../../../datove-modely/datovy-78681044.html">Zákazníků</a> (VIEW_RP_CUSTOMERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</li><li>Uživatel má právo na zobrazení <a href="../../../datove-modely/datovy-78681044.html">Rámcových smluv</a> (VIEW_RP_CONTRACTS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</li><li>Uživatel má právo na zobrazení <a href="../../../datove-modely/datovy-78681044.html">Likvidačních míst</a> (VIEW_RP_DISPOSAL_SITES, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</li><li>Uživatel má právo na zobrazení <a href="../../../datove-modely/datovy-78681044.html">Typů nádob</a> (VIEW_RP_CONTAINER_TYPES, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</li></ul><h1>Uživatelské rozhraní</h1><p>Formulář je pak složen z ucelených skupiny, které budou dále popsány. Tyto skupiny se vzájemně ovlivňují, po vyplnění hodnot v rámci jedné skupiny dojde například k zpřístupnění jiné skupiny formulář.</p><p>Poznámka: Jednotlivé barvy a ikony jsou uvedeny ve společné tabulce (viz <a href="100ui06-87327679.html">Použité barvy a ikony</a>), na kterou já v rámci dokumentu dále odkazováno.</p><h2>Rozložení</h2><h3>Drátový diagram</h3><p><img src="100ui06-formular-objednavky-v2-87327679_images/100UI06_rozlozeni_wf.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Callout</th><th>Skupina</th></tr><tr><td>A</td><td><a href="100ui06-87327679.html">Hlavička formuláře</a></td></tr><tr><td>B</td><td><a href="100ui06-87327679.html">Provozovna</a></td></tr><tr><td>C</td><td><a href="100ui06-87327679.html">Objednavatel</a></td></tr><tr><td>D</td><td><a href="100ui06-87327679.html">Položky objednávky</a></td></tr><tr><td>E</td><td><a href="100ui06-87327679.html">Dokončení objednávky</a></td></tr></tbody></table><h2>Hlavička formuláře</h2><p>Skupina slouží k identifikaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>, pro kterou je formulář zobrazen.</p><h3>Drátový diagram</h3><p><img src="100ui06-formular-objednavky-v2-87327679_images/100UI06_rozlozeni_hlavicka.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Nadpis modulu</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">–</td><td colspan="1"><p>Pevně daný text:</p><ul><li>Objednávky</li></ul></td><td colspan="1">–</td><td colspan="1"><Hodnota></td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Identifikace objednávky</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">TRE-000123</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</td><td colspan="1"><p>Pevně daný text:</p><ul><li>Nová objednávka</li></ul></td><td colspan="1"><p>Objednávka: <Číslo objednávky></p><p>Pokud není hodnota k dispozici (<a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím nebyla uložena do systému), je zobrazena výchozí hodnota.</p><ul><li><Výchozí hodnota></li></ul></td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Zobrazená hodnota se liší dle toho, zda je <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> již uložena v systému.</td></tr></tbody></table><h2>Provozovna</h2><p>Skupina slouží především k výběru <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>, pro kterou je <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> vytvářena. Dále je uveden <a href="../../../datove-modely/datovy-78681044.html">Zaměstnanec</a>, který <a href="../../../datove-modely/datovy-78681044.html">Objednávku</a> vytvořil, spolu s interní poznámkou k <a href="../../../datove-modely/datovy-78681044.html">Objednávce</a>.</p><h3>Drátový diagram</h3><p><img src="100ui06-formular-objednavky-v2-87327679_images/100UI06_rozlozeni_provozovna.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Nadpis skupiny</td><td colspan="1"><p>–</p></td><td colspan="1">Label</td><td colspan="1">–</td><td colspan="1"><p>Pevně daný text:</p><ul><li>Provozovna</li></ul><p>Nadpis je pak doplněn o ikonu:</p><ul><li> <a href="100ui06-87327679.html">Nadpis skupiny/Provozovna</a>.</li></ul></td><td colspan="1">–</td><td colspan="1"><Ikona> <Hodnota></td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Provozovna</td><td colspan="1">Provozovna*</td><td colspan="1">ComboBox</td><td colspan="1">Provozovna Trenčín</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>.</p><p><a href="100ui06-87327679.html">Dostupné provozovny</a></p><p> </p></td><td colspan="1"><p><a href="100ui06-87327679.html">Dostupné provozovny</a></p></td><td colspan="1"><Název></td><td colspan="1"><p><a href="100ui06-87327679.html">Dostupné provozovny</a></p></td><td colspan="1">Vždy</td><td colspan="1"><p><a href="100ui06-87327679.html">Změna provozovny</a></p><p>Pokud není ovládací prvek zpřístupněn pro změnu hodnoty, jeho chování odpovídá komponentě typu TextBox v režimu pro čtení.</p></td><td colspan="1">Povinné</td><td colspan="1"><p>Dostupné hodnoty a možnost editace odpovídají jak stavu <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>, tak <a href="../../../datove-modely/datovy-78681044.html">Provozovnám</a>, které má <a href="../../../datove-modely/datovy-78681044.html">Uživatel</a> zakládající <a href="../../../datove-modely/datovy-78681044.html">Objednávku</a> k dispozici.</p></td></tr><tr><td colspan="1">3</td><td colspan="1">Zakladatel objednávky</td><td colspan="1">Zpracoval</td><td colspan="1">TextBox</td><td colspan="1">Ján Hraško (123456)</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Zaměstnanec</a> – atribut Zaměstnanec entity <a href="../../../datove-modely/datovy-78681044.html">Uživatel</a>.</p><p>Samotný <a href="../../../datove-modely/datovy-78681044.html">Uživatel</a> je pak získán dle „existence“ zobrazené <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>:</p><ul><li>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím není uložena v systému (založení nové <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>): <a href="../../../datove-modely/datovy-78681044.html">Uživatel</a> získaný na vstupu formuláře.</li><li>Jinak (editace existující <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>): atribut Vytvořil entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</li></ul><p> </p></td><td colspan="1">–</td><td colspan="1"><p><Jméno> <Příjmení> (<Osobní číslo>)</p><p>Pokud není k dispozici Osobní číslo:</p><ul><li><Jméno> <Příjmení></li></ul><p>V tomto případě nemůže nastat situace, že nebude k dispozici odpovídající <a href="../../../datove-modely/datovy-78681044.html">Zaměstnanec</a>. Ten je uložen v interní databázi modulu RP.</p><p>Pokud uživatel nemá na konkrétního <a href="../../../datove-modely/datovy-78681044.html">Zaměstnance</a> právo (viz <a href="../../../uzivatelska-78681297.html">Oprávnění na instance entity</a>), je zobrazen zástupný text:</p><ul><li>Chybí oprávnění</li></ul><p>Pokud není <a href="../../../datove-modely/datovy-78681044.html">Zaměstnanec</a> k dispozici, není zobrazena žádná hodnota.</p></td><td colspan="1">Nikdy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Při vytvoření <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> je odpovídající <a href="../../../datove-modely/datovy-78681044.html">Uživatel</a> získán na vstupu formuláře, po uložení je hodnota získána z konkrétní <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>.</td></tr><tr><td colspan="1">4</td><td colspan="1">Interní poznámka</td><td colspan="1">Poznámka</td><td colspan="1">MultilineTextBox</td><td colspan="1">Doplnit kalkulaci ceny.</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</td><td colspan="1">–</td><td colspan="1"><Poznámka></td><td colspan="1">Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">Maximálně 255 znaků.</td><td colspan="1">–</td></tr></tbody></table><h3>Chování</h3><h4>Dostupné provozovny</h4><p><a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> dostupné v rámci ovládacího prvku, možnost změny hodnoty a nastavení výchozí hodnoty při načtení formuláře závisí na více faktorech, proto je chování popsáno samostatně. Základním faktorem je pak „existence“ zobrazené <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>.</p><p>Poznámka: Jednotlivá nastavení jsou pojmenována dle sloupců tabulky UI komponent, jejich význam je pak v tomto případě následující:</p><ul><li>Hodnota: Dostupné <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> v rámci ovládacího prvku.</li><li>Výchozí hodnota: <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>, která bude v ovládacím prvku vybrána.</li><li>Zpřístupněná: Možnost změny vybrané <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>.</li></ul><h5>Založení objednávky</h5><p>V případě, kdy je zakládána nová <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>, zatím není odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> v rámci systému k dispozici. V takovém případě je ovládací prvek nastaven následovně:</p><ul><li><strong>Hodnota</strong>: Dostupné jsou takové <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>, které splňují všechny uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Uživatel má na konkrétní <a href="../../../datove-modely/datovy-78681044.html">Provozovnu</a> právo (viz <a href="../../../uzivatelska-78681297.html">Oprávnění na instance entity</a>).</li></ul></li><li><strong>Výchozí hodnota</strong>:<br><ul><li>Pokud je na vstupu formuláře získána <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>: <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> získaná na vstupu formuláře.</li><li>Jinak: V pořadí první dostupná <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>.</li></ul></li><li><strong>Zpřístupněná</strong>: Pokud je k dispozici více než jedna <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>.</li></ul><p>Poznámka: V tomto případě má <a href="../../../datove-modely/datovy-78681044.html">Uživatel</a> vždy právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>), jinak by novou <a href="../../../datove-modely/datovy-78681044.html">Objednávku</a> nemohl založit.</p><h5>Editace objednávky</h5><p>V případě, kdy je editována již existující <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>, jsou data pro nastavení ovládacího prvku získána z této <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> – ta byla získána na vstupu formuláře. V takovém případě je ovládací prvek nastaven následovně:</p><ul><li><strong>Hodnota</strong>: Dostupné hodnoty se liší dle stavu odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (atribut <strong>Stav</strong>):<br><ul><li><strong>Rozpracovaná</strong>, <strong>K upřesnění</strong>, <strong>K realizaci</strong>: Dostupné jsou takové <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>, které splňují všechny uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Uživatel má na konkrétní <a href="../../../datove-modely/datovy-78681044.html">Provozovnu</a> právo (viz <a href="../../../uzivatelska-78681297.html">Oprávnění na instance entity</a>).<br></li></ul></li><li><strong>Jinak</strong>: atribut Provozovna entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</li></ul></li><li><strong>Výchozí hodnota</strong>: atribut <strong>Provozovna</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</li><li><strong>Zpřístupněná</strong>: Pokud jsou splněny všechny uvedené podmínky zároveň:<br><ul><li>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</li><li>Pokud je k dispozici více než jedna <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>.</li><li>Pokud je <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> v jednom z uvedených stavů (atribut Stav):<br><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.<br></li></ul></li></ul></li></ul><p>Poznámka: V tomto případě nemusí mít <a href="../../../datove-modely/datovy-78681044.html">Uživatel</a> právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><h4>Změna provozovny</h4><p>Pokud dojde ke změně <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> (komponenta 2), je aktualizován celý formulář <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>.</p><p>Vzhledem k tomu, že změna <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> ovlivní značnou část formuláře, je nutné upozornit uživatele – je tedy uveden celý tok událostí:</p><ol><li>Pokud změnu vyvolá přímo uživatel v rámci komponenty 2:<br><ol><li>Uživatel změní <a href="../../../datove-modely/datovy-78681044.html">Provozovnu</a>.</li><li>Systém zobrazí modální okno s dotazem, zda má být <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> opravdu změněn (MSG_CONF_CANCEL_EDIT_ORGANITAZIONAL_UNIT, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Pokud uživatel potvrdí hlášení:<br><ol><li>Systém zavře modální okno.</li></ol></li><li>Jinak:<br><ol><li>Systém zruší změnu <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>.</li><li>Systém zavře modální okno.</li><li><strong>Konec toku událostí</strong>.</li></ol></li></ol></li><li>Systém provede vymazání obsahu formuláře, vyvoláno <a href="100ui06-87327679.html">Vymazání obsahu formuláře</a>.</li></ol><p>Poznámka: Hodnoty jsou změněny pouze v rámci ovládacích prvků, jejich zanesení přímo do <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> je provedeno až po uložení.</p><h2>Objednavatel</h2><p>Skupina slouží k nastavení <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, pro kterého je <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> vytvářena. <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> pak může být dvojího typu, dle toho se pak odvíjí i rozložení skupiny:</p><ul><li>Podnikatel (C.1),</li><li>Nepodnikatel (C.2).</li></ul><h3>Drátový diagram</h3><p><img src="100ui06-formular-objednavky-v2-87327679_images/100UI06_rozlozeni_objednavatel.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><p>Význam některých komponent se liší dle typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> (atribut <strong>Typ zákazníka</strong>), v takovém případě je tato informace uvedena právě dle uvedeného kritéria.</p><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Nadpis skupiny</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">–</td><td colspan="1"><p>Pevně daný text:</p><ul><li>Objednavatel</li></ul><p>Nadpis je pak doplněn o ikonu:</p><ul><li><a href="100ui06-87327679.html">Nadpis skupiny/Objednavatel</a>.</li></ul></td><td colspan="1">–</td><td colspan="1"><p><Ikona> <Hodnota></p><p>Pokud jsou splněny všechny uvedené podmínky zároveň, je nastavena barva pozadí na <a href="100ui06-87327679.html">Ostatní/Bonita (pozadí)</a>:</p><ul><li>V rámci skupiny <a href="100ui06-87327679.html">Objednavatel</a> je načten <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>.</li><li>Hodnota atributu Bonita entity <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, který je právě načten, je rovna FALSE.</li></ul></td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Bonita zákazníka</td><td colspan="1">–</td><td colspan="1">Ikona</td><td colspan="1">–</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, který je načten ve skupině <a href="100ui06-87327679.html">Objednavatel</a>.</p><p>Pokud není <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> načten, je použita výchozí hodnota.</p></td><td colspan="1">TRUE</td><td colspan="1"><p><Bonita></p><p>V případě, kdy je hodnota rovna FALSE, je zobrazena ikona:</p><ul><li><a href="100ui06-87327679.html">Ostatní/Bonita (ikona)</a>.</li></ul><p>Jinak není ikona zobrazena vůbec.</p></td><td colspan="1">–</td><td colspan="1"><p>Pokud je hodnota rovna FALSE.</p></td><td colspan="1">Po najetí myší na ikonu je zobrazen ToolTip s uvedeným textem: Objednavatel je v prodlení s platbou!</td><td colspan="1">–</td><td colspan="1"><p>–</p></td></tr><tr><td colspan="1">3</td><td colspan="1">Typ zákazníka</td><td colspan="1">–</td><td colspan="1">RadioButton</td><td colspan="1">Nepodnikatel</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, který je načten ve skupině <a href="100ui06-87327679.html">Objednavatel</a>.</p><p>Pokud není <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> načten, je použita výchozí hodnota.</p></td><td colspan="1">Podnikatel</td><td colspan="1"><Typ zákazníka></td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul></td><td colspan="1">Vždy</td><td colspan="1"><p><a href="100ui06-87327679.html">Změna typu zákazníka</a></p></td><td colspan="1">Povinné.</td><td colspan="1"><p>Změna hodnoty se projeví jak v rámci této, tak i v dalších skupinách formuláře.</p></td></tr><tr><td colspan="1">4</td><td colspan="1">Zákazník</td><td colspan="1">Objednavatel*</td><td colspan="1">AutoSuggestTextBox (with add button)</td><td colspan="1">ACME s.r.o</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, který je načten ve skupině <a href="100ui06-87327679.html">Objednavatel</a>.</p><p>Pokud není <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> načten, je použita výchozí hodnota.</p></td><td colspan="1">–</td><td colspan="1"><p><Název></p><p><br></p></td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul></td><td colspan="1">Vždy</td><td colspan="1"><p><a href="100ui06-87327679.html">Vytvoření zákazníka</a></p><p><a href="100ui06-87327679.html">Změna zákazníka</a></p></td><td colspan="1"><p>Povinné, pokud je <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> v jednom z uvedených stavů (atribut Stav) nebo do něj má být uložena:</p><ul><li>K realizaci,</li><li>Plněná,</li><li>Dokončená.</li></ul><p><br></p></td><td colspan="1"><p>Změna hodnoty se projeví jak v rámci této, tak i v dalších skupinách formuláře.</p></td></tr><tr><td colspan="1">5</td><td colspan="1"><p>Liší se dle typu typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>:</p><ul><li>Podnikatel: Adresa sídla,</li><li>Nepodnikatel: Adresa.</li></ul></td><td colspan="1">Adresa</td><td colspan="1">TextBox</td><td colspan="1">Lipová 234, 901 01 Trenčín</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Adresa</a> – atribut Adresa sídla entity <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, který je načten ve skupině <a href="100ui06-87327679.html">Objednavatel</a>.</p><p>Pokud není <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> načten, je použita výchozí hodnota.</p></td><td colspan="1">–</td><td colspan="1"><p><Ulice> <Číslo popisné>/<Číslo orientační>, <PSČ> <Město></p><p>Pokud není dostupné Číslo orientační:</p><ul><li><Ulice> <Číslo popisné>, <PSČ> <Město></li></ul><p>Pokud není dostupné Číslo popisné:</p><ul><li><Ulice> <Číslo orientační>, <PSČ> <Město></li></ul></td><td colspan="1">Nikdy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">6</td><td colspan="1"><p>Liší se dle typu typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>:</p><ul><li>Podnikatel: IČO,</li><li>Nepodnikatel: Číslo občanského průkazu.</li></ul></td><td colspan="1"><p>Liší se dle typu typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>:</p><ul><li>Podnikatel: IČO</li><li>Nepodnikatel: Číslo OP</li></ul></td><td colspan="1">TextBox</td><td colspan="1">12345678</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, který je načten ve skupině <a href="100ui06-87327679.html">Objednavatel</a>.</p><p>Pokud není <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> načten, je použita výchozí hodnota.</p></td><td colspan="1">–</td><td colspan="1"><p><IČO></p></td><td colspan="1">Nikdy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">7</td><td colspan="1"><p>Liší se dle typu typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>:</p><ul><li>Podnikatel: DIČ,</li><li>Nepodnikatel: –.</li></ul></td><td colspan="1"><p>Liší se dle typu typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>:</p><ul><li>Podnikatel: DIČ</li><li>Nepodnikatel: –</li></ul></td><td colspan="1">TextBox</td><td colspan="1">1234567890</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, který je načten ve skupině <a href="100ui06-87327679.html">Objednavatel</a>.</p><p>Pokud není <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> načten, je použita výchozí hodnota.</p></td><td colspan="1">–</td><td colspan="1"><p><DIČ></p></td><td colspan="1">Nikdy</td><td colspan="1">Pokud je typ <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> nastaven na hodnotu Podnikatel (komponenta 3).</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">8</td><td colspan="1"><p>Liší se dle typu typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>:</p><ul><li>Podnikatel: IČ DPH,</li><li>Nepodnikatel: –.</li></ul></td><td colspan="1"><p>Liší se dle typu typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>:</p><ul><li>Podnikatel: IČ DPH</li><li>Nepodnikatel: –</li></ul></td><td colspan="1">TextBox</td><td colspan="1">SK12345678</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, který je načten ve skupině <a href="100ui06-87327679.html">Objednavatel</a>.</p><p>Pokud není <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> načten, je použita výchozí hodnota.</p></td><td colspan="1">–</td><td colspan="1"><p><IČ DPH></p></td><td colspan="1">Nikdy</td><td colspan="1">Pokud je typ <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> nastaven na hodnotu Podnikatel (komponenta 3).</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">9</td><td colspan="1"><p>Liší se dle typu typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>:</p><ul><li>Podnikatel: Statutární zástupce,</li><li>Nepodnikatel: –.</li></ul></td><td colspan="1"><p>Liší se dle typu typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>:</p><ul><li>Podnikatel: Statutární zástupce</li><li>Nepodnikatel: –</li></ul></td><td colspan="1">ComboBox</td><td colspan="1">Ivan Veliký</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Osoba zákazníka</a> – atribut Statutární zástupce entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</p><p><a href="100ui06-87327679.html">Dostupní statutární zástupci</a></p></td><td colspan="1"><a href="100ui06-87327679.html">Dostupní statutární zástupci</a></td><td colspan="1"><p><Jméno> <Příjmení></p></td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul><p>Pokud je vybrán konkrétní <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (komponenta 4).</p></td><td colspan="1">Pokud je typ <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> nastaven na hodnotu Podnikatel (komponenta 3).</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Hodnota je ukládána přímo k <a href="../../../datove-modely/datovy-78681044.html">Objednávce</a>.</td></tr><tr><td colspan="1">10</td><td colspan="1">Bankovní spojení</td><td colspan="1">IBAN</td><td colspan="1">ComboBox (with add button)</td><td colspan="1">SK31 1200 0000 1987 4263 7541</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a> – atribut Bankovní spojení entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</p><p><a href="100ui06-87327679.html">Dostupná bankovní spojení</a></p></td><td colspan="1"><a href="100ui06-87327679.html">Dostupná bankovní spojení</a></td><td colspan="1"><p><IBAN></p><p><a href="../../../pouzivane-81592337.html">IBAN</a></p></td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul><p>Pokud je vybrán konkrétní <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (komponenta 4).</p></td><td colspan="1">Vždy</td><td colspan="1"><a href="100ui06-87327679.html">Vytvoření bankovního spojení</a></td><td colspan="1">–</td><td colspan="1">Hodnota je ukládána přímo k <a href="../../../datove-modely/datovy-78681044.html">Objednávce</a>.</td></tr><tr><td colspan="1">11</td><td colspan="1">Zástupce objednavatele</td><td colspan="1">Zástupce objednavatele</td><td colspan="1">ComboBox (with add button)</td><td colspan="1">Peter Drobný</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Osoba zákazníka</a> – atribut Zástupce objednavatele entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</p><p><a href="100ui06-87327679.html">Dostupní zástupci objednavatele</a></p></td><td colspan="1"><a href="100ui06-87327679.html">Dostupní zástupci objednavatele</a></td><td colspan="1"><p><Jméno> <Příjmení></p><p><br></p></td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul><p>Pokud je vybrán konkrétní <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (komponenta 4).</p></td><td colspan="1">Vždy</td><td colspan="1"><p><a href="100ui06-87327679.html">Vytvoření zástupce objednavatele</a></p><p><a href="100ui06-87327679.html">Změna zástupce objednavatele</a></p></td><td colspan="1">–</td><td colspan="1">Hodnota je ukládána přímo k <a href="../../../datove-modely/datovy-78681044.html">Objednávce</a>.</td></tr><tr><td colspan="1">12</td><td colspan="1">Telefon</td><td colspan="1">Telefon</td><td colspan="1">TextBox</td><td colspan="1">0902 243 243</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</td><td colspan="1">–</td><td colspan="1"><p><Telefon></p></td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul><p>Pokud je vybrán konkrétní <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (komponenta 4).</p></td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">Maximálně 30 znaků.</td><td colspan="1">Hodnota je ukládána přímo k <a href="../../../datove-modely/datovy-78681044.html">Objednávce</a>.</td></tr><tr><td colspan="1">13</td><td colspan="1">E-mail</td><td colspan="1">E-mail</td><td colspan="1">TextBox</td><td colspan="1">drobny@post.sk</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</td><td colspan="1">–</td><td colspan="1"><p><E-mail></p><p><br></p></td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul><p>Pokud je vybrán konkrétní <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (komponenta 4).</p></td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">Maximálně 255 znaků.</td><td colspan="1">Hodnota je ukládána přímo k <a href="../../../datove-modely/datovy-78681044.html">Objednávce</a>.</td></tr></tbody></table><h3>Chování</h3><h4>Změna typu zákazníka</h4><p>Pokud dojde ke změně typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> (komponenta 3), dojde ke změnám v rámci celého formuláře:</p><ul><li>Je zrušen výběr <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> (komponenta 4) – viz <a href="100ui06-87327679.html">Změna zákazníka</a> (má vliv i na další skupiny formuláře).</li><li>Je změněno rozložení skupiny <a href="100ui06-87327679.html">Objednavatel</a> – viz popis UI komponent této skupiny.</li></ul><p>Vzhledem k tomu, že změna typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> ovlivní značnou část formuláře, je nutné upozornit uživatele – je tedy uveden celý tok událostí:</p><ol><li>Pokud změnu vyvolá přímo uživatel v rámci komponenty 3:<br><ol><li>Uživatel změní typ <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> (vybere požadovaného, nebo výběr zruší).</li><li>Systém zobrazí modální okno s dotazem, zda má být <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> opravdu změněn (MSG_CONF_CANCEL_EDIT_CUSTOMER_TYPE, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Pokud uživatel potvrdí hlášení:<br><ol><li>Systém zavře modální okno.</li></ol></li><li>Jinak:<br><ol><li>Systém zruší změnu typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>.</li><li>Systém zavře modální okno.</li><li><strong>Konec toku událostí</strong>.</li></ol></li></ol></li><li>Systém provede změny v rámci uvedených komponent:<br><ol><li>Pokud je vybrán <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (komponenta 4):<br><ol><li>Systém zruší výběr <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, vyvolána <a href="100ui06-87327679.html">Změna zákazníka</a> (má vliv i na další skupiny formuláře).</li></ol></li><li>Jinak (pokud nejsou karty s <a href="../../../datove-modely/datovy-78681044.html">Položkami objednávky</a> odebrány při zrušení výběru <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>):<br><ol><li>Systém odebere všechny karty s <a href="../../../datove-modely/datovy-78681044.html">Položkami objednávky</a> (skupina <a href="100ui06-87327679.html">Položky objednávky</a>, komponenta 1) – pro každou vyvolá <a href="100ui06-87327679.html">Odebrání položky objednávky</a> (poznámka: po odebrání poslední je vytvořena jedna ve výchozím stavu).<br></li></ol></li><li>Systém změní rozložení skupiny <a href="100ui06-87327679.html">Objednavatel</a> – viz popis UI komponent této skupiny.</li></ol></li></ol><p>Poznámka: Hodnoty jsou změněny pouze v rámci ovládacích prvků, jejich zanesení přímo do <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> je provedeno až po uložení.</p><h4>Vytvoření zákazníka</h4><p>Pokud je nutné v rámci založení či editace <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> přidat nového <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, je to umožněno pomocí odpovídajícího tlačítka v rámci ovládacího prvku (komponenta 4). Jeho stisknutí pak spustí TODO: Přidat UC. Pokud vytvoření proběhlo v pořádku, dojde ke změně <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> – viz <a href="100ui06-87327679.html">Změna zákazníka</a>.</p><p>Vytvoření nového <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> je podmíněno uživatelskými právy: Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> (EDIT_RP_CUSTOMERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>). Pokud nemá uživatel dostatečná oprávnění, není pro něj funkčnost dostupná.</p><p>Poznámka: Vytvořený <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> je dostupný z přehledu <a href="../../../datove-modely/datovy-78681044.html">Zákazníků</a> ve správě systému i při výběru v rámci formuláře <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>. Například ve formuláři <a href="../../../datove-modely/datovy-78681044.html">Šablony objednávky</a> ale takový <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> dostupný není – zde jsou dostupní pouze <a href="../../../datove-modely/datovy-78681044.html">Zákazníci</a>, kteří jsou zanesení v rámci systému WinyX (hodnota atributu Externí identifikátor je různá od NULL).</p><h4>Změna zákazníka</h4><p>Pokud dojde ke změně <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> (komponenta 4), jsou dle zvolené hodnoty vyplněna i další související pole:</p><ul><li>Jsou aktualizována všechna pole v rámci skupiny <a href="100ui06-87327679.html">Objednavatel</a> – viz tabulka.</li><li>Jsou odebrány všechny <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> (skupina <a href="100ui06-87327679.html">Položky objednávky</a>, komponenta 1).</li><li>Pokud jsou splněny určité podmínky, je nastavena konkrétní <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> (skupina <a href="100ui06-87327679.html">Položky objednávky</a>, komponenta 3.2), případně <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (skupina <a href="100ui06-87327679.html">Položky objednávky</a>, komponenta 4.1).</li></ul><p>Vzhledem k tomu, že změna <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> ovlivní značnou část formuláře, je nutné upozornit uživatele – je tedy uveden celý tok událostí:</p><ol><li>Pokud změnu vyvolá přímo uživatel v rámci komponenty 4 a zároveň již uživatel provedl změnu v rámci dříve uvedených polí:<br><ol><li>Uživatel změní <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> (vybere požadovaného, nebo výběr zruší).</li><li>Systém zobrazí modální okno s dotazem, zda má být <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> opravdu změněn (MSG_CONF_CANCEL_EDIT_CUSTOMER, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Pokud uživatel potvrdí hlášení:<br><ol><li>Systém zavře modální okno.</li></ol></li><li>Jinak:<br><ol><li>Systém zruší změnu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>.</li><li>Systém zavře modální okno.</li><li><strong>Konec toku událostí</strong>.</li></ol></li></ol></li><li>Pokud bylo chování vyvoláno při změně Rámcové smlouvy (viz <a href="100ui06-87327679.html">Změna rámcové smlouvy</a>):<br><ol><li>Systém provede změny v rámci uvedených komponent:<br><ol><li>Systém nastaví pole v rámci skupiny <a href="100ui06-87327679.html">Objednavatel</a> dle zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> – viz tabulka.<br></li></ol></li></ol></li><li>Jinak: Systém provede změny v rámci uvedených komponent:<br><ol><li>Pokud je vybrán konkrétní <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>:<br><ol><li>Systém nastaví pole v rámci skupiny <a href="100ui06-87327679.html">Objednavatel</a> dle zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> – viz tabulka.</li><li>Systém odebere všechny <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> – pro každou vyvolá <a href="100ui06-87327679.html">Odebrání položky objednávky</a> (poznámka: po odebrání poslední je vytvořena jedna ve výchozím stavu).</li><li>Systém nalezne všechny platné <a href="../../../datove-modely/datovy-78681044.html">Rámcové smlouvy</a> vybraného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, tedy takové <a href="../../../datove-modely/datovy-78681044.html">Rámcové smlouvy</a>, které splňují všechny uvedené podmínky zároveň:<br><ul><li>Hodnota atributu Zákazník odpovídá vybranému <a href="../../../datove-modely/datovy-78681044.html">Zákazníkovi</a>.</li><li>Hodnota atributu Platnost od je menší nebo rovna dnešnímu datu.</li><li>Hodnota atributu Platnost do není k dispozici, nebo je větší nebo rovna dnešnímu datu .</li></ul></li><li>Pokud je nalezena právě jedna <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a>:<br><ol><li>Systém nastaví nalezenou <a href="../../../datove-modely/datovy-78681044.html">Rámcovou smlouvu</a> (vyvolána <a href="100ui06-87327679.html">Změna rámcové smlouvy</a>).</li></ol></li><li>Pokud není nalezena žádná <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a>:<br><ol><li>Systém nastaví typ vytvořené prázdné <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> na Jednorázová (vyvolána <a href="100ui06-87327679.html">Změna typu položky objednávky</a>, pro zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> pak není možné změnit typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a>).</li><li>Pokud má <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> právě jedno <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (atribut Místa realizace):<br><ol><li>Systém nastaví obsažené <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (vyvolána <a href="100ui06-87327679.html">Změna místa realizace</a>).</li></ol></li></ol></li></ol></li><li>Pokud je zrušen výběr <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>:<br><ol><li>Systém nastaví pole v rámci skupiny <a href="100ui06-87327679.html">Objednavatel</a> do výchozího stavu – viz tabulka.</li><li>Systém odebere všechny <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> – pro každou vyvolá <a href="100ui06-87327679.html">Odebrání položky objednávky</a> (poznámka: po odebrání poslední je vytvořena jedna ve výchozím stavu).<br></li></ol></li></ol></li></ol><p>Poznámka:</p><ul><li>Hodnoty jsou změněny pouze v rámci ovládacích prvků, jejich zanesení přímo do <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> je provedeno až po uložení.</li><li>Hodnoty jsou nastavovány dle popisu UI komponent.</li></ul><p>Konkrétní změny v rámci skupiny <a href="100ui06-87327679.html">Objednavatel</a> jsou pak stručně popsány v tabulce. Nastavení jednotlivých polí pak vychází z popisu UI komponent této skupiny, pokud není uvedeno jinak.</p><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Hodnota (výběr zákazníka)</th><th colspan="1">Hodnota (zrušení zákazníka)</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Nadpis skupiny</td><td colspan="1">Barva pozadí nastavena dle zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>.</td><td colspan="1">Barva pozadí nastavena do výchozího stavu.</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Bonita zákazníka</td><td colspan="1">Ikona je zobrazena dle zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>.</td><td colspan="1">Ikona je skryta.</td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1">Typ zákazníka</td><td colspan="1">Vybraná hodnota je změněna dle zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>. To vyvolá chování <a href="100ui06-87327679.html">Změna typu zákazníka</a>, které ale provede pouze změny rozložení v rámci této skupiny.</td><td colspan="1">Vybraná hodnota je nezměněna.</td><td colspan="1">Pokud dojde ke změně typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, je nejdříve změněno rozložení komponent v rámci skupiny. Až následně systém pokračuje ve vyplnění jednotlivých polí.</td></tr><tr><td colspan="1">4</td><td colspan="1">Zákazník</td><td colspan="1">Je nastavena hodnota dle zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>.</td><td colspan="1">Je nastavena výchozí hodnota (NULL).</td><td colspan="1">–</td></tr><tr><td colspan="1">5</td><td colspan="1"><p>Liší se dle typu typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>:</p><ul><li>Podnikatel: Adresa sídla,</li><li>Nepodnikatel: Adresa.</li></ul></td><td colspan="1">Je nastavena hodnota dle zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>.</td><td colspan="1">Je nastavena výchozí hodnota (NULL).</td><td colspan="1">–</td></tr><tr><td colspan="1">6</td><td colspan="1"><p>Liší se dle typu typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>:</p><ul><li>Podnikatel: IČO,</li><li>Nepodnikatel: Číslo občanského průkazu.</li></ul></td><td colspan="1">Je nastavena hodnota dle zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>.</td><td colspan="1">Je nastavena výchozí hodnota (NULL).</td><td colspan="1">–</td></tr><tr><td colspan="1">7</td><td colspan="1"><p>Liší se dle typu typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>:</p><ul><li>Podnikatel: DIČ,</li><li>Nepodnikatel: –.</li></ul></td><td colspan="1">Je nastavena hodnota dle zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>.</td><td colspan="1">Je nastavena výchozí hodnota (NULL).</td><td colspan="1">–</td></tr><tr><td colspan="1">8</td><td colspan="1"><p>Liší se dle typu typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>:</p><ul><li>Podnikatel: IČ DPH,</li><li>Nepodnikatel: –.</li></ul></td><td colspan="1">Je nastavena hodnota dle zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>.</td><td colspan="1">Je nastavena výchozí hodnota (NULL).</td><td colspan="1">–</td></tr><tr><td colspan="1">9</td><td colspan="1"><p>Liší se dle typu typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>:</p><ul><li>Podnikatel: Statutární zástupce,</li><li>Nepodnikatel: –.</li></ul></td><td colspan="1">Je nastavena hodnota dle zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>. To vyvolá chování <a href="100ui06-87327679.html">Dostupní statutární zástupci</a>, kde ale nejsou načteni statutární zástupci uložení přímo k <a href="../../../datove-modely/datovy-78681044.html">Objednávce</a>.</td><td colspan="1">Je nastavena výchozí hodnota (NULL).</td><td colspan="1"><p>Pokud dojde ke změně <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, jsou načteny pouze takoví statutární zástupci, kteří jsou obsaženi v rámci zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>. Statutární zástupce uložený u konkrétní <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> není uvažován.</p><p>Pokud je k dispozici více statutárních zástupců, je vybrán ten výchozí v této pozici (atribut Výchozí statutární zástupce entity <a href="../../../datove-modely/datovy-78681044.html">Osoba zákazníka</a>).</p></td></tr><tr><td colspan="1">10</td><td colspan="1">Bankovní spojení</td><td colspan="1">Je nastavena hodnota dle zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>. To vyvolá chování <a href="100ui06-87327679.html">Dostupná bankovní spojení</a>, kde ale nejsou načtena <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a> uložená přímo k <a href="../../../datove-modely/datovy-78681044.html">Objednávce</a>.</td><td colspan="1">Je nastavena výchozí hodnota (NULL).</td><td colspan="1"><p>Pokud dojde ke změně <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, jsou načtena pouze taková <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a>, která jsou obsažena v rámci zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>. <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a> uložené u konkrétní <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> není uvažován.</p><p>Pokud je k dispozici více <a href="../../../datove-modely/datovy-78681044.html">Bankovních spojení</a>, je vybráno to výchozí (atribut Výchozí).</p></td></tr><tr><td colspan="1">11</td><td colspan="1">Zástupce objednavatele</td><td colspan="1"><p>Je nastavena hodnota dle zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>. To vyvolá chování <a href="100ui06-87327679.html">Dostupní zástupci objednavatele</a>, kde ale nejsou načteni zástupci objednavatele uložení přímo k <a href="../../../datove-modely/datovy-78681044.html">Objednávce</a>.</p><p>Dále je vyvoláno chování <a href="100ui06-87327679.html">Změna zástupce objednavatele</a>.</p></td><td colspan="1">Je nastavena výchozí hodnota (NULL).</td><td colspan="1"><p>Pokud dojde ke změně <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, jsou načteny pouze takoví zástupci objednavatele, kteří jsou obsaženi v rámci zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>. Zástupce objednavatele uložený u konkrétní <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> není uvažován.</p><p>Pokud je k dispozici více zástupců objednavatele, je vybrán ten výchozí v této pozici (atribut Výchozí kontaktní osoba entity <a href="../../../datove-modely/datovy-78681044.html">Osoba zákazníka</a>).</p></td></tr><tr><td colspan="1">12</td><td colspan="1">Telefon</td><td colspan="1">Je nastavena hodnota dle nastavené <a href="../../../datove-modely/datovy-78681044.html">Osoby zákazníka</a> typu Kontaktní osoba, viz <a href="100ui06-87327679.html">Změna zástupce objednavatele</a>.</td><td colspan="1">Je nastavena výchozí hodnota (NULL).</td><td colspan="1">Pokud dojde ke změně <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, je nastavena hodnota odpovídající zvolené <a href="../../../datove-modely/datovy-78681044.html">Osobě zákazníka</a> typu Kontaktní osoba (komponenta 11). Kontakt uložený u konkrétní <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> není uvažován.</td></tr><tr><td colspan="1">13</td><td colspan="1">E-mail</td><td colspan="1">Je nastavena hodnota dle nastavené <a href="../../../datove-modely/datovy-78681044.html">Osoby zákazníka</a> typu Kontaktní osoba, viz <a href="100ui06-87327679.html">Změna zástupce objednavatele</a>.</td><td colspan="1">Je nastavena výchozí hodnota (NULL).</td><td colspan="1">Pokud dojde ke změně <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, je nastavena hodnota odpovídající zvolené <a href="../../../datove-modely/datovy-78681044.html">Osobě zákazníka</a> typu Kontaktní osoba (komponenta 11). Kontakt uložený u konkrétní <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> není uvažován.</td></tr></tbody></table><h4>Dostupní statutární zástupci</h4><p><a href="../../../datove-modely/datovy-78681044.html">Osoby zákazníka</a> na pozici statutární zástupce dostupné v rámci ovládacího prvku závisí na více faktorech, proto je chování popsáno samostatně. Ovládací prvek je pak dostupný pouze v případě, kdy je v rámci formuláře <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> vyplněn <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (komponenta 4). Základním faktorem je pak „existence“ zobrazené <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>.</p><p>Poznámka: Chování je určeno pro případ, kdy je načítán formulář. Při práci s ním jsou dostupné hodnoty dány chováním uživatele.</p><h5>Založení objednávky</h5><p>V případě, kdy je zakládána nová <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>, zatím není odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> v rámci systému k dispozici. V takovém případě jsou dostupní následující statutární zástupci:</p><ul><li>atribut Osoby entity <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, který je vybrán v rámci odpovídajícího ovládacího prvku (komponenta 4) – načteny jsou pak takové <a href="../../../datove-modely/datovy-78681044.html">Osoby zákazníka</a>, u kterých je hodnota atributu Statutární zástupce rovna TRUE.</li></ul><p>Poznámka: Pokud je při zakládání <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> na vstupu získána instance <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>, není <a href="../../../datove-modely/datovy-78681044.html">Osoba zákazníka</a> na pozici statutární zástupce, která je uložena v této <a href="../../../datove-modely/datovy-78681044.html">Objednávce</a>, brána v potaz.</p><h5>Editace objednávky</h5><p>V případě, kdy je editována již existující <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>, jsou dostupní statutární zástupci dáni stavem odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (atribut Stav) – ta byla získána na vstupu formuláře. V takovém případě jsou dostupní následující statutární zástupci:</p><ul><li>Rozpracovaná, K upřesnění, K realizaci (zahrnuje i situaci, kdy neexistuje instance <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>, tedy při zakládání <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>): <a href="../../../datove-modely/datovy-78681044.html">Osoby zákazníka</a> mohou být získány 2 způsoby, kdy se může stát, že budou použity oba způsoby zároveň:<ul><li>atribut Osoby entity <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, který je vybrán v rámci odpovídajícího ovládacího prvku (komponenta 4) – načteny jsou pak takové <a href="../../../datove-modely/datovy-78681044.html">Osoby zákazníka</a>, u kterých je hodnota atributu Statutární zástupce rovna TRUE.</li><li>atribut Statutární zástupce entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>, a to pouze v případě, kdy nebyla <a href="../../../datove-modely/datovy-78681044.html">Osoba zákazníka</a> získána v předchozím kroku (pro případy, kdy je v rámci zakládání a editace <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> odebrán statutární zástupce odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>).</li></ul></li><li>Jinak: atribut Statutární zástupce entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</li></ul><p>Poznámka:</p><ul><li>Při zobrazení formuláře je výchozí hodnota získána vždy z atributu Statutární zástupce entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>. Pokud není k dispozici, nebyl v době uložení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> do stavu K realizaci k dispozici žádný Statutární zástupce u konkrétního <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>.</li><li>Pokud v rámci formuláře není vyplněn <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, nemůže být v rámci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> po jejím uložení k dispozici ani hodnota atributu Statutární zástupce (a samozřejmě ani hodnota atributu Objednavatel). TODO: Doplnit do UC.</li></ul><h4>Dostupná bankovní spojení</h4><p><a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a> dostupná v rámci ovládacího prvku závisí na více faktorech zároveň, proto je chování popsáno samostatně. Ovládací prvek je pak dostupný pouze v případě, kdy je v rámci formuláře <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> vyplněn <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (komponenta 4). Základním faktorem je pak „existence“ zobrazené <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>.</p><p>Poznámka: Chování je určeno pro případ, kdy je načítán formulář. Při práci s ním jsou dostupné hodnoty dány chováním uživatele.</p><h5>Založení objednávky</h5><p>V případě, kdy je zakládána nová <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>, zatím není odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> v rámci systému k dispozici. V takovém případě jsou dostupná následující <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a>:</p><ul><li>atribut Bankovní spojení entity <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, který je vybrán v rámci odpovídajícího ovládacího prvku (komponenta 4) – načtena jsou pak všechna dostupná <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a>.</li></ul><p>Poznámka: Pokud je při zakládání <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> na vstupu získána instance <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>, není <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a>, které je uloženo v této <a href="../../../datove-modely/datovy-78681044.html">Objednávce</a>, bráno v potaz.</p><h5>Editace objednávky</h5><p>V případě, kdy je editována již existující <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>, jsou dostupná <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a> dána stavem odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (atribut Stav) – ta byla získána na vstupu formuláře. V takovém případě jsou dostupná následující <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a>:</p><ul><li>Rozpracovaná, K upřesnění, K realizaci: <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a> mohou být získány 2 způsoby, kdy se může stát, že budou použity oba způsoby zároveň:<br><ul><li>atribut Bankovní spojení entity <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, který je vybrán v rámci odpovídajícího ovládacího prvku (komponenta 4) – načtena jsou pak všechna dostupná <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a>.</li><li>atribut Bankovní spojení entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>, a to pouze v případě, kdy nebylo <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a> získáno v předchozím kroku (pro případy, kdy je v rámci zakládání a editace <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> odebráno <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a> odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>).</li></ul></li><li>Jinak: atribut Kontaktní osoba entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</li></ul><p>Poznámka:</p><ul><li>Při zobrazení formuláře je výchozí hodnota získána vždy z atributu Bankovní spojení entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>. Pokud není k dispozici, nebylo v době uložení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> do stavu K realizaci k dispozici žádné <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a> u konkrétního <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>.</li><li>Pokud v rámci formuláře není vyplněn <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, nemůže být v rámci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> po jejím uložení k dispozici ani hodnota atributu Bankovní spojení (a samozřejmě ani hodnota atributu Objednavatel). TODO: Doplnit do UC.</li></ul><h4>Vytvoření bankovního spojení</h4><p>Pokud je nutné v rámci založení či editace <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> přidat nové <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a>, protože u zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> není k dispozici, je to umožněno pomocí odpovídajícího tlačítka v rámci ovládacího prvku (komponenta 10). Jeho stisknutí pak spustí TODO: Přidat UC. Pokud vytvoření proběhlo v pořádku, dojde ke změně <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a>.</p><p>Vytvoření nového <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a> je podmíněno uživatelskými právy: Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> (EDIT_RP_CUSTOMERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>). Pokud nemá uživatel dostatečná oprávnění, není pro něj funkčnost dostupná.</p><p>Poznámka: Na vytvořené <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a> je odkazováno pouze z konkrétní <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>. Vytvořené <a href="../../../datove-modely/datovy-78681044.html">Bankovní spojení</a> tedy není u odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> dostupné – s výjimkou jednoho případu, kdy ještě není odpovídající <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> odeslána do systému WinyX (hodnota atributu Odeslán ke kontrole je rovna FALSE). TODO: Prověřit, zda je zaneseno v UC.</p><h4>Dostupní zástupci objednavatele</h4><p><a href="../../../datove-modely/datovy-78681044.html">Osoby zákazníka</a> na pozici zástupce objednavatele dostupné v rámci ovládacího prvku závisí na více faktorech, proto je chování popsáno samostatně. Ovládací prvek je pak dostupný pouze v případě, kdy je v rámci formuláře <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> vyplněn <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (komponenta 4). Základním faktorem je pak „existence“ zobrazené <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>.</p><p>Poznámka: Chování je určeno pro případ, kdy je načítán formulář. Při práci s ním jsou dostupné hodnoty dány chováním uživatele.</p><h5>Založení objednávky</h5><p>V případě, kdy je zakládána nová <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>, zatím není odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> v rámci systému k dispozici. V takovém případě jsou dostupní následující zástupci objednavatele:</p><ul><li>atribut Osoby entity <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, který je vybrán v rámci odpovídajícího ovládacího prvku (komponenta 4) – načteny jsou pak takové <a href="../../../datove-modely/datovy-78681044.html">Osoby zákazníka</a>, u kterých je hodnota atributu Kontaktní osoba rovna TRUE.</li></ul><p>Poznámka: Pokud je při zakládání <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> na vstupu získána instance <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>, není <a href="../../../datove-modely/datovy-78681044.html">Osoba zákazníka</a> na pozici zástupce objednavatele, která je uložena v této <a href="../../../datove-modely/datovy-78681044.html">Objednávce</a>, brána v potaz.</p><h5>Editace objednávky</h5><p>V případě, kdy je editována již existující <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>, jsou dostupní zástupci objednavatele dáni stavem odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (atribut Stav) – ta byla získána na vstupu formuláře. V takovém případě jsou dostupní následující zástupci objednavatele:</p><ul><li>Rozpracovaná, K upřesnění, K realizaci: <a href="../../../datove-modely/datovy-78681044.html">Osoby zákazníka</a> mohou být získány 2 způsoby, kdy se může stát, že budou použity oba způsoby zároveň:<br><ul><li>atribut Osoby entity <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, který je vybrán v rámci odpovídajícího ovládacího prvku (komponenta 4) – načteny jsou pak takové <a href="../../../datove-modely/datovy-78681044.html">Osoby zákazníka</a>, u kterých je hodnota atributu Kontaktní osoba rovna TRUE.</li><li>atribut Kontaktní osoba entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>, a to pouze v případě, kdy nebyla <a href="../../../datove-modely/datovy-78681044.html">Osoba zákazníka</a> získána v předchozím kroku (pro případy, kdy je v rámci zakládání a editace <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> odebrán zástupce objednavatele odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>).</li></ul></li><li>Jinak: atribut Kontaktní osoba entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</li></ul><p>Poznámka:</p><ul><li>Při zobrazení formuláře je výchozí hodnota získána vždy z atributu Kontaktní osoba entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>. Pokud není k dispozici, nebyla v době uložení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> do stavu K realizaci k dispozici žádná Kontaktní osoba u konkrétního <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>.</li><li>Pokud v rámci formuláře není vyplněn <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, nemůže být v rámci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> po jejím uložení k dispozici ani hodnota atributu Kontaktní osoba (a samozřejmě ani hodnota atributu Objednavatel). TODO: Doplnit do UC.</li></ul><h4>Vytvoření zástupce objednavatele</h4><p>Pokud je nutné v rámci založení či editace <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> přidat nového zástupce objednavatele, protože u zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> není k dispozici, je to umožněno pomocí odpovídajícího tlačítka v rámci ovládacího prvku (komponenta 11). Jeho stisknutí pak spustí TODO: Přidat UC. Pokud vytvoření proběhlo v pořádku, dojde ke změně zástupce objednavatele – viz <a href="100ui06-87327679.html">Změna zástupce objednavatele</a>.</p><p>Vytvoření nové <a href="../../../datove-modely/datovy-78681044.html">Osobu zákazníka</a> na pozici zástupce objednavatele je podmíněno uživatelskými právy: Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> (EDIT_RP_CUSTOMERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>). Pokud nemá uživatel dostatečná oprávnění, není pro něj funkčnost dostupná.</p><p>Poznámka: Na vytvořenou <a href="../../../datove-modely/datovy-78681044.html">Osobu zákazníka</a> je odkazováno pouze z konkrétní <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>. Vytvořená <a href="../../../datove-modely/datovy-78681044.html">Osoba zákazníka</a> tedy není u odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> dostupná – s výjimkou jednoho případu, kdy ještě není odpovídající <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> odeslána do systému WinyX (hodnota atributu Odeslán ke kontrole je rovna FALSE). TODO: Prověřit, zda je zaneseno v UC.</p><h4>Změna zástupce objednavatele</h4><p>Pokud dojde ke změně zástupce objednavatele (komponenta 11), jsou dle zvolené hodnoty vyplněna i další související pole:</p><ul><li>Telefon (komponenta 12),</li><li>E-mail (komponenta 13).</li></ul><p>Změna zástupce objednavatele pak může skončit 2 způsoby:</p><ul><li>Je vybrána konkrétní <a href="../../../datove-modely/datovy-78681044.html">Osoba zákazníka</a>, uvedená pole jsou pak vyplněna následovně:<br><ul><li>Telefon: atribut Telefon entity <a href="../../../datove-modely/datovy-78681044.html">Osoba zákazníka</a>,</li><li>E-mail: atribut E-mail entity <a href="../../../datove-modely/datovy-78681044.html">Osoba zákazníka</a>.<br></li></ul></li><li>Je zrušen výběr konkrétní <a href="../../../datove-modely/datovy-78681044.html">Osoby zákazníka</a>, uvedená pole jsou pak vyplněna následovně:<br><ul><li>Telefon: NULL,</li><li>E-mail: NULL.</li></ul></li></ul><p>Poznámka: Hodnoty jsou změněny pouze v rámci ovládacích prvků, jejich zanesení přímo do <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> je provedeno až po uložení.</p><h2>Položky objednávky</h2><p>Skupina slouží k přidání jednotlivých <a href="../../../datove-modely/datovy-78681044.html">Položek objednávky</a>, které <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> požaduje v rámci jedné <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>. <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> pak může být dvojího typu, dle toho se pak odvíjí i rozložení skupiny:</p><ul><li>Rámcová smlouva (D.1),</li><li>Jednorázová (D.2).</li></ul><p>Každá z karet pak umožňuje zobrazení právě jedné <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> – atribut Položky objednávky entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</p><h3>Drátový diagram</h3><p><img src="100ui06-formular-objednavky-v2-87327679_images/100UI06_rozlozeni_polozkyObjednavky.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Položka objednávky</td><td colspan="1">–</td><td colspan="1">TabPage</td><td colspan="1">Položka 1</td><td colspan="1"><p>Pořadové číslo představující pořadí, ve kterém byla <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> objednávky načtena ve formuláři. Číselná řada pak začíná hodnotou 1.</p><p><a href="100ui06-87327679.html">Načtení položek objednávky</a></p></td><td colspan="1">Je přidána jedna prázdná <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>.</td><td colspan="1"><p>Položka <Hodnota></p><p>Karta je doplněna o tlačítko umožňující odebrání odpovídající <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a>, které je umístěno vpravo.</p><ul><li>Ikona: ra-cross.</li></ul></td><td colspan="1"><p>Vždy (uživatel může měnit právě zobrazenou kartu)</p><p>Tlačítko pro odebrání <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a>:</p><ul><li>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</li><li>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):<br><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul></li></ul></td><td colspan="1">Vždy</td><td colspan="1"><a href="100ui06-87327679.html">Odebrání položky objednávky</a></td><td colspan="1">–</td><td colspan="1">Výchozí hodnota představuje stav, kdy je zobrazen prázdný formulář.</td></tr><tr><td colspan="1">2</td><td colspan="1">Přidání položky objednávky</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-plus.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul></td><td colspan="1"><a href="100ui06-87327679.html">Přidání položky objednávky</a></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1">Skupina Typ položky</td><td colspan="1"><p>1. Typ položky</p><ul><li>Řez písma: tučné.</li></ul></td><td colspan="1">Label</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">3.1</td><td colspan="1"><p>Typ položky objednávky</p></td><td colspan="1">–</td><td colspan="1">RadioButton</td><td colspan="1">Jednorázová</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>.</td><td colspan="1">Rámcová smlouva</td><td colspan="1"><p>Zobrazený text odpovídá hodnotě atributu Podle smlouvy entity <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>:</p><ul><li>TRUE: Rámcová smlouva,</li><li>FALSE: Jednorázová.</li></ul></td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul><p><a href="100ui06-87327679.html">Dostupné typy položky objednávky</a></p></td><td colspan="1">Vždy</td><td colspan="1"><p>Povinné.</p><p><a href="100ui06-87327679.html">Změna typu položky objednávky</a></p></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">3.2</td><td colspan="1">Rámcová smlouva</td><td colspan="1">Rámcová smlouva*</td><td colspan="1">AutoSuggestTextBox</td><td colspan="1">11070946</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> – atribut Rámcová smlouva entity <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>.</p><p><a href="100ui06-87327679.html">Dostupné rámcové smlouvy</a></p></td><td colspan="1">–</td><td colspan="1"><p><Číslo smlouvy></p><p> </p></td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul></td><td colspan="1">Pokud je typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Rámcová smlouva (komponenta 3.1).</td><td colspan="1"><p><a href="100ui06-87327679.html">Změna rámcové smlouvy</a></p></td><td colspan="1"><p>Povinné, pokud jsou splněny obě uvedené podmínky zároveň:</p><ul><li><a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> je typu Rámcová smlouva (atribut Podle smlouvy je roven TRUE).</li><li><a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>v jednom z uvedených stavů (atribut Stav) nebo do něj má být uložena:<br><ul><li>K realizaci,</li><li>Plněná,</li><li>Dokončená.</li></ul></li></ul><p><a href="100ui06-87327679.html">Platnost rámcové smlouvy</a></p></td><td colspan="1">–</td></tr><tr><td colspan="1">3.3</td><td colspan="1">Platnost smlouvy</td><td colspan="1">Platnost</td><td colspan="1">Label</td><td colspan="1">1. 3. 2018-31. 12. 2018</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> – atribut Rámcová smlouva entity <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>.</td><td colspan="1">–</td><td colspan="1"><p><Platnost od>-<Platnost do></p><ul><li><a href="../../../pouzivane-81592337.html">Datum</a></li><li>Řez písma: tučné.</li></ul><p>Pokud není hodnota atributu Platnost do k dispozici:</p><ul><li><Platnost od>-</li></ul></td><td colspan="1">–</td><td colspan="1"><p>Pokud je typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Rámcová smlouva (komponenta 3.1).</p><p>Pokud je vybrána konkrétní <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> (komponenta 3.2).</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">4</td><td colspan="1">Skupina Místo realizace</td><td colspan="1"><p>2. Místo realizace</p><ul><li>Řez písma: tučné.</li></ul></td><td colspan="1">Label</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">4.1</td><td colspan="1">Místo realizace</td><td colspan="1">Místo realizace*</td><td colspan="1">AutoSuggestTextBox (with add button)</td><td colspan="1">Bratislava, Košická ul. (TESCO STORES a.s.)</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> – atribut Místo realizace entity <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>.</p><p><a href="100ui06-87327679.html">Dostupná místa realizace</a></p></td><td colspan="1">–</td><td colspan="1"><p><Název></p></td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul><p><a href="100ui06-87327679.html">Dostupnost změny místa realizace</a></p></td><td colspan="1"><p>Pokud je splněna jedna z dále uvedených podmínek:</p><ul><li>Typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Jednorázová (komponenta 3.1).</li><li>Typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Rámcová smlouva (komponenta 3.1) a zároveň je vybrána konkrétní <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> (komponenta 3.2).</li></ul></td><td colspan="1"><p><a href="100ui06-87327679.html">Vytvoření místa realizace</a></p><p><a href="100ui06-87327679.html">Změna místa realizace</a></p></td><td colspan="1"><p>Povinné, pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> splňuje všechny dále uvedené podmínky zároveň:</p><ul><li><a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> je v jednom z uvedených stavů (atribut <strong>Stav</strong>) nebo do něj má být uložena: <strong>K realizaci</strong>, <strong>Plněná</strong>, <strong>Dokončená</strong>.</li><li><a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> obsahuje alespoň jeden <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> (resp. k ní má být uložen), který vyžaduje zadání <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> (viz <a href="100ui06-87327679.html">Povinnost zadání místa realizace</a>).</li></ul></td><td colspan="1">–</td></tr><tr><td colspan="1">4.2</td><td colspan="1">Adresa místa realizace</td><td colspan="1">Adresa</td><td colspan="1">TextBox</td><td colspan="1">Košická ul. 49, 821 08 Bratislava</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Adresa</a> – atribut Adresa entity <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> – atribut Místo realizace entity <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>.</td><td colspan="1">–</td><td colspan="1"><p><Ulice> <Číslo popisné>/<Číslo orientační>, <PSČ> <Město></p><p>Pokud není dostupné Číslo orientační:</p><ul><li><Ulice> <Číslo popisné>, <PSČ> <Město></li></ul><p>Pokud není dostupné Číslo popisné:</p><ul><li><Ulice> <Číslo orientační>, <PSČ> <Město></li></ul></td><td colspan="1">Nikdy</td><td colspan="1"><p>Pokud je splněna jedna z dále uvedených podmínek:</p><ul><li>Typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Jednorázová (komponenta 3.1).</li><li>Typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Rámcová smlouva (komponenta 3.1) a zároveň je vybrána konkrétní <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> (komponenta 3.2).</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">4.3</td><td colspan="1">Kontakt k místu realizace</td><td colspan="1">Kontakt</td><td colspan="1">TextBox</td><td colspan="1">p. Vynosil, 0902 123 456</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>.</td><td colspan="1">–</td><td colspan="1"><p><Kontakt v místě realizace></p></td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul><p>Pokud je vybráno konkrétní <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (komponenta 4.1).</p><p><a href="100ui06-87327679.html">Dostupnost změny místa realizace</a></p></td><td colspan="1"><p>Pokud je splněna jedna z dále uvedených podmínek:</p><ul><li>Typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Jednorázová (komponenta 3.1).</li><li>Typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Rámcová smlouva (komponenta 3.1) a zároveň je vybrána konkrétní <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> (komponenta 3.2).</li></ul></td><td colspan="1">–</td><td colspan="1">Maximálně 255 znaků.</td><td colspan="1">–</td></tr><tr><td colspan="1">4.4</td><td colspan="1">Poznámka k místu realizace</td><td colspan="1">Poznámka</td><td colspan="1">MultilineTextBox</td><td colspan="1">Nezpevněný povrch.</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>.</td><td colspan="1">–</td><td colspan="1"><p><Poznámka k místu realizace></p></td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul><p>Pokud je vybráno konkrétní <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (komponenta 4.1).</p><p><a href="100ui06-87327679.html">Dostupnost změny místa realizace</a></p></td><td colspan="1"><p>Pokud je splněna jedna z dále uvedených podmínek:</p><ul><li>Typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Jednorázová (komponenta 3.1).</li><li>Typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Rámcová smlouva (komponenta 3.1) a zároveň je vybrána konkrétní <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> (komponenta 3.2).</li></ul></td><td colspan="1">–</td><td colspan="1">Maximálně 255 znaků.</td><td colspan="1">–</td></tr><tr><td colspan="1">5</td><td colspan="1">Skupina Objednané nádoby</td><td colspan="1"><p>3. Objednané nádoby</p><ul><li>Řez písma: tučné.</li></ul></td><td colspan="1">Label</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">5.1</td><td colspan="1">Nástrojová lišta tabulky pro objednané nádoby</td><td colspan="1">–</td><td colspan="1"><a href="100ui06-87327679.html">Objednané nádoby</a></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul><p>Je zobrazeno pole pro zadání <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> (komponenta 4.1).</p><p>Pokud je vybráno konkrétní <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (komponenta 4.1).</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">5.2</td><td colspan="1">Tabulka pro objednané nádoby</td><td colspan="1">–</td><td colspan="1"><a href="100ui06-87327679.html">Objednané nádoby</a></td><td colspan="1">–</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a> – atribut Objednané nádoby entity <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pouze přes nástrojovou lištu (komponenta 5.1).</td><td colspan="1"><p>Je zobrazeno pole pro zadání <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> (komponenta 4.1).</p><p>Pokud je vybráno konkrétní <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (komponenta 4.1).</p><p>Pokud je obsažena alespoň jedna <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a>.</p></td><td colspan="1">–</td><td colspan="1"><p>Povinné (musí být přidána alespoň jedna <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a>), pokud je <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> v jednom z uvedených stavů (atribut Stav) nebo do něj má být uložena:</p><ul><li>K realizaci,</li><li>Plněná,</li><li>Dokončená.</li></ul></td><td colspan="1">–</td></tr><tr><td colspan="1">6</td><td colspan="1">Skupina Výpočet ceny</td><td colspan="1"><p>4. Výpočet ceny</p><ul><li>Řez písma: tučné.</li></ul></td><td colspan="1">Label</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud je typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Jednorázová (komponenta 3.1).</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">6.1</td><td colspan="1">Typ výpočtu ceny</td><td colspan="1">–</td><td colspan="1">RadioButton</td><td colspan="1">Paušál</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>.</td><td colspan="1">Kalkulace</td><td colspan="1"><p><Typ výpočtu ceny></p></td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul></td><td colspan="1"><p>Pokud je typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Jednorázová (komponenta 3.1).</p><p>Pokud je vybráno konkrétní <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (komponenta 4.1).</p></td><td colspan="1"><a href="100ui06-87327679.html">Změna typu výpočtu ceny</a></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">6.2</td><td colspan="1">Nadpis skupiny Zneškodnění/zhodnocení odpadu</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">–</td><td colspan="1"><p>Pevně daný text:</p><ul><li>Zneškodnění/zhodnocení odpadu</li></ul></td><td colspan="1">–</td><td colspan="1"><p><Hodnota></p><ul><li>Řez písma: tučné.</li></ul></td><td colspan="1">–</td><td colspan="1"><p>Pokud je typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Jednorázová (komponenta 3.1).</p><p>Pokud je vybráno konkrétní <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (komponenta 4.1).</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">6.3</td><td colspan="1">Tabulka pro zneškodnění/zhodnocení odpadu</td><td colspan="1">–</td><td colspan="1"><p>Grid</p><p><a href="100ui06-87327679.html">Zneškodnění/zhodnocení odpadu</a></p></td><td colspan="1">–</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Řádek výpočtu ceny</a> – atribut Výpočet ceny <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>.</td><td colspan="1">–</td><td colspan="1"><Hodnota></td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul></td><td colspan="1"><p>Pokud je typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Jednorázová (komponenta 3.1).</p><p>Pokud je vybráno konkrétní <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (komponenta 4.1).</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Podrobnější popis je uveden spolu s popisem struktury tabulky.</td></tr><tr><td colspan="1">6.4</td><td colspan="1">Nadpis skupiny Ostatní složky ceny</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">–</td><td colspan="1"><p>Pevně daný text:</p><ul><li>Ostatní složky ceny</li></ul></td><td colspan="1">–</td><td colspan="1"><p><Hodnota></p><ul><li>Řez písma: tučné.</li></ul></td><td colspan="1">–</td><td colspan="1"><p>Pokud je typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Jednorázová (komponenta 3.1).</p><p>Pokud je vybráno konkrétní <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (komponenta 4.1).</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">6.5</td><td colspan="1">Tabulka pro ostatní složky ceny</td><td colspan="1">–</td><td colspan="1"><p>Grid</p><p><a href="100ui06-87327679.html">Ostatní složky ceny</a></p></td><td colspan="1">–</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Řádek výpočtu ceny</a> – atribut Výpočet ceny <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>.</td><td colspan="1">–</td><td colspan="1"><p><Hodnota></p></td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul></td><td colspan="1"><p>Pokud je typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Jednorázová (komponenta 3.1).</p><p>Pokud je vybráno konkrétní <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (komponenta 4.1).</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Podrobnější popis je uveden spolu s popisem struktury tabulky.</td></tr><tr><td colspan="1">6.6</td><td colspan="1">Předpokládaná cena</td><td colspan="1"><p><a href="100ui06-87327679.html">Cena položky objednávky</a></p><ul><li>Řez písma: tučné.</li></ul></td><td colspan="1">Label</td><td colspan="1">197,00 €</td><td colspan="1"><a href="100ui06-87327679.html">Cena položky objednávky</a></td><td colspan="1">–</td><td colspan="1"><p><Hodnota></p><ul><li><a href="../../../pouzivane-81592337.html">Měna</a></li><li>Řez písma: tučné.</li></ul></td><td colspan="1">–</td><td colspan="1"><p>Pokud je typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> nastaven na hodnotu Jednorázová (komponenta 3.1).</p><p>Pokud je vybráno konkrétní <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (komponenta 4.1).</p></td><td colspan="1"><a href="100ui06-87327679.html">Cena položky objednávky</a></td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h3>Chování</h3><h4>Načtení položek objednávky</h4><ul><li>Pokud je formulář zobrazen pro <a href="../../../datove-modely/datovy-78681044.html">Objednávku</a>, ve které je obsažena více než jedna <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> (atribut Položky objednávky entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>), jsou jednotlivé karty s <a href="../../../datove-modely/datovy-78681044.html">Položkami objednávek</a> seřazeny vzestupně dle primárního klíče <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a>.</li><li>Systém vybere jako aktuální první vloženou kartu.</li></ul><h4>Odebrání položky objednávky</h4><p>Vzhledem k tomu, že při odebrání <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> (komponenta 1) dojde k „zahození“ velkého množství údajů, je nutné upozornit uživatele.</p><ol><li>Pokud odebrání vyvolá přímo uživatel v rámci komponenty 1:<ol><li>Uživatel stiskne tlačítko pro odebrání <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> (komponenta 1).</li><li>Systém zobrazí modální okno s dotazem, zda má být <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> opravdu odebrána (MSG_CONF_CANCEL_REMOVE_ITEM, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Pokud uživatel potvrdí hlášení:<ol><li>Systém zavře modální okno.<br></li></ol></li><li>Jinak:<ol><li>Systém zruší odebrání <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a>.</li><li>Systém zavře modální okno.</li><li><strong>Konec toku událostí</strong>.<br></li></ol></li></ol></li><li>Systém odebere <a href="../../../datove-modely/datovy-78681044.html">Položku objednávky</a>.</li><li>Systém aktualizuje nadpisy karet s <a href="../../../datove-modely/datovy-78681044.html">Položkami objednávek</a>.</li><li>Pokud byla odebrána poslední <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>:<br><ol><li>Systém vytvoří novou <a href="../../../datove-modely/datovy-78681044.html">Položku objednávky</a> – vyvolá <a href="100ui06-87327679.html">Přidání položky objednávky</a>.</li></ol></li></ol><p>Poznámka: <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> je skutečně odebrána až po uložení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>.</p><h4>Přidání položky objednávky</h4><ol><li>Uživatel stiskne tlačítko pro přidání <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> (komponenta 2).</li><li>Systém vytvoří novou kartu pro požadovanou <a href="../../../datove-modely/datovy-78681044.html">Položku objednávky</a>, kdy jsou jednotlivé v ní obsažené komponenty nastaveny do výchozího stavu.</li><li>Systém vytvořenou kartu vloží jako v pořadí poslední. Její nadpis odpovídá této pozici.</li><li>Systém nastaví tuto kartu jako aktuální.</li></ol><p>Poznámka: Výchozí stav vytvořené karty se může lišit např. podle toho, zda je v rámci formuláře vybrán <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (dostupné typy <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> a podobně).</p><h4>Dostupné typy položky objednávky</h4><p>Může nastat situace, kdy není uživateli umožněno libovolně zvolit typ <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> (komponenta 3.1). Pokud je splněna jedna z dále uvedených podmínek, je systémem zvolena možnost Jednorázová a ovládací prvek je znepřístupněn.</p><ul><li>Je vybrán <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (skupina <a href="100ui06-87327679.html">Objednavatel</a>, komponenta 4) a zároveň neexistuje žádná <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> splňující všechny uvedené podmínky zároveň:<br><ul><li>Hodnota atributu Zákazník entity <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> odpovídá vybranému <a href="../../../datove-modely/datovy-78681044.html">Zákazníkovi</a>.</li><li>Hodnota atributu Platnost od entity <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> je menší nebo rovna dnešnímu datu.</li><li>Hodnota atributu Platnost do entity <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> není k dispozici, nebo je větší nebo rovna dnešnímu datu.</li></ul></li></ul><p>Poznámka: Pokud je nastaven typ <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> na hodnotu Rámcová smlouva a zároveň dojde k uvedenému chování (dojde ke změně typu <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a>), je vyvolána <a href="100ui06-87327679.html">Změna typu položky objednávky</a>.</p><h4>Změna typu položky objednávky</h4><p>Pokud dojde ke změně typu <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> (komponenta 3.1), jsou dle zvolené hodnoty ovlivněna i další související pole:</p><ul><li>Rámcová smlouva (komponenta 3.2) – následně dojde ke změně v dalších polích, je vyvolána <a href="100ui06-87327679.html">Změna rámcové smlouvy</a>.</li><li>Místo realizace (komponenta 4.1) – následně dojde ke změně v dalších polích, je vyvolána <a href="100ui06-87327679.html">Změna místa realizace</a>.</li></ul><p>Vzhledem k tomu, že změna typu <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> ovlivní značnou část formuláře, je nutné upozornit uživatele – je tedy uveden celý tok událostí:</p><ol><li>Pokud změnu vyvolá přímo uživatel v rámci komponenty 3.1 a zároveň již uživatel provedl změnu v rámci dříve uvedených polí:<br><ol><li>Uživatel změní typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a>.</li><li>Systém zobrazí modální okno s dotazem, zda má být typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> opravdu změněn (MSG_CONF_CANCEL_EDIT_ORDER_ITEM_TYPE, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Pokud uživatel potvrdí hlášení:<br><ol><li>Systém zavře modální okno.<br></li></ol></li><li>Jinak:<br><ol><li>Systém zruší změnu typu <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a>.</li><li>Systém zavře modální okno.</li><li><strong>Konec toku událostí</strong>.</li></ol></li></ol></li><li>Systém provede změny v rámci uvedených komponent:<br><ol><li>Pokud je před změnou nastaven typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> na hodnotu Jednorázová:<br><ol><li>Systém zruší výběr <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> (pokud je obsažena hodnota, je vyvolána <a href="100ui06-87327679.html">Změna místa realizace</a>).</li></ol></li><li>Pokud je před změnou nastaven typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> na hodnotu Rámcová smlouva:<br><ol><li>Systém zruší výběr <a href="../../../datove-modely/datovy-78681044.html">Rámcové smlouvy</a> (pokud je obsažena hodnota, je vyvolána <a href="100ui06-87327679.html">Změna rámcové smlouvy</a>).</li></ol></li><li>Systém změní rozložení karty dle popisu UI komponent. </li></ol></li></ol><p>Poznámka:</p><ul><li>Před změnou rozložení dojde ke smazání obsahu na kartě odpovídající <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a>.</li><li>Hodnoty jsou změněny pouze v rámci ovládacích prvků, jejich zanesení přímo do <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> je provedeno až po uložení.</li><li>Hodnoty jsou nastavovány dle popisu UI komponent.</li></ul><h4>Dostupné rámcové smlouvy</h4><p><a href="../../../datove-modely/datovy-78681044.html">Rámcové smlouvy</a> dostupné v rámci ovládacího prvku závisí na tom, pro jakou <a href="../../../datove-modely/datovy-78681044.html">Provozovnu</a> je <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> vytvářena a zda je v rámci formuláře vybrán <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>. K dispozici jsou pak pouze platné <a href="../../../datove-modely/datovy-78681044.html">Rámcové smlouvy</a>. Musí být tedy splněny všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Provozovna</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> odpovídá jedné z dále uvedených <a href="100ui06-87327679.html">Provozoven</a> (vychází z logiky použité v rámci vyhodnocení <a href="../../../uzivatelska-78681297.html">uživateli dostupných instancí entit</a>, viz <a href="../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>):<br><ul><li>odpovídá některé z <a href="../../../datove-modely/datovy-78681044.html">Provozoven</a>, která je přímo nadřízena <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a> nastavené ve formuláři (skupina <a href="100ui06-87327679.html">Provozovna</a>, komponenta 4; vyhodnoceno dle atributu <strong>Nadřízená provozovna</strong> dané <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>).</li><li>odpovídá přímo <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a>, která je nastavena ve formuláři (skupina <a href="100ui06-87327679.html">Provozovna</a>, komponenta 4).</li><li>odpovídá některé z <a href="../../../datove-modely/datovy-78681044.html">Provozoven</a>, která je podřízena <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a> nastavené ve formuláři (skupina <a href="100ui06-87327679.html">Provozovna</a>, komponenta 4; vyhodnoceno dle atributu <strong>Nadřízená provozovna</strong> dané <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>).</li><li>konkrétní <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> není k dispozici (u dané <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> není <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> k dispozici).<br></li></ul></li><li>Hodnota atributu <strong>Platnost od</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> je menší nebo rovna dnešnímu datu.</li><li>Hodnota atributu <strong>Platnost do</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> není k dispozici, nebo je větší či rovna dnešnímu datu.<br></li><li>Pokud je vybrán <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (skupina <a href="100ui06-87327679.html">Objednavatel</a>, komponenta 4):<br><ul><li>Hodnota atributu <strong>Zákazník</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> odpovídá <a href="../../../datove-modely/datovy-78681044.html">Zákazníkovi</a> nastavenému v rámci formuláře (skupina <a href="100ui06-87327679.html">Objednavatel</a>, komponenta 4).</li></ul></li><li>Uživatel má oprávnění na danou <a href="../../../datove-modely/datovy-78681044.html">Rámcovou smlouvu</a> (vyhodnoceno dle <a href="../../../uzivatelska-78681297.html">uživateli dostupných instancí entit</a>, viz <a href="#" data-page-title="Uživatelská oprávnění a role"></a>).<br></li></ul><p>Změna rámcové smlouvy</p><p>Pokud dojde ke změně <a href="../../../datove-modely/datovy-78681044.html">Rámcové smlouvy</a> (komponenta 3.2), jsou dle zvolené hodnoty vyplněna i další související pole:</p><ul><li>Platnost smlouvy (komponenta 3.3),</li><li>Místo realizace (komponenta 4.1) – následně dojde ke změně v dalších polích, je vyvolána <a href="100ui06-87327679.html">Změna místa realizace</a>.</li></ul><p>Pokud není vybrán konkrétní <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, dojde k jeho nastavení dle zvolené <a href="../../../datove-modely/datovy-78681044.html">Rámcové smlouvy</a>, dále jsou tedy vyplněna i další související pole:</p><ul><li>Zákazník (skupina <a href="100ui06-87327679.html">Objednavatel</a>, komponenta 4).</li></ul><p>Vzhledem k tomu, že změna <a href="../../../datove-modely/datovy-78681044.html">Rámcové smlouvy</a> ovlivní značnou část formuláře, je nutné upozornit uživatele – je tedy uveden celý tok událostí:</p><ol><li>Pokud změnu vyvolá přímo uživatel v rámci komponenty 3.2 a zároveň již uživatel provedl změnu v rámci dříve uvedených polí:<br><ol><li>Uživatel změní <a href="../../../datove-modely/datovy-78681044.html">Rámcovou smlouvu</a> (vybere požadovanou, nebo výběr zruší).</li><li>Systém zobrazí modální okno s dotazem, zda má být <a href="../../../datove-modely/datovy-78681044.html">Rámcovou smlouvu</a> opravdu změněna (MSG_CONF_CANCEL_EDIT_CONTRACT, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Pokud uživatel potvrdí hlášení:<br><ol><li>Systém zavře modální okno.<br></li></ol></li><li>Jinak:<br><ol><li>Systém zruší změnu <a href="../../../datove-modely/datovy-78681044.html">Rámcové smlouvy</a>.</li><li>Systém zavře modální okno.</li><li><strong>Konec toku událostí</strong>.</li></ol></li></ol></li><li>Systém provede změny v rámci uvedených komponent:<br><ol><li>Pokud je vybrána konkrétní <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a>:<br><ol><li>Pokud v době změny <a href="../../../datove-modely/datovy-78681044.html">Rámcové smlouvy</a> není vybrán konkrétní <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (skupina <a href="100ui06-87327679.html">Objednavatel</a>, komponenta 4):<br><ol><li>Zákazník: nastaveno dle vybrané <a href="../../../datove-modely/datovy-78681044.html">Rámcové smlouvy</a> (atribut Zákazník, vyvolána <a href="100ui06-87327679.html">Změna zákazníka</a>).</li></ol></li><li>Platnost smlouvy: nastaveno dle vybrané <a href="../../../datove-modely/datovy-78681044.html">Rámcové smlouvy</a>.</li><li>Místo realizace (vyvolána <a href="100ui06-87327679.html">Změna místa realizace</a>):<br><ol><li>Pokud <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> obsahuje pouze jedno <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (atribut Místa realizace): je vyplněno obsažené <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a>.</li><li>Jinak: nastaveno do výchozího stavu.<br></li></ol></li></ol></li><li>Pokud je zrušen výběr <a href="../../../datove-modely/datovy-78681044.html">Rámcové smlouvy</a>:<br><ol><li>Platnost smlouvy: nastaveno do výchozího stavu.<br></li><li>Místo realizace: nastaveno do výchozího stavu (vyvolána <a href="100ui06-87327679.html">Změna místa realizace</a>).</li></ol></li></ol></li></ol><p>Poznámka:</p><ul><li>Hodnoty jsou změněny pouze v rámci ovládacích prvků, jejich zanesení přímo do <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> je provedeno až po uložení.</li><li>Hodnoty jsou nastavovány dle popisu UI komponent.</li></ul><h4>Platnost rámcové smlouvy</h4><p>Při zakládání či editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> může nastat situace, kdy zvolená <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> není k dnešnímu dni platná. To se může stát v případě, kdy uživatel uloží <a href="../../../datove-modely/datovy-78681044.html">Objednávku</a> jako rozpracovanou. Další den se k této <a href="../../../datove-modely/datovy-78681044.html">Objednávce</a> vrátí, zvolená <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> k tomuto dni však již není platná. Dalším příkladem je vytvoření kopie existující <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>, kdy může nastat podobná situace.</p><p>Poznámka: V rámci editace <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> je možné vybrat pouze platnou <a href="../../../datove-modely/datovy-78681044.html">Rámcovou smlouvu</a>.</p><p>Pokud tato situace opravdu nastane, je postup řešení následující:</p><ol><li>Uživatel požaduje zobrazení formuláře se zvolenou <a href="../../../datove-modely/datovy-78681044.html">Objednávku</a> (zahrnuje i založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>, kdy je na vstupu předána jiná <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>).</li><li>Pokud je <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> v jednom z uvedených stavů (atribut Stav), <strong>konec toku událostí</strong> (v tomto případě není umožněna plnohodnotná editace, <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> již byla zrušena nebo předána k realizaci):<br><ol><li>Plněná,</li><li>Dokončená,</li><li>Zrušená.</li></ol></li><li>Pokud existuje alespoň jedna <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> splňující všechny uvedené podmínky (atribut Položky objednávky entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>), systém zobrazí modální okno s touto informací (MSG_CONF_INAVLID_CONTRACT_IN_ORDER, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).<br><ul><li>Hodnota atributu Podle smlouvy entity <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> je rovna TRUE.</li><li>Hodnota atributu Rámcová smlouva entity <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> je různá od NULL.</li><li>Odpovídající <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> není k dnešnímu dni platná (atribut Rámcová smlouva entity <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>) – je splněna jedna z uvedených podmínek:<br><ul><li>Hodnota atributu Platnost od je větší než dnešní datum.</li><li>Hodnota atributu Platnost do je k dispozici a zároveň je menší než dnešní datum.<br></li></ul></li></ul></li><li>Pokud uživatel potvrdí hlášení:<br><ol><li>Systém odebere nalezené <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a>.</li></ol></li><li>Jinak:<br><ol><li>Systém se vrátí zpět do části aplikace, kde byl vyvolán UC. <strong>Konec toku událostí</strong>.</li></ol></li><li>Systém zavře modální okno.</li><li>Systém pokračuje v zobrazení formuláře <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>.</li></ol><p>Poznámka:</p><ul><li><a href="../../../datove-modely/datovy-78681044.html">Objednávku</a> obsahující <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> s neplatnou <a href="../../../datove-modely/datovy-78681044.html">Rámcovou smlouvou</a> není možné uložit.</li><li>Pokud není informace, kde byl UC vyvolán, k dispozici, je uživatel přesměrován na výchozí stránku aplikace RoadPlan (<a href="../../pripady-uziti/700ucxx-obecne/703ucxx-o-aplikaci/703uc01-81593095.html">703UC01: Zobrazit stránku O aplikaci</a>).</li><li><p>Zahrnuje i případ, kdy odpovídající <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> nemá k dnešnímu dni žádnou platnou <a href="../../../datove-modely/datovy-78681044.html">Rámcové smlouvě</a> (viz <a href="100ui06-87327679.html">Dostupné typy položky objednávky</a>). V takovém případě neexistují ani <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> s platnou <a href="../../../datove-modely/datovy-78681044.html">Rámcovou smlouvou</a>.</p></li></ul><h4>Dostupná místa realizace</h4><p><a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> dostupná v rámci ovládacího prvku závisí na více faktorech zároveň, proto je chování popsáno samostatně. Ovládací prvek je pak dostupný pouze v případě, kdy je v rámci formuláře <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> vyplněn <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (skupina <a href="100ui06-87327679.html">Objednavatel</a>, komponenta 4). Základním faktorem je pak „existence“ zobrazené <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>.</p><p>Pro oba případy je pak získání <a href="../../../datove-modely/datovy-78681044.html">Míst realizace</a> konkrétního <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> společné – jsou dána dle typu odpovídající <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> (komponenta 3.1):</p><ul><li><strong>Rámcová smlouva</strong>: dostupná jsou taková <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a>, která splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Zákazník</strong> odpovídá ve formuláři nastavenému <a href="../../../datove-modely/datovy-78681044.html">Zákazníkovi</a> (skupina <a href="100ui06-87327679.html">Objednavatel</a>, komponenta 4).</li><li>Hodnota atributu <strong>Provozovna</strong> odpovídá jedné z dále uvedených <a href="100ui06-87327679.html">Provozoven</a> (vychází z logiky použité v rámci vyhodnocení <a href="../../../uzivatelska-78681297.html">uživateli dostupných instancí entit</a>, viz <a href="../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>):<br><ul><li>odpovídá některé z <a href="../../../datove-modely/datovy-78681044.html">Provozoven</a>, která je přímo nadřízena <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a> nastavené ve formuláři (skupina <a href="100ui06-87327679.html">Provozovna</a>, komponenta 4; vyhodnoceno dle atributu <strong>Nadřízená provozovna</strong> dané <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>).</li><li>odpovídá přímo <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a>, která je nastavena ve formuláři (skupina <a href="100ui06-87327679.html">Provozovna</a>, komponenta 4).</li><li>odpovídá některé z <a href="../../../datove-modely/datovy-78681044.html">Provozoven</a>, která je podřízena <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a> nastavené ve formuláři (skupina <a href="100ui06-87327679.html">Provozovna</a>, komponenta 4; vyhodnoceno dle atributu <strong>Nadřízená provozovna</strong> dané <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>).</li><li>konkrétní <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> není k dispozici (u daného <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> není <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> k dispozici).</li></ul></li><li>Pro dané <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> existuje takový záznam entity <a href="../../../datove-modely/datovy-78681044.html">Místo realizace ve smlouvě</a> (atribut <strong>Místo realizace</strong>), který splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atribut <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Rámcová smlouva</strong> odpovídá ve formuláři nastavené <a href="../../../datove-modely/datovy-78681044.html">Rámcové smlouvě</a> (komponenta 3.2).</li></ul></li><li>Uživatel má oprávnění na dané <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> (vyhodnoceno dle <a href="../../../uzivatelska-78681297.html">uživateli dostupných instancí entit</a>, viz <a href="#" data-page-title="Uživatelská oprávnění a role"></a>).<br></li></ul></li><li><strong>Jednorázová</strong>: dostupná jsou taková <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a>, která splňují všechny dále uvedené podmínky zároveň: </li><li><ul><li>Hodnota atribut <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Zákazník</strong> odpovídá ve formuláři nastavenému <a href="../../../datove-modely/datovy-78681044.html">Zákazníkovi</a> (skupina <a href="100ui06-87327679.html">Objednavatel</a>, komponenta 4).</li><li>Hodnota atributu <strong>Provozovna</strong> odpovídá jedné z dále uvedených <a href="100ui06-87327679.html">Provozoven</a> (vychází z logiky použité v rámci vyhodnocení <a href="../../../uzivatelska-78681297.html">uživateli dostupných instancí entit</a>, viz <a href="../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>):<br><ul><li>odpovídá některé z <a href="../../../datove-modely/datovy-78681044.html">Provozoven</a>, která je přímo nadřízena <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a> nastavené ve formuláři (skupina <a href="100ui06-87327679.html">Provozovna</a>, komponenta 4; vyhodnoceno dle atributu <strong>Nadřízená provozovna</strong> dané <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>).</li><li>odpovídá přímo <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a>, která je nastavena ve formuláři (skupina <a href="100ui06-87327679.html">Provozovna</a>, komponenta 4).</li><li>odpovídá některé z <a href="../../../datove-modely/datovy-78681044.html">Provozoven</a>, která je podřízena <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a> nastavené ve formuláři (skupina <a href="100ui06-87327679.html">Provozovna</a>, komponenta 4; vyhodnoceno dle atributu <strong>Nadřízená provozovna</strong> dané <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>).</li><li>konkrétní <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> není k dispozici (u daného <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> není <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> k dispozici).</li></ul></li><li>Uživatel má oprávnění na dané <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> (vyhodnoceno dle <a href="../../../uzivatelska-78681297.html">uživateli dostupných instancí entit</a>, viz <a href="#" data-page-title="Uživatelská oprávnění a role"></a>).</li></ul></li></ul><p>Poznámka: Pokud není u <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> typu Rámcová smlouva nastavena konkrétní <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> (komponenta 3.2), není umožněna změna <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> – viz <a href="100ui06-87327679.html">Dostupnost změny místa realizace</a>.</p><h5>Založení objednávky</h5><p>V případě, kdy je zakládána nová <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>, zatím není odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> v rámci systému k dispozici. V takovém případě jsou dostupná všechna <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> dána dle společného postupu pro získání <a href="../../../datove-modely/datovy-78681044.html">Míst realizace</a> konkrétního <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> (viz dříve).</p><h5>Editace objednávky</h5><p>V případě, kdy je editována již existující <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>, jsou dostupná <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> dána stavem odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (atribut <strong>Stav</strong>) – ta byla získána na vstupu formuláře. V takovém případě jsou dostupná následující <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a>:</p><ul><li><strong>Rozpracovaná</strong>, <strong>K upřesnění</strong>, <strong>K realizaci</strong>: Dostupná <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> mohou být získána 2 způsoby, kdy se může stát, že budou použity oba způsoby zároveň:<br><ul><li>dostupná <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> jsou dána dle společného postupu pro získání <a href="../../../datove-modely/datovy-78681044.html">Míst realizace</a> konkrétního <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> (viz dříve),</li><li>atribut <strong>Místo realizace</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>, a to pouze v případě, kdy nebylo <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> získáno v předchozím kroku (může se jednat o již neaktivní <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a>).</li></ul></li><li><strong>Jinak</strong>: atribut <strong>Místo realizace</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> (již není možné <a href="../../../datove-modely/datovy-78681044.html">Objednávku</a> měnit).</li></ul><h4>Dostupnost změny místa realizace</h4><p>Změna <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> je dostupná pouze v případě, kdy jsou splněny určité podmínky – ty jsou uvedeny dále.</p><p>První nutnou podmínkou je výběr <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> (skupina <a href="100ui06-87327679.html">Objednavatel</a>, komponenta 4), pokud tomu tak není změna <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> není dostupná.</p><p>Pokud je splněna první podmínka, musíme rozlišit, o jaký typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> se jedná (komponenta 3.1):</p><ul><li>Rámcová smlouva: V tomto případě je nutné splnit i druhou podmínku, tou je výběr <a href="../../../datove-modely/datovy-78681044.html">Rámcové smlouvy</a> (komponenta 3.2):<ul><li>Pokud je <a href="../../../datove-modely/datovy-78681044.html">Rámcová smlouva</a> k dispozici, je změna <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> dostupná.</li><li>Jinak změna <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> dostupná není.</li></ul></li><li>Jednorázová: Změna <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> je dostupná.</li></ul><h4>Povinnost zadání místa realizace</h4><p>Zadání <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> je povinné pouze v případě, kdy se v rámci odpovídající <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> vyskytuje alespoň jeden <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a>, který vyžaduje zadání <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> (je dle něj vytvářena <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> daného typu).</p><ul><li>Pokud je tedy obsažen alespoň jeden <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> některého z uvedených typů (atribut <strong>Typ úkonu</strong>, viz <a href="../../../datove-modely/datovy-78681044.html">Typ úkonu</a>), je zadání <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> povinné.<br><ul><li>Přistavení,<br></li><li>Vývoz,</li><li>Výměna,</li><li>Odvoz,</li><li>Manipulace,</li><li>Sběr,</li><li>Rozvoz,</li><li>Přeprava.</li></ul></li><li>Pokud jsou obsaženy pouze <a href="../../../datove-modely/datovy-78681044.html">Objednané úkony</a> některého z uvedených typů (atribut <strong>Typ úkonu</strong>, viz <a href="../../../datove-modely/datovy-78681044.html">Typ úkonu</a>), zadání <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> povinné není.<br><ul><li>Vývoz mezi LM.</li></ul></li></ul><p>Poznámka: Dostupné <a href="../../../datove-modely/datovy-78681044.html">Objednané úkony</a> dané <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> jsou k dispozici v rámci komponenty <strong>5.2</strong>. Cesta mezi uvedenými entitami je pak následující: <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> / <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a> / <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a>.</p><h4>Vytvoření místa realizace</h4><p>Pokud je nutné v rámci založení či editace <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> přidat nové <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a>, protože u zvoleného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> není k dispozici, je to umožněno pomocí odpovídajícího tlačítka v rámci ovládacího prvku (komponenta 4.1). Jeho stisknutí pak spustí TODO: Přidat UC. Pokud vytvoření proběhlo v pořádku, dojde ke změně <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> – viz <a href="100ui06-87327679.html">Změna místa realizace</a>.</p><p>Poznámka: Při vytváření <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> je nastavena hodnota atributu Provozovna tohoto <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> na NULL (dodatečně bude doplněno přímo do UC).</p><p>Vytvoření nového <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> je podmíněno uživatelskými právy: Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> (EDIT_RP_CUSTOMERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>). Pokud nemá uživatel dostatečná oprávnění, není pro něj funkčnost dostupná.</p><p>Poznámka: Na vytvořené <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> je odkazováno pouze z konkrétní <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>. Vytvořené <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> tedy není u odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> dostupné – s výjimkou jednoho případu, kdy ještě není odpovídající <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> odeslán do systému WinyX (hodnota atributu Odeslán ke kontrole je rovna FALSE). TODO: Prověřit, zda je zaneseno v UC.</p><h4>Změna místa realizace</h4><p>Pokud dojde ke změně <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> (komponenta 4.1), jsou dle zvolené hodnoty vyplněna i další související pole:</p><ul><li>Adresa místa realizace (komponenta 4.2),</li><li>Kontakt k místu realizace (komponenta 4.3),</li><li>Poznámka k místu realizace (komponenta 4.4),</li><li>Tabulka pro objednané nádoby (komponenta 5.2),</li><li>Tabulka pro zneškodnění/zhodnocení odpadu (komponenta 6.3),</li><li>Tabulka pro ostatní složky ceny (komponenta 6.3).</li></ul><p>Vzhledem k tomu, že změna <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> ovlivní značnou část formuláře, je nutné upozornit uživatele – je tedy uveden celý tok událostí:</p><ol><li>Pokud změnu vyvolá přímo uživatel v rámci komponenty 4.1 a zároveň již uživatel provedl změnu v rámci dříve uvedených polí:<br><ol><li>Uživatel změní <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (vybere požadované, nebo výběr zruší).</li><li>Systém zobrazí modální okno s dotazem, zda má být <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> opravdu změněno (MSG_CONF_CANCEL_EDIT_CUSTOMER_SITE, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Pokud uživatel potvrdí hlášení:<br><ol><li>Systém zavře modální okno.</li></ol></li><li>Jinak:<br><ol><li>Systém zruší změnu <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a>.</li><li>Systém zavře modální okno.</li><li><strong>Konec toku událostí</strong>.</li></ol></li></ol></li><li>Systém provede změny v rámci uvedených komponent:<br><ol><li>Pokud je vybráno konkrétní <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a>:<br><ol><li>Adresa místa realizace: nastaveno dle vybraného <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a>,</li><li>Kontakt k místu realizace: nastaveno do výchozího stavu (zrušení nastavené hodnoty),</li><li>Poznámka k místu realizace: nastaveno do výchozího stavu (zrušení nastavené hodnoty),</li><li>Tabulka pro objednané nádoby: jsou odebrány všechny obsažené <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a>,</li><li>Pokud je zobrazena skupina Výpočet ceny (komponenta 6) – jedná se <a href="../../../datove-modely/datovy-78681044.html">Položku objednávky</a> typu Jednorázová (komponenta 3.1):<br><ol><li>Tabulka pro zneškodnění/zhodnocení odpadu: nastaveno do výchozího stavu,</li><li>Tabulka pro ostatní složky ceny: nastaveno do výchozího stavu.<br></li></ol></li></ol></li><li>Pokud je zrušen výběr <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a>:<br><ol><li>Adresa místa realizace: nastaveno do výchozího stavu,</li><li>Kontakt k místu realizace: nastaveno do výchozího stavu (zrušení nastavené hodnoty),</li><li>Poznámka k místu realizace: nastaveno do výchozího stavu (zrušení nastavené hodnoty),</li><li>Tabulka pro objednané nádoby: jsou odebrány všechny obsažené <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a>,</li><li>Pokud je zobrazena skupina Výpočet ceny (komponenta 6) – jedná se <a href="../../../datove-modely/datovy-78681044.html">Položku objednávky</a> typu Jednorázová (komponenta 3.1):<br><ol><li>Tabulka pro zneškodnění/zhodnocení odpadu: nastaveno do výchozího stavu,</li><li>Tabulka pro ostatní složky ceny: nastaveno do výchozího stavu.<br></li></ol></li></ol></li></ol></li></ol><p>Poznámka:</p><ul><li>Hodnoty jsou změněny pouze v rámci ovládacích prvků, jejich zanesení přímo do <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> je provedeno až po uložení.</li><li>Hodnoty jsou nastavovány dle popisu UI komponent.</li></ul><h4>Změna typu výpočtu ceny</h4><p>Pokud dojde ke změně výpočtu ceny (komponenta 6.1), jsou dle zvolené hodnoty ovlivněna i další související pole:</p><ul><li>Tabulka pro zneškodnění/zhodnocení odpadu (komponenta 6.3),</li><li>Tabulka pro ostatní složky ceny (komponenta 6.5),</li><li>Předpokládaná cena (komponenta 6.6).</li></ul><p>Vzhledem k tomu, že změna typu výpočtu ceny ovlivní značnou část formuláře, je nutné upozornit uživatele – je tedy uveden celý tok událostí:</p><ol><li>Pokud změnu vyvolá přímo uživatel v rámci komponenty 6.1 a zároveň již uživatel provedl změnu v rámci dříve uvedených polí:<br><ol><li>Uživatel změní typ výpočtu ceny.</li><li>Systém zobrazí modální okno s dotazem, zda má být typ výpočtu ceny opravdu změněn (MSG_CONF_CANCEL_EDIT_PRICE_CALCULATION_TYPE, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Pokud uživatel potvrdí hlášení:<br><ol><li>Systém zavře modální okno.</li></ol></li><li>Jinak:<br><ol><li>Systém zruší změnu typu výpočtu ceny.</li><li>Systém zavře modální okno.</li><li><strong>Konec toku událostí</strong>.</li></ol></li></ol></li><li>Systém provede změny v rámci uvedených komponent:<br><ol><li>Systém nastaví <a href="../../../datove-modely/datovy-78681044.html">Řádky výpočtu ceny</a> (hodnota atributu Typ cenové položky je rovna Transakce s odpadem) obsažené v rámci komponenty Tabulka pro zneškodnění/zhodnocení odpadu do výchozího stavu (editovatelné hodnoty jsou „vynulovány“).</li><li>Systém nastaví <a href="../../../datove-modely/datovy-78681044.html">Řádky výpočtu ceny</a> (hodnota atributu Typ cenové položky je různá od Transakce s odpadem) obsažené v rámci komponenty Tabulka pro ostatní složky ceny do výchozího stavu (editovatelné hodnoty jsou „vynulovány“).</li><li>Systém zobrazí řádky v rámci komponenty Tabulka pro ostatní složky ceny dle zvoleného typu výpočtu.</li></ol></li></ol><p>Poznámka:</p><ul><li>Před změnou rozložení dojde ke smazání obsahu řádků v odpovídajících tabulkách.</li><li>Hodnoty jsou změněny pouze v rámci ovládacích prvků, jejich zanesení přímo do <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> je provedeno až po uložení.</li><li>Hodnoty jsou nastavovány dle popisu UI komponent.</li></ul><h4>Cena položky objednávky</h4><p>Popis chování předpokládané ceny <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> je složen z několika částí, které odpovídají tabulce s popisem UI komponent:</p><ul><li>Nadpis – text nadpisu, který se mění např. dle vybraného <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>.</li><li>Hodnota – výpočet pro získání hodnoty.</li><li>Chování – popis chování, které vede ke změně nadpisu a přepočtu hodnoty.</li></ul><h5>Nadpis</h5><p>Nadpis se liší dle <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, který je vybrán v rámci formuláře (skupina <a href="100ui06-87327679.html">Objednavatel</a>, komponenta 4), a to podle atributu Plátce DPH:</p><ul><li>TRUE: Předpokládaná cena bez DPH,</li><li>FALSE: Předpokládaná cena s DPH.</li></ul><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> vybrán není, je nadpis odlišen dle zvoleného typu <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a> (skupina <a href="100ui06-87327679.html">Objednavatel</a>, komponenta 3):</p><ul><li>Podnikatel: Předpokládaná cena bez DPH,</li><li>Nepodnikatel: Předpokládaná cena s DPH.</li></ul><h5>Hodnota</h5><p>Hodnota pro zobrazení v rámci formuláře je získána výpočtem, a to dle aktuálního stavu formuláře. Zdrojem jsou pak dále uvedené tabulky:</p><ul><li><a href="100ui06-87327679.html">Zneškodnění/zhodnocení odpadu</a>,</li><li><a href="100ui06-87327679.html">Ostatní složky ceny</a>.</li></ul><p>Výpočet představuje součet hodnot ve sloupci Cena pro všechny zobrazené řádky obou tabulek.</p><h5>Chování</h5><p>Uvedený nadpis a výpočet hodnoty je pak potřeba průběžně aktualizovat dle změn provedených v rámci formuláře, viz jednotlivá chování. Dále je pak uvedena přehledová tabulka s komponentami, které vyvolají toto chování.</p><table><tbody><tr><th>Callout</th><th>Skupina</th><th colspan="1">Komponenty</th></tr><tr><td>A</td><td><a href="100ui06-87327679.html">Hlavička formuláře</a></td><td colspan="1">–</td></tr><tr><td>B</td><td><a href="100ui06-87327679.html">Provozovna</a></td><td colspan="1"><ul><li>Provozovna (komponenta 2, změna hodnoty).</li></ul></td></tr><tr><td>C</td><td><a href="100ui06-87327679.html">Objednavatel</a></td><td colspan="1"><ul><li>Typ zákazníka (komponenta 3, změna hodnoty),</li><li>Zákazník (komponenta 4, změna hodnoty).</li></ul></td></tr><tr><td>D</td><td><a href="100ui06-87327679.html">Položky objednávky</a></td><td colspan="1"><ul><li>Položka objednávky (komponenta 1, přidání či odebrání <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a>),</li><li>Typ položky objednávky (komponenta 3.1, změna hodnoty),</li><li>Rámcová smlouva (komponenta 3.2, změna hodnoty),</li><li>Místo realizace (komponenta 4.1, změna hodnoty),</li><li>Tabulka pro objednané nádoby (komponenta 5.2, přidání, odebrání či změna <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a>),</li><li>Tabulka pro zneškodnění/zhodnocení odpadu (komponenta 6.3, změna hodnot v rámci <a href="../../../datove-modely/datovy-78681044.html">Řádku výpočtu ceny</a>),</li><li>Tabulka pro ostatní složky ceny (komponenta 6.5, změna hodnot v rámci <a href="../../../datove-modely/datovy-78681044.html">Řádku výpočtu ceny</a>).</li></ul></td></tr><tr><td>E</td><td><a href="100ui06-87327679.html">Dokončení objednávky</a></td><td colspan="1"><div>–</div></td></tr></tbody></table><h3>Tabulky</h3><h4>Objednané nádoby</h4><p>V rámci tabulky jsou zobrazeny 2 různé entity, které spolu úzce souvisí:</p><ul><li><a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a>, která je umístěna na konkrétním <a href="../../../datove-modely/datovy-78681044.html">Místě realizace</a> odpovídající <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a>.</li><li><a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a>, který má být proveden s konkrétní <a href="../../../datove-modely/datovy-78681044.html">Objednanou nádobou</a>.</li></ul><p>Poznámka: Musí být zachována struktura dat – pod řádkem s <a href="../../../datove-modely/datovy-78681044.html">Objednanou nádobou</a> jsou načteny všechny řádky s <a href="../../../datove-modely/datovy-78681044.html">Objednanými úkony</a>, které pod tuto <a href="../../../datove-modely/datovy-78681044.html">Objednanou nádobu</a> spadají (atribut Objednané úkony).</p><p>Řádky tabulky jsou načítány z konkrétní <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a>. Pokud zatím není <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> k dispozici, je tabulka prázdná. V rámci zakládání či editace <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> je pak obsah zadáván přímo uživatelem. Jednotlivé <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a> jsou pak uloženy až při uložení celé <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>.</p><p>Může být označen pouze jeden řádek. Dále se pak musí jednat o řádek představující <a href="../../../datove-modely/datovy-78681044.html">Objednanou nádobu</a>, ostatní typy řádků není možné označit.</p><h5>Sloupce</h5><p>Uvedené sloupce specifikují strukturu pro řádky představující <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a>. Řádky představující <a href="../../../datove-modely/datovy-78681044.html">Objednanou nádobu</a> jsou tvořeny samostatným panelem.</p><table><tbody><tr><th>Sloupec</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th colspan="1">Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th>Formát</th><th colspan="1">Možnosti sloupce</th><th>Zpřístupněný</th><th colspan="1">Viditelný</th><th colspan="1">Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Typ úkonu</td><td colspan="1">–</td><td colspan="1">TextBox</td><td colspan="1">Vývoz</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> – atribut Objednané úkony entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a>.</td><td colspan="1">–</td><td colspan="1"><Typ úkonu></td><td colspan="1">–</td><td colspan="1">Pouze přes nástrojovou lištu, viz <a href="100ui06-87327679.html">Nástrojová lišta</a>. </td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">Termín obsluhy</td><td colspan="1">–</td><td colspan="1">TextBox</td><td colspan="1">Na výzvu</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> – atribut Objednané úkony entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a>.</p></td><td colspan="1">–</td><td colspan="1"><p><a href="100ui06-87327679.html">Formát termínu obsluhy</a></p></td><td colspan="1">–</td><td colspan="1">Pouze přes nástrojovou lištu, viz <a href="100ui06-87327679.html">Nástrojová lišta</a>.</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h5>Řádky</h5><p>Pořadí řádků je dáno 2 úrovněmi řazení:</p><ol><li>Dle řádků představující <a href="../../../datove-modely/datovy-78681044.html">Objednanou nádobu</a> – přidávány z nástrojové lišty tabulky.</li><li>Dle řádků představující <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> obsažených v rámci odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a> – přidávány v rámci formuláře <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a>.</li></ol><p>Řádky jsou pak zobrazeny v takovém pořadí, ve kterém je uživatel zadal.</p><p>Poznámka: Struktura řádků 2. úrovně je dána sloupci – jejich popis je uveden dříve. Dále je tedy popsána pouze struktura 1. úrovně řádků, které jsou tvořeny panelem.</p><h6>Drátový diagram</h6><p><img src="100ui06-formular-objednavky-v2-87327679_images/100UI06_rozlozeni_objednaneNadoby_radek.png" data-attachment="true"></p><h6>Přehled UI komponent</h6><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Počet objednaných nádob</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">3x</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a>.</td><td colspan="1">–</td><td colspan="1"><p><Počet nádob>x</p><ul><li>Řez písma: tučné.</li></ul></td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Objednaná nádoba</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">HNK 15 m3 otevřený</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Typ nádoby</a> – atribut Typ nádoby entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a>.</td><td colspan="1">–</td><td colspan="1"><p><Název></p><ul><li>Řez písma: tučné.</li></ul><p>Pokud je hodnota atributu Vlastní nádoba entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a> rovna FALSE:</p><ul><li><Název> (cizí)</li></ul></td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1">Skupina Vývoz na likvidační místo</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">–</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Vývoz na likvidační místo</a> – atribut Vývozy na Likvidační místo entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a>.</td><td colspan="1">–</td><td colspan="1">Pokud je zobrazena více než jedna skupina, jsou jednotlivé skupiny řazeny vedle sebe.</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1"><p>Pokud se v rámci kolekce vyskytují <a href="../../../datove-modely/datovy-78681044.html">Vývozy na likvidační místo</a> splňující všechny uvedené podmínky zároveň, jsou zobrazeny společně (viz popis komponenty 3.1):</p><ul><li>Hodnota atributu Druh odpadu se u <a href="../../../datove-modely/datovy-78681044.html">Vývozů na likvidační místo</a> liší.</li><li>Hodnota atributu Likvidační místo se u <a href="../../../datove-modely/datovy-78681044.html">Vývozů na likvidační místo</a> rovná.</li><li>Hodnota atributu Kód nakládání se u <a href="../../../datove-modely/datovy-78681044.html">Vývozů na likvidační místo</a> rovná.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">3.1</td><td colspan="1">Druh odpadu</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">02 03 04</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Druh odpadu</a> – atribut Druh odpadu entity <a href="../../../datove-modely/datovy-78681044.html">Vývoz na likvidační místo</a>.</td><td colspan="1">–</td><td colspan="1"><p><Kód></p><ul><li><a href="../../../pouzivane-81592337.html">Druh odpadu</a></li><li>Řez písma: tučné.</li></ul><p>Pokud je obsažen více než jeden <a href="../../../datove-modely/datovy-78681044.html">Vývoz na likvidační místo</a> s odlišným <a href="../../../datove-modely/datovy-78681044.html">Druh odpadu</a> (atribut Druh odpadu) ale stejným <a href="../../../datove-modely/datovy-78681044.html">Likvidačním místem</a> (atribut Likvidační místo) a <a href="../../../datove-modely/datovy-78681044.html">Kódem nakládání</a> (atribut Kód nakládání):</p><ul><li><Kód>, …, <Kód></li></ul></td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">3.2</td><td colspan="1">Vývoz na likvidační místo</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">Skládka Trenčín (V)</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Vývoz na likvidační místo</a>.</p></td><td colspan="1">–</td><td colspan="1"><p><Likvidační místo.Název> (<Kód nakládání>)</p></td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h5>Nástrojová lišta</h5><h6>Drátový diagram</h6><p><img src="100ui06-formular-objednavky-v2-87327679_images/100UI06_rozlozeni_objednaneNadoby_nastrojovaLista.png" data-attachment="true"></p><h6>Přehled UI komponent</h6><p>Pokud uživatel vjede myší na prvek nástrojové lišty, je zobrazen ToolTip. V rámci ToolTipu, pokud není uvedeno jinak, je zobrazen text ve sloupci Komponenta.</p><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Přidání objednané nádoby</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-add.</li><li>Barva pruhu: #2d6d7d.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul></td><td colspan="1">Spustí TODO: Doplnit UC, na vstup UC nejsou předány žádné hodnoty.</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Editace objednané nádoby</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-pencil.</li><li>Barva pruhu: #c59ee3.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul><p>V rámci tabulky je označen řádek.</p></td><td colspan="1"><p>Spustí TODO: Doplnit UC, na vstup UC jsou předány následující hodnoty:</p><ul><li>Objednaná nádoba: právě označená <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a>.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1">Smazání objednané nádoby</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-trash.</li><li>Barva pruhu: #c59ee3.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul><p>V rámci tabulky je označen řádek.</p></td><td colspan="1"><p>Spustí TODO: Doplnit UC, na vstup UC jsou předány následující hodnoty:</p><ul><li>Objednaná nádoba: právě označená <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a>.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h4>Zneškodnění/zhodnocení odpadu</h4><p>Pro zobrazení záznamů je použita běžná tabulka, viz <a href="../700uixx-obecne/700ui01-komponenty/700ui01-86835711.html">700UI01: Komponenty – tabulka</a>. Z toho vyplývají jak její základní vlastnosti, tak i výchozí nastavení (např. počet záznamů).</p><p>V rámci tabulky jsou zobrazeny instance entity <a href="../../../datove-modely/datovy-78681044.html">Řádek výpočtu ceny</a> – atribut Výpočet ceny entity <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>, která je v rámci karty zobrazena. Jsou pak načteny takové <a href="../../../datove-modely/datovy-78681044.html">Řádky výpočtu ceny</a>, u kterých atribut Typ cenové položky nabývá hodnoty Transakce s odpadem.</p><p>Řádky tabulky jsou načítány z konkrétní <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a>. Pokud zatím není <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> k dispozici, je tabulka prázdná. V rámci zakládání či editace <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> je pak potřeba obsah tabulky generovat dynamicky, viz dále. Jednotlivé <a href="../../../datove-modely/datovy-78681044.html">Řádky výpočtu ceny</a> jsou pak uloženy až při uložení celé <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>.</p><p>Může být označen pouze jeden řádek.</p><h5>Sloupce</h5><table><tbody><tr><th>Sloupec</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th colspan="1">Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th>Formát</th><th colspan="1">Možnosti sloupce</th><th>Zpřístupněný</th><th colspan="1">Viditelný</th><th colspan="1">Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Druh odpadu</td><td colspan="1">Druh odpadu</td><td colspan="1">TextBox</td><td colspan="1">02 03 04</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Druh odpadu</a> – atribut Druh odpadu entity <a href="../../../datove-modely/datovy-78681044.html">Řádek výpočtu ceny</a>.</td><td colspan="1">–</td><td colspan="1"><p><Kód></p><p><a href="../../../pouzivane-81592337.html">Druh odpadu</a></p></td><td colspan="1">–</td><td colspan="1">Nikdy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">Množstevní jednotka</td><td colspan="1">MJ</td><td colspan="1">TextBox</td><td colspan="1">t</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Množstevní jednotka</a> – atribut Množstevní jednotka entity <a href="../../../datove-modely/datovy-78681044.html">Řádek výpočtu ceny</a>.</td><td colspan="1">t</td><td colspan="1"><Značka></td><td colspan="1">–</td><td colspan="1">Pouze přes nástrojovou lištu, viz <a href="100ui06-87327679.html">Nástrojová lišta pro výpočet ceny</a>.</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Validace prováděna v rámci formuláře pro zadání hodnoty.</td></tr><tr><td colspan="1">Cena za množstevní jednotku</td><td colspan="1"><a href="100ui06-87327679.html">Nadpis ceny za MJ</a></td><td colspan="1">TextBox</td><td colspan="1">6,50</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Řádek výpočtu ceny</a>.</td><td colspan="1">0</td><td colspan="1"><p><Jednotková cena></p><ul><li>Přesnost: 2 desetinná místa.</li><li>Zarovnání: vpravo.</li></ul></td><td colspan="1">–</td><td colspan="1">Pouze přes nástrojovou lištu, viz <a href="100ui06-87327679.html">Nástrojová lišta pro výpočet ceny</a>.</td><td colspan="1">Vždy</td><td colspan="1">Změna hodnoty vyvolá <a href="100ui06-87327679.html">Výpočet ceny celkem</a>.</td><td colspan="1">–</td><td colspan="1">Validace prováděna v rámci formuláře pro zadání hodnoty.</td></tr><tr><td colspan="1">Počet množstevních jednotek</td><td colspan="1">Počet MJ</td><td colspan="1">TextBox</td><td colspan="1">2</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Řádek výpočtu ceny</a>.</td><td colspan="1">0</td><td colspan="1"><p><Počet jednotek></p><ul><li>Zarovnání: vpravo.</li></ul></td><td colspan="1">–</td><td colspan="1">Pouze přes nástrojovou lištu, viz <a href="100ui06-87327679.html">Nástrojová lišta pro výpočet ceny</a>.</td><td colspan="1">Vždy</td><td colspan="1">Změna hodnoty vyvolá <a href="100ui06-87327679.html">Výpočet ceny celkem</a>.</td><td colspan="1">–</td><td colspan="1">Validace prováděna v rámci formuláře pro zadání hodnoty.</td></tr><tr><td colspan="1">Cena celkem</td><td colspan="1"><a href="100ui06-87327679.html">Nadpis ceny celkem</a></td><td colspan="1">TextBox</td><td colspan="1">13,00 €</td><td colspan="1"><a href="100ui06-87327679.html">Výpočet ceny celkem</a></td><td colspan="1">–</td><td colspan="1"><p><Hodnota></p><ul><li><a href="../../../pouzivane-81592337.html">Měna</a>.</li><li>Zarovnání: vpravo.<br></li></ul></td><td colspan="1">–</td><td colspan="1">Nikdy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h5>Řádky</h5><p>Pokud je v zobrazeném formuláři <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> umožněna editace, může dojít ke změně počtu řádků – ty jsou tedy získány následovně:</p><ol><li>Systém připraví pomocnou kolekci pro <a href="../../../datove-modely/datovy-78681044.html">Druhy odpadu</a>, která je ve výchozím stavu prázdná.</li><li>Pro všechny <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a> obsažené v rámci Tabulky pro objednané nádoby (komponenta 5.2):<br><ol><li>Pro všechny <a href="../../../datove-modely/datovy-78681044.html">Vývozy na likvidační místo</a> obsažené v rámci právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a> (atribut Vývozy na Likvidační místo):<br><ol><li>Pokud v rámci pomocné kolekce <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu</a> není obsažena dále uvedené hodnota, je do kolekce vložena:<br><ul><li>atribut Druh odpadu entity <a href="../../../datove-modely/datovy-78681044.html">Vývoz na likvidační místo</a>.</li></ul></li></ol></li></ol></li><li>Systém aktualizuje Tabulku pro objednané nádoby (komponenta 5.2) dle pomocné kolekce (párování probíhá dle sloupce Druh odpadu):<br><ol><li>Pro všechny <a href="../../../datove-modely/datovy-78681044.html">Druhy odpadu</a> obsažené v pomocné kolekci:<br><ol><li>Pokud je v tabulce řádek s právě zkoumaným <a href="../../../datove-modely/datovy-78681044.html">Druhem odpadu</a> obsažen: <strong>Skok na krok 3</strong> (poznámka: řádek je zachován i s vyplněnými hodnotami sloupců).</li><li>Pokud v tabulce řádek s právě zkoumaným <a href="../../../datove-modely/datovy-78681044.html">Druhem odpadu</a> obsažen není: Řádek je do tabulky přidán, hodnota sloupce Druh odpadu je dána právě zkoumaným <a href="../../../datove-modely/datovy-78681044.html">Druhem odpadu</a>, hodnoty ostatních sloupců jsou ve výchozím stavu.</li></ol></li><li>Pokud je v tabulce obsažen řádek, který splňuje všechny dále uvedené podmínky, je odebrán:<br><ul><li>Hodnota ve sloupci Druh odpadu není obsažena v rámci pomocné kolekce s <a href="../../../datove-modely/datovy-78681044.html">Druhy odpadu</a>.</li></ul></li></ol></li></ol><p>Pořadí řádků je dáno dle sloupce Druh odpadu, který je řazen abecedně ve vzestupném pořadí.</p><h4>Ostatní složky ceny</h4><p>Pro zobrazení záznamů je použita běžná tabulka, viz <a href="../700uixx-obecne/700ui01-komponenty/700ui01-86835711.html">700UI01: Komponenty – tabulka</a>. Z toho vyplývají jak její základní vlastnosti, tak i výchozí nastavení (např. počet záznamů).</p><p>V rámci tabulky jsou zobrazeny instance entity <a href="../../../datove-modely/datovy-78681044.html">Řádek výpočtu ceny</a> – atribut Výpočet ceny entity <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a>, která je v rámci karty zobrazena. Jsou pak načteny takové <a href="../../../datove-modely/datovy-78681044.html">Řádky výpočtu ceny</a>, u kterých je hodnota atributu Typ cenové položky různá od Transakce s odpadem.</p><p>Řádky tabulky jsou pak pevně dány a pomocí dostupných <a href="../../../datove-modely/datovy-78681044.html">Řádků výpočtu ceny</a> v <a href="../../../datove-modely/datovy-78681044.html">Položce objednávky</a> případně naplněny daty. Viditelnost jednotlivých řádků je dána typem výpočtu ceny (komponenta 6.1). Párování pak probíhá dle hodnoty atributu Typ cenové položky entity <a href="../../../datove-modely/datovy-78681044.html">Řádek výpočtu ceny</a> a sloupce Složka ceny. Jednotlivé <a href="../../../datove-modely/datovy-78681044.html">Řádky výpočtu ceny</a> jsou pak uloženy až při uložení celé <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>.</p><p>Může být označen pouze jeden řádek.</p><h5>Sloupce</h5><table><tbody><tr><th>Sloupec</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th colspan="1">Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th>Formát</th><th colspan="1">Možnosti sloupce</th><th>Zpřístupněný</th><th colspan="1">Viditelný</th><th colspan="1">Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Složka ceny</td><td colspan="1">Složka ceny</td><td colspan="1">TextBox</td><td colspan="1">Doprava</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Řádek výpočtu ceny</a>.</td><td colspan="1">–</td><td colspan="1"><Typ cenové položky></td><td colspan="1">–</td><td colspan="1">Nikdy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">Množstevní jednotka</td><td colspan="1">MJ</td><td colspan="1">TextBox</td><td colspan="1">km</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Množstevní jednotka</a> – atribut Množstevní jednotka entity <a href="../../../datove-modely/datovy-78681044.html">Řádek výpočtu ceny</a>.</td><td colspan="1">–</td><td colspan="1"><Značka></td><td colspan="1">–</td><td colspan="1">Nikdy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Výchozí hodnota dána dle konkrétního řádku, viz dále.</td></tr><tr><td colspan="1">Cena za množstevní jednotku</td><td colspan="1"><a href="100ui06-87327679.html">Nadpis ceny za MJ</a></td><td colspan="1">TextBox</td><td colspan="1">0,90</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Řádek výpočtu ceny</a>.</td><td colspan="1">0</td><td colspan="1"><p><Jednotková cena></p><ul><li>Přesnost: 2 desetinná místa.</li><li>Zarovnání: vpravo.</li></ul></td><td colspan="1">–</td><td colspan="1">Pouze přes nástrojovou lištu, viz <a href="100ui06-87327679.html">Nástrojová lišta pro výpočet ceny</a>.</td><td colspan="1">Vždy</td><td colspan="1">Změna hodnoty vyvolá <a href="100ui06-87327679.html">Výpočet ceny celkem</a>.</td><td colspan="1">–</td><td colspan="1">Validace prováděna v rámci formuláře pro zadání hodnoty.</td></tr><tr><td colspan="1">Počet množstevních jednotek</td><td colspan="1">Počet MJ</td><td colspan="1">TextBox</td><td colspan="1">4</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Řádek výpočtu ceny</a>.</td><td colspan="1">0</td><td colspan="1"><p><Počet jednotek></p><ul><li>Zarovnání: vpravo.</li></ul></td><td colspan="1">–</td><td colspan="1">Pouze přes nástrojovou lištu, viz <a href="100ui06-87327679.html">Nástrojová lišta pro výpočet ceny</a>.</td><td colspan="1">Vždy</td><td colspan="1">Změna hodnoty vyvolá <a href="100ui06-87327679.html">Výpočet ceny celkem</a>.</td><td colspan="1">–</td><td colspan="1">Validace prováděna v rámci formuláře pro zadání hodnoty.</td></tr><tr><td colspan="1">Cena celkem</td><td colspan="1"><a href="100ui06-87327679.html">Nadpis ceny celkem</a></td><td colspan="1">TextBox</td><td colspan="1">3,60 €</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Řádek výpočtu ceny</a>.</p><p><a href="100ui06-87327679.html">Výpočet ceny celkem</a></p></td><td colspan="1">–</td><td colspan="1"><p><Hodnota></p><ul><li><a href="../../../pouzivane-81592337.html">Měna</a>.</li><li>Zarovnání: vpravo.</li></ul></td><td colspan="1">–</td><td colspan="1">Nikdy</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h5>Řádky</h5><p>Pořadí řádků je dáno pořadím v tabulce.</p><table><tbody><tr><th>Složka ceny</th><th>Množstevní jednotka</th><th>Viditelnost</th></tr><tr><td>Doprava</td><td>km</td><td>Pokud je typ výpočtu ceny (komponenta 6.1) nastaven na Kalkulace.</td></tr><tr><td>Manipulace</td><td>počet</td><td>Pokud je typ výpočtu ceny (komponenta 6.1) nastaven na Kalkulace.</td></tr><tr><td colspan="1">Vývoz</td><td colspan="1">počet</td><td colspan="1">Pokud je typ výpočtu ceny (komponenta 6.1) nastaven na Paušál.</td></tr><tr><td>Pronájem</td><td>den</td><td>Vždy.</td></tr></tbody></table><h4>Chování</h4><p>Popis chování, který se vyskytuje v rámci tabulek.</p><h5>Formát termínu obsluhy</h5><p>Formát textového výstupu představující termín obsluhy je dán podmínkou vykonání <a href="../../../datove-modely/datovy-78681044.html">Objednaného úkonu</a> (atribut Podmínka vykonání) – viz tabulka.</p><table><tbody><tr><th>Podmínka vykonání</th><th>Hodnota</th><th colspan="1">Ikona</th><th>Formát</th><th>Poznámka</th></tr><tr><td>Výzva</td><td>Entita <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a>.</td><td colspan="1"><p>ra-bell</p></td><td><Ikona> Na výzvu</td><td>–</td></tr><tr><td>Termín</td><td>Entita <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a>.</td><td colspan="1">ra-date</td><td><p><Ikona> <Termín od>-<Termín do>, <Čas od>-<Čas do></p><p>Pokud není k dispozici časové okno – Čas od je roven 0:00 a zároveň Čas do je roven 23:59.</p><ul><li><Ikona> <Termín od>-<Termín do></li></ul><p>Pokud je Termín od roven Termín do:</p><ul><li><Ikona> <Termín od></li><li><Ikona> <Termín od>, <Čas od>-<Čas do></li></ul></td><td>Hodnota nemusí být k dispozici – to může nastat například ve chvíli, kdy je <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> vytvářena duplikací nebo ze šablony. V takovém případě se předává pouze „prázdný“ <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> a informace o termínu obsluhy je dodána uživatelem až následovně. Potom není zobrazená žádná hodnota.</td></tr><tr><td>Pravidlo opakování</td><td>Entita Pravidlo opakování – atribut Pravidlo opakování entity <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a>.</td><td colspan="1">ra-refresh</td><td><Ikona> <Formátovaný výstup pravidla opakování></td><td><p>Formátovaný výstup pravidla opakování je dodán externí firmou. Pokud nebude řešení dostačující, je možné doplnit konkrétní specifikaci s požadovaným chováním.</p><p>Hodnota nemusí být k dispozici – to může nastat například ve chvíli, kdy je <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> vytvářena duplikací nebo ze šablony. V takovém případě se předává pouze „prázdný“ <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> a informace o pravidlu opakování je dodána uživatelem až následovně. Potom není zobrazená žádná hodnota.</p></td></tr></tbody></table><h5>Nadpis ceny za MJ</h5><p>Nadpis se liší dle <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, který je vybrán v rámci formuláře (skupina <a href="100ui06-87327679.html">Objednavatel</a>, komponenta 4), a to podle atributu Plátce DPH:</p><ul><li>TRUE: Předpokládaná cena MJ bez DPH [€],</li><li>FALSE: Předpokládaná cena MJ s DPH [€].</li></ul><p>Poznámka: Pokud není <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> vybrán, není tabulka zobrazena.</p><h5>Nadpis ceny celkem</h5><p>Nadpis se liší dle <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, který je vybrán v rámci formuláře (skupina <a href="100ui06-87327679.html">Objednavatel</a>, komponenta 4), a to podle atributu Plátce DPH:</p><ul><li>TRUE: Předpokládaná cena bez DPH,</li><li>FALSE: Předpokládaná cena s DPH.</li></ul><p>Poznámka: Pokud není <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> vybrán, není tabulka zobrazena.</p><h5>Výpočet ceny celkem</h5><p>Výpočet celkové ceny je dán jednoduchým výpočtem – jedná se o součin dvou atributů entity <a href="../../../datove-modely/datovy-78681044.html">Řádek výpočtu ceny</a>:</p><ul><li>Jednotková cena,</li><li>Počet jednotek.</li></ul><h5>Nástrojová lišta pro výpočet ceny</h5><p>Nástrojová lišta pro výpočet ceny je společná pro více tabulek, proto je popsána samostatně.</p><h6>Drátový diagram</h6><p><img src="100ui06-formular-objednavky-v2-87327679_images/100UI06_rozlozeni_vypocetCeny_nastrojovaLista.png" data-attachment="true"></p><h6>Přehled UI komponent</h6><p>Pokud uživatel vjede myší na prvek nástrojové lišty, je zobrazen ToolTip. V rámci ToolTipu, pokud není uvedeno jinak, je zobrazen text ve sloupci Komponenta.</p><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Změna řádku výpočtu ceny</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-pencil.</li><li>Barva pruhu: #c59ee3.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul><p>V rámci tabulky je označen řádek.</p></td><td colspan="1"><p>Spustí <a href="#" data-page-title="100UC12: Upravit řádek výpočtu ceny"></a>, na vstup UC jsou předány následující hodnoty:</p><ul><li>Řádek výpočtu ceny: právě označený <a href="../../../datove-modely/datovy-78681044.html">Řádek výpočtu ceny</a>.</li><li>Je plátce DPH: atribut Plátce DPH entity <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, který je nastaven v rámci formuláře (skupina <a href="100ui06-87327679.html">Objednavatel</a>, komponenta 4).</li></ul></td><td colspan="1">–</td><td colspan="1"><p>Pokud není <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> vybrán, není tabulka zobrazena.</p><p>V odpovídajících tabulkách není možné označit více jak jeden řádek zároveň.</p></td></tr></tbody></table><h2>Dokončení objednávky</h2><p>Skupina slouží především k uložení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> spolu s nastavením jejího stavu.</p><h3>Drátový diagram</h3><p><img src="100ui06-formular-objednavky-v2-87327679_images/100UI06_rozlozeni_dokonceni.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Vymazání obsahu formuláře</td><td colspan="1">–</td><td colspan="1">Button</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul></td><td colspan="1"><p><a href="100ui06-87327679.html">Vymazání obsahu formuláře</a></p><p>Po najetí myší na ikonu je zobrazen ToolTip s uvedeným textem: Vymazání obsahu formuláře.</p></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Celková předpokládaná cena objednávky</td><td colspan="1"><p>Nadpis se liší dle <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, který je vybrán v rámci formuláře (skupina <a href="100ui06-87327679.html">Objednavatel</a>, komponenta 4), a to podle atributu Plátce DPH:</p><ul><li>TRUE: Celková předpokládaná cena bez DPH,</li><li>FALSE: Celková předpokládaná cena s DPH.</li></ul></td><td colspan="1">TextBox</td><td colspan="1">1 302,50 €</td><td colspan="1"><p>Hodnota pro zobrazení v rámci formuláře je získána výpočtem, a to dle aktuálního stavu formuláře. Zdrojem jsou pak karty s <a href="../../../datove-modely/datovy-78681044.html">Položkami objednávky</a>.</p><p>Výpočet představuje součet Předpokládaných cen v rámci karty s <a href="../../../datove-modely/datovy-78681044.html">Položkou objednávky</a> (skupina <a href="100ui06-87327679.html">Položky objednávky</a>, komponenta 6.6). Uvažovány jsou pak všechny karty, u kterých je typ <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> (skupina <a href="100ui06-87327679.html">Položky objednávky</a>, komponenta 3.1) nastaven na hodnotu Jednorázová.</p></td><td colspan="1">–</td><td colspan="1"><p><Hodnota></p><p><a href="../../../pouzivane-81592337.html">Měna</a></p></td><td colspan="1">Nikdy</td><td colspan="1"><p>Pokud existuje alespoň jedna karta s <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> typu Jednorázová (skupina <a href="100ui06-87327679.html">Položky objednávky</a>, komponenta 3.1).</p><p>Pokud je vybrán konkrétní <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (skupina <a href="100ui06-87327679.html">Objednavatel</a>,komponenta 4).</p></td><td colspan="1"><p>Uvedený nadpis a výpočet hodnoty je pak potřeba průběžně aktualizovat dle změn provedených v rámci formuláře:</p><ul><li>Změna provedená v rámci popisu chování <a href="100ui06-87327679.html">Cena položky objednávky</a>.</li><li>Vymazání obsahu formuláře (komponenta 1).</li></ul></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1">Přijatá záloha</td><td colspan="1">Přijatá záloha</td><td colspan="1">TextBox</td><td colspan="1">1 300,00 €</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</td><td colspan="1">0,00 €</td><td colspan="1"><p><Přijatá záloha></p><p><a href="../../../pouzivane-81592337.html">Měna</a></p></td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná,</li><li>K upřesnění,</li><li>K realizaci.</li></ul></td><td colspan="1"><p>Pokud existuje alespoň jedna karta s <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> typu Jednorázová (skupina <a href="100ui06-87327679.html">Položky objednávky</a>, komponenta 3.1).</p><p>Pokud je vybrán konkrétní <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> (skupina <a href="100ui06-87327679.html">Objednavatel</a>, komponenta 4).</p></td><td colspan="1">–</td><td colspan="1">Hodnota z uzavřeného intervalu od 0 do 100 000.</td><td colspan="1">–</td></tr><tr><td colspan="1">4</td><td colspan="1">Stav objednávky</td><td colspan="1">Stav</td><td colspan="1"><p>ComboBox</p><ul><li>Pokud je k dispozici pouze jedna hodnota, je ovládací prvek v režimu pro čtení. Není tedy možné rozbalit kontextovou nabídku.</li></ul></td><td colspan="1">K realizaci</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</p><p><a href="100ui06-87327679.html">Dostupné stavy objednávky</a></p></td><td colspan="1">Rozpracovaná</td><td colspan="1"><Stav></td><td colspan="1">Pokud je v rámci ovládacího prvku k dispozici více než jedna hodnota.</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Výchozí hodnota je použita pouze v případě, kdy je zakládána nová <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</td></tr><tr><td colspan="1">5</td><td colspan="1">Nastavení notifikace</td><td colspan="1">–</td><td colspan="1">Button</td><td colspan="1">–</td><td colspan="1"><p>Pevně daný text – pokud již byla nastavena notifikace:</p><ul><li>Upravit notifikaci</li></ul><p>Jinak:</p><ul><li>Nastavit notifikaci</li></ul></td><td colspan="1">–</td><td colspan="1"><p><Hodnota></p><p>Barva textu se liší dle toho, zda již byla notifikace nastavena:</p><ul><li>Ano: <a href="100ui06-87327679.html">Ostatní/Notifikace nastavena</a>,</li><li>Ne: <a href="100ui06-87327679.html">Ostatní/Notifikace nenastavena</a>.</li></ul></td><td colspan="1">Vždy</td><td colspan="1"><p>Pokud je splněna alespoň jedna z uvedených podmínek:</p><ul><li>Stav <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (atribut Stav) nabývá hodnoty K upřesnění (poznámka: při založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> není hodnota k dispozici).</li><li>V rámci ovládacího prvku pro nastavení stavu <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (komponenta 4) je nastavena hodnota K upřesnění.</li></ul></td><td colspan="1"><p>Spustí TODO: Přidat UC pro nastavení notifikace.</p></td><td colspan="1"><p>Nastavení notifikace je povinné, pokud je splněna alespoň jedna z uvedených podmínek:</p><ul><li>Stav <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (atribut Stav) nabývá hodnoty K upřesnění (poznámka: při založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> není hodnota k dispozici).</li><li>V rámci ovládacího prvku pro nastavení stavu <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (komponenta 4) je nastavena hodnota K upřesnění.</li></ul></td><td colspan="1">Zobrazení ovládacího prvku odpovídá klasickému odkazu, je tedy zobrazen pouze podtržený text.</td></tr><tr><td colspan="1">6</td><td colspan="1">Zrušení notifikace</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-cross.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1"><p>Pokud je splněna alespoň jedna z uvedených podmínek:</p><ul><li>Stav <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (atribut Stav) nabývá hodnoty K upřesnění (poznámka: při založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> není hodnota k dispozici).</li><li>V rámci ovládacího prvku pro nastavení stavu <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (komponenta 4) je nastavena hodnota K upřesnění.</li></ul><p>Pokud je nastavena notifikace.</p></td><td colspan="1"><p>Po stisknutí tlačítka je zrušena nastavená notifikace.</p><p>Po najetí myší na ikonu je zobrazen ToolTip s uvedeným textem: Zrušení nastavené notifikace.</p></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">7</td><td colspan="1">Zrušení provedených změn</td><td colspan="1">–</td><td colspan="1">Button</td><td colspan="1">–</td><td colspan="1"><p>Pevně daný text:</p><ul><li>Zrušit</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Provede zrušení provedených změn – návrat do UC, který vyvolal zobrazení formuláře.</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">8</td><td colspan="1">Uložení objednávky</td><td colspan="1">–</td><td colspan="1">Button</td><td colspan="1">–</td><td colspan="1"><p>Pevně daný text:</p><ul><li>Uložit</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</td><td colspan="1">Provede potvrzení provedených změn – návrat do UC, který vyvolal zobrazení formuláře.</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">9</td><td colspan="1">Uložení objednávky k realizaci</td><td colspan="1">–</td><td colspan="1">Button</td><td colspan="1">–</td><td colspan="1"><p>Pevně daný text:</p><ul><li>Uložit k realizaci</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1"><p>Uživatel má právo na editaci <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (EDIT_RP_ORDERS, viz <a href="../../../uzivatelska-78681297.html">Oprávnění na typ entity</a>).</p><p>Pokud <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> zatím neexistuje (založení <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>) nebo je v jednom z uvedených stavů (atribut Stav):</p><ul><li>Rozpracovaná.</li></ul></td><td colspan="1">Provede nastavení stavu <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (komponenta 4) na hodnotu K realizaci a následně i potvrzení provedených změn – návrat do UC, který vyvolal zobrazení formuláře (validace je tedy provedena až po změně stavu).</td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h3>Chování</h3><h4>Vymazání obsahu formuláře</h4><p>Vymazání obsahu formuláře provede jeho nastavení do výchozího stavu. Vzhledem k tomu, že vymazání obsahu formuláře ovlivní značnou část formuláře, je nutné upozornit uživatele – je tedy uveden celý tok událostí:</p><ol><li>Pokud vymazání obsahu formuláře vyvolá přímo uživatel v rámci komponenty 1:<br><ol><li>Uživatel požaduje vymazání obsahu formuláře.</li><li>Systém zobrazí modální okno s dotazem, zda má být formulář uveden do výchozího stavu (MSG_CONF_CANCEL_CLEAR_FORM, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Pokud uživatel potvrdí hlášení:<br><ol><li>Systém zavře modální okno.</li></ol></li><li>Jinak:<br><ol><li>Systém zruší požadavek na vymazání obsahu formuláře.</li><li>Systém zavře modální okno.</li><li><strong>Konec toku událostí</strong>.</li></ol></li></ol></li><li>Systém provede určité akce – viz tabulka.</li></ol><table><tbody><tr><th>Callout</th><th>Skupina</th><th colspan="1">Komponenty</th><th colspan="1">Poznámka</th></tr><tr><td>A</td><td><a href="100ui06-87327679.html">Hlavička formuláře</a></td><td colspan="1">Nejsou provedeny žádné akce.</td><td colspan="1">–</td></tr><tr><td>B</td><td><a href="100ui06-87327679.html">Provozovna</a></td><td colspan="1">Je vymazán obsah pole Poznámka (komponenta 4).</td><td colspan="1">–</td></tr><tr><td>C</td><td><a href="100ui06-87327679.html">Objednavatel</a></td><td colspan="1">Jednotlivá pole jsou nastavena na výchozí hodnotu dle popisu UI komponent.</td><td colspan="1">Jednotlivá chování prováděná při změně hodnot v jednotlivých polích skupiny je ignorováno.</td></tr><tr><td>D</td><td><a href="100ui06-87327679.html">Položky objednávky</a></td><td colspan="1">Jsou odebrány všechny karty s <a href="../../../datove-modely/datovy-78681044.html">Položkami objednávky</a>.</td><td colspan="1"><p>Jednotlivá chování prováděná při změně hodnot v jednotlivých polích skupiny je ignorováno.</p><p>Po odebrání poslední karty s <a href="../../../datove-modely/datovy-78681044.html">Položkou objednávky</a> je vložena jedna karta ve výchozím stavu.</p></td></tr><tr><td>E</td><td><a href="100ui06-87327679.html">Dokončení objednávky</a></td><td colspan="1"><p>Je vymazán obsah pole Přijatá záloha (komponenta 3).</p><p>Je vymazána nastavená notifikace, která byla nastavena pomocí tlačítka Nastavení notifikace (komponenta 5).</p></td><td colspan="1">Obsah pole Celková předpokládaná cena objednávky (komponenta 2) je přepočítán v rámci změn v ostatních skupinách formuláře.</td></tr></tbody></table><h4>Dostupné stavy objednávky</h4><p>Dostupné stavy <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>, které může uživatel nastavit, jsou omezeny aktuálním stavem <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> – viz tabulka. TODO: Potřeba promyslet „ukončení/zrušení“ plněné objednávky, nutné probrat s MPG. Zatím uvedeno stávající chování.</p><table><tbody><tr><th>Stav</th><th>Dostupné stavy</th><th>Poznámka</th></tr><tr><td>–</td><td>Rozpracovaná, K upřesnění, K realizaci</td><td>Nastává při zakládání <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a>, kdy <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> není uložena v systému.</td></tr><tr><td>Rozpracovaná</td><td>Rozpracovaná, K upřesnění, K realizaci, Zrušená</td><td>–</td></tr><tr><td>K upřesnění</td><td>Rozpracovaná, K upřesnění, K realizaci</td><td>–</td></tr><tr><td>K realizaci</td><td>K realizaci, Zrušená</td><td>–</td></tr><tr><td colspan="1">Plněná</td><td colspan="1">Plněná, Dokončená, Zrušená</td><td colspan="1">–</td></tr><tr><td colspan="1">Dokončená</td><td colspan="1">Dokončená</td><td colspan="1">–</td></tr><tr><td>Zrušená</td><td>Zrušená</td><td>–</td></tr></tbody></table><h1>Nastavení</h1><h2>Persistence nastavení obrazovky</h2><p>V rámci obrazovky nejsou ukládána žádná nastavení obrazovky.</p><h2>Parametry URL</h2><table><tbody><tr><th>Parametr</th><th>Skupina</th><th>Hodnota</th><th>Poznámka</th></tr><tr><td colspan="1">Objednávka</td><td colspan="1">–</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>.</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Objednávka</a>, která je načtena v rámci formuláře.</td></tr><tr><td colspan="1">Provozovna</td><td colspan="1">–</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>.</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>, pro kterou má být <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> založena.</td></tr></tbody></table><p>Poznámka:</p><ul><li> Jednotlivé parametru v URL nemusí být čitelné pro lidi.</li><li>Povinnost jednotlivých parametrů je pak uvedena v rámci UC, který zobrazuje tento formulář.</li></ul><h1>Grafický návrh</h1><h2>Použité barvy a ikony</h2><table><tbody><tr><th colspan="2">Použití</th><th>Barva</th><th colspan="1">Ikona</th><th>Výskyt</th></tr><tr><td rowspan="2">Nadpis skupiny</td><td colspan="1"><a href="100ui06-87327679.html">Provozovna</a></td><td colspan="1">–</td><td colspan="1">ra-company</td><td rowspan="2"><p>Skupina <a href="100ui06-87327679.html">Provozovna</a>:</p><ul><li>Nadpis skupiny.</li></ul><p>Skupina <a href="100ui06-87327679.html">Objednavatel</a>:</p><ul><li>Nadpis skupiny.</li></ul></td></tr><tr><td colspan="1"><a href="100ui06-87327679.html">Objednavatel</a></td><td colspan="1">–</td><td colspan="1">ra-user</td></tr><tr><td rowspan="4">Ostatní<br><br><br></td><td colspan="1">Bonita (ikona)</td><td colspan="1"><p>#672E3B</p></td><td colspan="1">ra-warning</td><td colspan="1"><p>Skupina <a href="100ui06-87327679.html">Objednavatel</a>:</p><ul><li>Zobrazení bonity <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>.</li></ul></td></tr><tr><td colspan="1">Bonita (pozadí)</td><td colspan="1">#F3D6E4</td><td colspan="1">–</td><td colspan="1"><p>Skupina <a href="100ui06-87327679.html">Objednavatel</a>:</p><ul><li>Zobrazení bonity <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>.</li></ul></td></tr><tr><td colspan="1">Notifikace nenastavena</td><td colspan="1">#672E3B</td><td colspan="1">–</td><td colspan="1"><p>Skupina <a href="100ui06-87327679.html">Dokončení objednávky</a>:</p><ul><li>Indikace, zda je nastaven kontakt pro odeslání notifikace.</li></ul></td></tr><tr><td colspan="1">Notifikace nastavena</td><td colspan="1">#779919</td><td colspan="1">–</td><td colspan="1"><p>Skupina <a href="100ui06-87327679.html">Dokončení objednávky</a>:</p><ul><li>Indikace, zda je nastaven kontakt pro odeslání notifikace.</li></ul></td></tr></tbody></table><h2>Grafický návrh</h2><h1>Revize</h1><h3>30. 4. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</th><th>Stručný popis změny/doplnění</th></tr><tr><td colspan="1"><a href="100ui06-87327679.html">Povinnost zadání místa realizace</a></td><td colspan="1"><p>Změny související s novými typy úkonu (naznačeno růžově).</p></td></tr></tbody></table><h3>16. 2. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="100ui06-87327679.html">Položky objednávky</a></td><td colspan="1">Revize dostupnosti polí pro zadání objednaných nádob, úprava validací souvisejících se zadáním místa realizace (naznačeno modře).</td></tr><tr><td colspan="1"><a href="100ui06-87327679.html">Povinnost zadání místa realizace</a></td><td colspan="1">Doplněn popis chování pro získání informace. zda je zadání místa realizace v kontextu dané položky objednávky povinné (naznačeno modře).</td></tr></tbody></table><h3>31. 8. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="100ui06-87327679.html">Dostupné provozovny</a></td><td colspan="1">Revize dostupných provozoven (naznačeno modře).</td></tr><tr><td colspan="1"><a href="100ui06-87327679.html">Dostupné rámcové smlouvy</a></td><td colspan="1">Revize dostupných rámcových smluv (naznačeno modře).</td></tr><tr><td colspan="1"><a href="100ui06-87327679.html">Dostupná místa realizace</a></td><td colspan="1">Revize dostupných míst realizace (naznačeno modře).</td></tr></tbody></table><h3>4. 11. 2022: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="100ui06-87327679.html">Objednané nádoby</a></td><td colspan="1">Revize způsobu zobrazení kódu nakládání (naznačeno růžově).</td></tr></tbody></table><h3>10. 6. 2022: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="100ui06-87327679.html">Objednané nádoby</a></td><td colspan="1">Revize způsobu zobrazení likvidačních míst (naznačeno modře).</td></tr></tbody></table><h3>10. 3. 2022: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="100ui06-87327679.html">Formát termínu obsluhy</a></td><td colspan="1">Revize ikony objednaného úkonu na výzvu (naznačeno růžově). <em><strong>ID-054</strong></em></td></tr></tbody></table><h3>9. 3. 2022: Tomáš Nadrchal</h3><p>Provedeny změny v rámci celého dokumentu – doplnění možnosti plnohodnotné editace objednávky ve stavu K realizaci (naznačeno modře). <em><strong>ID-057</strong></em></p><h3>24. 11. 2020: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="100ui06-87327679.html">Zneškodnění/zhodnocení odpadu</a></td><td colspan="1">Doplněny obecné informace o použité tabulce (naznačeno modře).</td></tr><tr><td colspan="1"><a href="100ui06-87327679.html">Ostatní složky ceny</a></td><td colspan="1">Doplněny obecné informace o použité tabulce (naznačeno modře).</td></tr><tr><td colspan="1"><a href="100ui06-87327679.html">Nástrojová lišta pro výpočet ceny</a></td><td colspan="1">Doplněna poznámka k maximálnímu počtu právě označených řádků v odpovídající tabulce (naznačeno modře).</td></tr></tbody></table><h3>11. 3. 2020: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="100ui06-87327679.html">Dostupná místa realizace</a></td><td colspan="1">Doplněna specifikace MR, která se nabízí po výběru zákazníka (naznačeno modře).</td></tr><tr><td colspan="1"><a href="100ui06-87327679.html">Vytvoření místa realizace</a></td><td colspan="1">Doplněna poznámka s nastavením provozovny, pro kterou je MR vytvářeno (naznačeno modře).</td></tr></tbody></table><h3>30. 10. 2019: Miroslav Slivoně</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><p><a href="100ui06-87327679.html">Dostupná místa realizace</a></p></td><td colspan="1"><p>Doplnění logiky pro zobrazení MR dle vazby na provozovnu nebo nadřazenou společnosti.</p></td></tr><tr><td colspan="1"><a href="100ui06-87327679.html">Dostupné rámcové smlouvy</a></td><td colspan="1">Doplnění logiky pro zobrazení smlouvy dle vazby na provozovnu nebo nadřazenou společnosti.</td></tr></tbody></table>
</div>
</body>
</html>
