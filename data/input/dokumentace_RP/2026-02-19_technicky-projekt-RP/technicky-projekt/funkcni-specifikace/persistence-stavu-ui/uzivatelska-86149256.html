<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>Uživatelská nastavení klienta</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Účel</h1><p>Systém si pamatuje nastavení uživatelského prostředí. Je tak zachováno nastavení, které daný uživatel preferuje.</p><h1>Způsob ukládání dat</h1><p>Uživatelské nastavení je ukládáno do databáze s vazbou na uživatelský účet. Uživatel tak může přistupovat k aplikaci z více zařízení a různých prohlížečů.</p><p>Nastavení je v současnosti nezávislé na použitém typu zařízení (není ukládáno per typ zařízení).</p><h3>Obnovení výchozího nastavení</h3><p> Bude vhodné doplnit možnost obnovit výchozí nastavení. Zřejmě postačí na úrovni celé aplikace. TODO</p><h1>Uživatelské nastavení versus URL parametry</h1><p>Některé hodnoty URL parametrů mohou kolidovat s uživatelským nastavením. V takovém případě mají vyšší prioritu URL parametry a uživatelské nastavení je na jejich základě přepsáno.</p><ul><li><em>Příklad: Uživatel otevře link obsahující v URL parametr orderBy určující směr řazení podle slouce X. Zároveň má ale zapamatováno řazení podle sloupce Y. V takovém případě aplikace změní řazení tak, že je řazeno podle sloupce X. </em></li></ul><h1>Ukládaná nastavení - obecně</h1><p>Níže jsou popsány obecné principy pro ukládání uživatelského nastavení. Konkrétní požadavky včetně výchozích hodnot jsou uvedeny v jednotlivých zadáních pro <a href="#" data-page-title="Uživatelské rozhraní"></a>.</p><h3>Poslední otevřený modul</h3><p>Aplikace si pamatuje poslední otevřený modul. Modul bude zobrazovat data odpovídající jeho výchozímu stavu (tj. query parametry nebudou ukládány). </p><p> Výše uvedené chování bude konzistentní s Fleetware. Obecně to není ideální chování, aplikace by se měla při zahájení nové relace spíše otevírat na úvodní obrazovce.</p><p> Zatím nemáme úvodní obrazovku (např. dashboard), aplikace se tak bude otevírat i nadále na prvním modulu (Objednávky). </p><p>Vhodnou výchozí obrazovku by bylo možné nastavit per uživatelská role (např. pro dispečera to bude obrazovka plánování).</p><p> </p><table><tbody><tr><th>Funkční celek</div></th><th>Ukládaná hodnota</div></th><th>Popis</div></th><th>Implementováno</div></th></tr><tr><td>Celá aplikace</td><td>Poslední otevřený modul</td><td><div>Ukládána jen adresace části aplikace (cesta), bez query parametrů.</div></td><td></td></tr></tbody></table><p> </p></div><h3>Nastavení panelů</h3><p>Aplikace si zapamatuje zvolené uspořádání panelů, poměr jejich velikosti a zda jsou/nejsou viditelné.</p><table><tbody><tr><th>Funkční celek</div></th><th>Ukládaná hodnota</div></th><th>Popis</div></th><th>Implementováno</div></th></tr><tr><td>Skupina panelů</td><td>Uspořádání panelů</td><td><p>Přeuspořádání panelů je nová funkčnost, zatím neimplementována. </p><p>Např. bude možné prohodit mezi sebou mapu a tabulku v obrazovce plánování.</p></td><td></td></tr><tr><td colspan="1">Skupina panelů</td><td colspan="1">Poměr velikosti panelů</td><td colspan="1"> </td><td colspan="1"></td></tr><tr><td colspan="1">Panel</td><td colspan="1">Viditelnost panelu</td><td colspan="1">Vypínatelné panely detailů apod.</td><td colspan="1"></td></tr><tr><td colspan="1">Panel</td><td colspan="1">Zvolená záložka panelu</td><td colspan="1">Týká se panelů, jejichž obsah je organizovaný do záložek. Např. záložka panelu detail.</td><td colspan="1"></td></tr></tbody></table><h3>Nastavení ovládacích prvků v nástrojových lištách</h3><p>Aplikace si bude pamatovat vybraná nastavení ovládacích prvků, které jsou k dispozici v jednotlivých nástrojových lištách. Jedná se o nastavení, která jsou statická (jsou zobrazována vždy, nezávisle na souvisejících datech).</p><table><tbody><tr><th>Funkční celek</div></th><th>Ukládaná hodnota</div></th><th>Popis</div></th><th>Implementováno</div></th></tr><tr><td>Nástrojová lišta</td><td>Hodnoty výběrů, filtrů, stavy statických ovládacích prvků</td><td>Konkrétní nastavení včetně výchozích hodnot je uvedeno v příslušném zadání pro <a href="#" data-page-title="Uživatelské rozhraní"></a>.</td><td></td></tr></tbody></table><h3>Nastavení tabulek</h3><p>Aplikace si bude pamatovat poslední nastavení jednotlivé tabulky.</p><p> Po případném zapracování uživatelských profilů zobrazení tabulky (zobrazené sloupce, jejich pořadí) si aplikace bude pamatovat naposledy vybraný profil. Pokud uživatel udělá dílčí změny v nastavení profilu, pak se jedná o "vlastní nastavení" a aplikace si pamatuje toto dílčí nastavení.</p><table><tbody><tr><th>Funkční celek</div></th><th>Ukládaná hodnota</div></th><th>Popis</div></th><th>Implementováno</div></th></tr><tr><td>Tabulka</td><td>Pořadí sloupců</td><td>Nastavené pořadí sloupců</td><td></td></tr><tr><td colspan="1">Tabulka</td><td colspan="1">Zobrazené sloupce</td><td colspan="1">Které sloupce jsou zobrazené a které skryté</td><td colspan="1"></td></tr><tr><td colspan="1">Tabulka</td><td colspan="1">Šířka sloupců</td><td colspan="1">Manuálně nastavená šířka sloupce</td><td colspan="1"></td></tr><tr><td>Tabulka</td><td>Řazení</td><td>Podle kterého sloupce je řazeno, směr řazení</td><td></td></tr><tr><td colspan="1">Tabulka</td><td colspan="1">Filtrování</td><td colspan="1">Hodnoty filtrů zadané pro jednotlivé sloupce</td><td colspan="1"></td></tr><tr><td colspan="1">Tabulka</td><td colspan="1">Počet záznamů na stránce</td><td colspan="1">Nastavený počet záznamů na stránce (pro stránkování)</td><td colspan="1"> </td></tr></tbody></table><h3>Nastavení mapy</h3><p>Aplikace si pamatuje poslední nastavení jednotlivého použití mapy. </p><table><tbody><tr><th>Funkční celek</div></th><th>Ukládaná hodnota</div></th><th>Popis</div></th><th>Implementováno</div></th></tr><tr><td>Mapa</td><td>Viditelnost vrstvy</td><td>Které vrstvy jsou zobrazené a které skryté</td><td></td></tr><tr><td colspan="1">Mapa</td><td colspan="1">Dílčí nastavení vrstvy</td><td colspan="1">Např. jaké další prvky v rámci vrstvy zobrazovat, jakým způsobem vrstvu vykreslit, zda zobrazovat popisky.</td><td colspan="1"></td></tr><tr><td colspan="1">Mapa</td><td colspan="1">Mapový podklad</td><td colspan="1">Zvolený mapový podklad</td><td colspan="1"></td></tr></tbody></table><h1>Revize</h1><h3>16. 9. 2020: Tomáš Nadrchal </h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="uzivatelska-86149256.html">Nastavení tabulek</a></td><td colspan="1">Doplnění parametru pro nastavený počet záznamů na stránce (naznačeno modře).</td></tr></tbody></table>
</div>
</body>
</html>
