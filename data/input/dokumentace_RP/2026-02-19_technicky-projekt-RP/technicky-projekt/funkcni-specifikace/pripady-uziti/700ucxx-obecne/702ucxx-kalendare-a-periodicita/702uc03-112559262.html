<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>702UC03: Zobrazit dispečerskou plachtu</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je zobrazení kalendáře pro orientační plánování zakázek na vozidla. Současně je možné zadávat další události, např. alokace vozidel na servis či dovolené.</p><p>Poznámka: Aktuálně je k dispozici pouze jeden typ položky kalendáře (aktivity), ta bude dočasně používána pro všechny typy událostí.  </p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="#" data-page-title="Aktéři"></a>.</p><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na zobrazení dispečerské plachty, a to jedním z uvedených způsobů:</p><ul><li>Uživatel klikne na odpovídající položku hlavního menu aplikace (viz <a href="#" data-page-title="700UI02: Hlavní menu">700UI02: Hlavní menu</a>).</li><li>Uživatel zadá v prohlížeči URL odkaz na FLW RoadPlan s odpovídajícím parametrem (viz <a href="#" data-page-title="Stavy v URL parametrech">Stavy v URL parametrech</a>).</li></ul><h2>Vstupní podmínky</h2><p>Ke spuštění případu užití jsou nutná následující oprávnění na moduly (viz <a href="#" data-page-title="Uživatelská oprávnění a role"></a>):</p><ul><li>Dispečerská plachta.</li></ul><p>Poznámka: Jedná se o minimální vstupní podmínky. Pokud nemá uživatel dostatečná oprávnění, může být obrazovka dostupná jen v režimu pro čtení.</p><h2>Vstupní data</h2><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Provozovna</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a></td><td colspan="1">Ne</td><td colspan="1">Provozovna, pro kterou budou načtena vozidla (resp. dílčí kalendáře).</td><td colspan="1">Pokud není hodnota k dispozici, je použita výchozí hodnota.</td></tr><tr><td colspan="1">Datum</td><td colspan="1">Datum</td><td colspan="1">Ne</td><td colspan="1">Datum, které má být v rámci kalendáře zobrazeno.</td><td colspan="1">Pokud není hodnota k dispozici, je použita výchozí hodnota.</td></tr><tr><td colspan="1">Typy dopravy</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Typ dopravy</a> (kolekce)</td><td colspan="1">Ne</td><td colspan="1">Typy dopravy, pro které budou načtena vozidla (resp. dílčí kalendáře).</td><td colspan="1">Pokud není hodnota k dispozici, je použita výchozí hodnota.</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Systém zobrazí dispečerskou plachtu (viz <a href="702uc03-112559262.html">Uživatelské rozhraní</a>).<br><ol><li>Systém provede inicializaci v rámci <a href="#" data-page-title="702UC05: Zobrazit horizontální kalendář"></a> – na vstup jsou předány následující informace:<br><ul><li><strong>Nadpis hlavičky kalendáře</strong>: předána hodnota <strong>Vozidlo</strong>.<br></li><li><strong>Nadpis patičky kalendáře</strong>: předána hodnota <strong>Vozidla</strong>.</li><li><strong>Zobrazený den</strong>: v <a href="702uc03-112559262.html">Nástrojové liště</a> nastavené datum (komponenta <strong>4</strong>).</li><li><strong>Uspořádání kalendáře</strong>: v <a href="702uc03-112559262.html">Nástrojové liště</a> nastavené <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a> (komponenta <strong>5</strong>).</li></ul></li></ol></li><li>Systém načte <a href="../../../../datove-modely/datovy-78681044.html">Objekty</a> pro zobrazení v kalendáři (viz <a href="702uc03-112559262.html">ALG01: Získat objekty</a>).</li><li>Pokud byl nalezen alespoň jeden <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a> (viz krok 2) – pro všechny získané <a href="../../../../datove-modely/datovy-78681044.html">Objekty</a> (řazeny vzestupně dle atributu <strong>Identifikátor objektu</strong>):<br><ol><li>Systém vloží novou položku do kalendáře – zavolá funkci <a href="702uc05-112559809.html">Přidat položku kalendáře</a> (viz <a href="#" data-page-title="702UC05: Zobrazit horizontální kalendář"></a>), na vstup jsou předány následující informace:<br><ul><li><strong>Externí identifikátor položky kalendáře</strong>: interní identifikátor právě zkoumaného <a href="../../../../datove-modely/datovy-78681044.html">Objektu</a>.<br></li><li><strong>Zobrazený text</strong>: hodnota atributu <strong>Identifikátor objektu</strong> právě zkoumaného <a href="../../../../datove-modely/datovy-78681044.html">Objektu</a>.</li></ul></li><li>Systém načte pro právě zkoumaný <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a> odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (viz <a href="702uc03-112559262.html">ALG02: Získat aktivity pro objekt</a>).</li><li>Pokud byla nalezena alespoň jedna <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (viz krok 3.b) – pro všechny získané <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (řazeny vzestupně dle atributu <strong>Začátek aktivity</strong>):<br><ol><li>Systém vloží novou aktivitu do odpovídající položky kalendáře – zavolá funkci <a href="702uc05-112559809.html">Přidat aktivitu</a> (viz <a href="#" data-page-title="702UC05: Zobrazit horizontální kalendář"></a>), na vstup jsou předány následující informace:<br><ul><li><strong>Externí identifikátor položky kalendáře</strong>: interní identifikátor právě zkoumaného <a href="../../../../datove-modely/datovy-78681044.html">Objektu</a>.</li><li><strong>Aktivita</strong>: právě zkoumaná <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</li></ul></li></ol></li></ol></li><li>Systém zpřístupní dostupné funkčnosti.</li></ol><p>Poznámka: Při načítání záznamů jsou uvažována omezení nastavená v rámci obrazovky (např. filtry).</p><h1>Alternativní toky událostí</h1><h2>AF01: Založit aktivitu</h2><h3>Vstupní podmínky</h3><ul><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity"></a>.</li><li>Jsou splněny vstupní podmínky v rámci alespoň jednoho u uvedených UC:<br><ul><li><a href="#" data-page-title="501UC04: Založit zakázku"></a>.</li></ul></li></ul><p>Poznámka: Je nutné mít oprávnění na založení alespoň jednoho z podporovaných typů <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (viz <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>).</p><h3>Tok událostí</h3><ol><li>Systém zobrazí formulář aktivity – spustí <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity"></a>, na vstup jsou předány následující informace:<br><ul><li>Nadpis formuláře: <strong>Přidat aktivitu</strong>.</li><li>Provozovna: <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> nastavená v rámci nástrojové lišty (komponenta 1, viz <a href="702uc03-112559262.html">Nástrojová lišta</a>). Pokud není <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> k dispozici, je předáno NULL.</li><li>Začátek aktivity: není předána žádná hodnota (použito výchozí nastavení formuláře).</li><li>Konec aktivity: není předána žádná hodnota (použito výchozí nastavení formuláře).</li></ul></li><li>Uživatel vyplní formulář.</li><li>Pokud uživatel zruší provedené změny:<br><ol><li>Přechod na krok 9.</li></ol></li><li>Uživatel potvrdí provedené změny.</li><li>Pokud byla založena <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> s pravidlem opakování – na výstupu formuláře je získáno pravidlo opakování (výstupní parametr <strong>Pravidlo opakování</strong>, viz <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity"></a>):<br><ol><li>Systém odešle požadavek na založení nových instancí entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (resp. odvozených tříd) – spustí <a href="#" data-page-title="702UC06: Generovat aktivity dle pravidla opakování">702UC06: Generovat aktivity dle pravidla opakování</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Zakázka</strong>: výstupní data získaná v rámci formuláře aktivity (výstupní parametr <strong>Zakázka</strong>, viz <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity"></a>).<br><ul><li><em>Interní poznámka: Výstupní data formuláře nepočítají s možností založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> jiného typu (aktuálně pracujeme pouze s <a href="../../../../datove-modely/datovy-78681044.html">Aktivitami</a> typu Zakázka).</em><br></li></ul></li><li><strong>Pravidlo opakování</strong>: výstupní data získaná v rámci formuláře aktivity (výstupní parametr <strong>Pravidlo opakování</strong>, viz <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity"></a>).</li></ul></li></ol></li><li>Jinak byla založena jednorázová <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>:<br><ol><li>Systém odešle požadavek na založení nové instance entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (resp. odvozené třídy) – spustí <a href="#" data-page-title="501UC04: Založit zakázku"></a>, na vstup jsou předány následující informace:<br><ul><li><strong>Zakládaná zakázka</strong>: výstupní data získaná v rámci formuláře aktivity (výstupní parametr <strong>Zakázka</strong>, viz <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity"></a>).<br><ul><li><em>Interní poznámka: Výstupní data formuláře nepočítají s možností založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> jiného typu (aktuálně pracujeme pouze s <a href="../../../../datove-modely/datovy-78681044.html">Aktivitami</a> typu Zakázka).</em></li></ul></li></ul></li></ol></li><li>Pokud proběhne založení nové instance (resp. nových instancí) entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> v pořádku:<br><ol><li>Přechod na krok 9.</li></ol></li><li>Jinak dojde k provedení následujících kroků:<br><ol><li>Systém zobrazí systémové hlášení – spustí <a href="#" data-page-title="700UI06: Systémové hlášky">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Kód systémového hlášení</strong>: systémové hlášení vyvolané při zakládání nové <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (viz <a href="#" data-page-title="501UC04: Založit zakázku"></a>, případně <a href="#" data-page-title="702UC06: Generovat aktivity dle pravidla opakování">702UC06: Generovat aktivity dle pravidla opakování</a>).</li></ul></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 2.</li></ol></li><li>Systém zavře formulář aktivity.</li><li>Systém načte aktuální data pro kalendář.</li></ol><h3>Výstupní podmínky</h3><ul><li>Byla vytvořena instance entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (včetně instance odvozené třídy). Ta byla uložena do databáze.</li><li>Byly vytvořeny instance entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (včetně instance odvozené třídy) dle nastaveného pravidla opakování. Ty byly uloženy do databáze.</li></ul><p>Poznámka: Je splněna jedna z uvedených podmínek.</p><h2>AF02: Upravit aktivitu</h2><h3>Vstupní podmínky</h3><p>Alternativní tok událostí může být spuštěn na různých místech, od toho se odvíjí také jeho vstupní podmínky.</p><table><tbody><tr><th>Spuštění AF</th><th>Vstupní data</th><th>Vstupní podmínky</th><th>Poznámka</th></tr><tr><td><a href="702uc03-112559262.html">Nástrojová lišta</a> (komponenta 10)</td><td><p>V kalendáři poslední označena <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</p></td><td><ul><li>V kalendáři je označena alespoň jedna <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</li><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity"></a>.</li></ul></td><td>–</td></tr><tr><td><p><a href="702uc05-112559809.html">Kontextová nabídka kolize aktivit</a></p><ul><li><em>Viz <a href="#" data-page-title="702UC05: Zobrazit horizontální kalendář">702UC05: Zobrazit horizontální kalendář</a>.</em></li></ul></td><td>Získaná <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> v rámci události <a href="702uc05-112559809.html">Editace aktivity</a> (atribut <strong>Aktivita</strong>).</td><td><ul><li>Došlo k vyvolání události <a href="702uc05-112559809.html">Editace aktivity</a> (viz <a href="#" data-page-title="702UC05: Zobrazit horizontální kalendář">702UC05: Zobrazit horizontální kalendář</a>).</li><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity">702UC04: Zobrazit formulář aktivity</a>.</li></ul></td><td><br></td></tr></tbody></table><p>Poznámka: Nejsou přímo vyžadována oprávnění na editaci odpovídajících typů <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (viz <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>). Pokud uživatel potřebná oprávnění nemá, je formulář zobrazen v režimu pro čtení. Jedná se pak o uvedené UC:</p><ul><li><a href="#" data-page-title="501UC05: Upravit zakázku">501UC05: Upravit zakázku</a>.</li></ul><h3>Tok událostí</h3><ol><li>Systém zobrazí formulář aktivity – spustí <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity"></a>, na vstup jsou předány následující informace:<br><ul><li><strong>Nadpis formuláře</strong>: předána hodnota <strong>Upravit aktivitu</strong>.<br></li><li><strong>Aktivita</strong>: na vstupu AF získaná <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</li><li><strong>Režim změny pravidla opakování</strong>: předána hodnota <strong>FASLE</strong>.</li></ul></li><li>Uživatel vyplní formulář.</li><li>Pokud uživatel zruší provedené změny:<br><ol><li>Přechod na krok 8.</li></ol></li><li>Uživatel potvrdí provedené změny.</li><li>Systém odešle požadavek na upravení existující instance entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (resp. odvozené třídy) – spustí <a href="#" data-page-title="501UC05: Upravit zakázku">501UC05: Upravit zakázku</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Editovaná zakázka</strong>: na vstupu AF získaná <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (resp. odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>).</li><li><strong>Změny v zakázce</strong>: výstupní data získaná v rámci formuláře aktivity (výstupní parametr <strong>Zakázka</strong>, viz <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity"></a>).<br><ul><li><em>Interní poznámka: Výstupní data formuláře nepočítají s možností editace <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> jiného typu (aktuálně pracujeme pouze s <a href="../../../../datove-modely/datovy-78681044.html">Aktivitami</a> typu Zakázka).</em><br></li></ul></li></ul></li><li>Pokud proběhne upravení existující instance entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> v pořádku:<br><ol><li>Přechod na krok 8.</li></ol></li><li>Jinak dojde k provedení následujících kroků:<br><ol><li>Systém zobrazí systémové hlášení – spustí <a href="#" data-page-title="700UI06: Systémové hlášky">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Kód systémového hlášení</strong>: systémové hlášení vyvolané při editaci <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (viz <a href="#" data-page-title="501UC05: Upravit zakázku">501UC05: Upravit zakázku</a>).<br></li></ul></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 2.<br></li></ol></li><li>Systém zavře formulář aktivity.</li><li>Systém načte aktuální data pro kalendář.</li></ol><h3>Výstupní podmínky</h3><ul><li>Požadovaná <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> byla upravena dle získaných informací (včetně instance odvozené třídy). Provedené změny byly uloženy do databáze.</li></ul><h2>AF03: Odebrat aktivitu</h2><p>Při odebírání <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> postupujeme dle způsobu, jakým <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> vznikla. Rozlišujeme pak <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>, které vznikly pod daným pravidlem opakování, a <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> jednorázové. Tomu odpovídá i dále uvedený popis.</p><p>Poznámka: Samotné chování je zvoleno na základě vyhodnocení vstupních podmínek. To probíhá v uvedením pořadí. Pokud nejsou splněny podmínky pro ani jednu z uvedených variant, nejsou splněny ani vstupní podmínky alternativního toku událostí.</p><table><tbody><tr><th colspan="1">Stručný popis</th><th>Vstupní podmínky</th><th>Tok událostí</th><th>Výstupní podmínky</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Aktivity s neomezeným pravidlem opakování</td><td><ul><li>V kalendáři je označena alespoň jedna <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</li><li>Hodnota atributu <strong>Pravidlo opakování</strong> u poslední označené <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> je k dispozici.</li><li>Odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Pravidlo opakování aktivity</a> (atribut <strong>Pravidlo opakování</strong> poslední označené <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>) splňuje všechny dále uvedené podmínky:<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong> (jedná se o aktivní záznam – nedošlo k zastavení generování).</li><li>Jedná se o pravidlo opakování s neomezenou dobou trvání (atribut <strong>Pravidlo opakování</strong>).</li></ul></li><li>Jsou splněny vstupní podmínky v rámci <a href="../../501ucxx-sprava-dat-kalendare-a-periodicita/501uc06-113017547.html">501UC06: Odebrat zakázku</a>.</li><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="702UC07: Zastavit generování aktivit dle pravidla opakování">702UC07: Zastavit generování aktivit dle pravidla opakování</a>.</li><li>Pokud je poslední označená <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> typu <strong>Zakázka </strong>(atribut <strong>Typ aktivity</strong>, viz <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>), musí být splněny vstupní podmínky v rámci <a href="#" data-page-title="501UC06: Odebrat zakázku">501UC06: Odebrat zakázku</a>.</li></ul></td><td><ol><li>Systém zobrazí systémové hlášení – spustí <a href="../../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Kód systémového hlášení</strong>: MSG_CONF_REPETITION_RULE_REMOVE_ACTIVITY (viz <a href="../../../../systemove-78681299.html">Systémové hlášky</a>).</li></ul></li><li>Pokud uživatel zruší odebrání aktivity (tlačítko <strong>Zrušit</strong> v rámci systémového hlášení, viz <a href="../../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>):<br><ol><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 8.</li></ol></li><li>Pokud uživatel odebere pouze poslední označenou aktivitu (tlačítko <strong>Odebrat</strong> v rámci systémového hlášení, viz <a href="../../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>):<br><ol><li>Systém odešle požadavek na odebrání existující instance entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (resp. odvozené třídy) – spustí <a href="../../501ucxx-sprava-dat-kalendare-a-periodicita/501uc06-113017547.html">501UC06: Odebrat zakázku</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Odebíraná zakázka</strong>: v kalendáři poslední označená <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (resp. odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>).</li></ul></li></ol></li><li>Pokud uživatel odebere poslední označenou aktivitu včetně souvisejících aktivit – tedy celou řadu (tlačítko <strong>Odebrat vše</strong> v rámci systémového hlášení, viz <a href="../../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>):<br><ol><li>Systém odešle požadavek na zastavení <a href="../../../../datove-modely/datovy-78681044.html">Pravidla opakování aktivity</a> včetně odebrání souvisejících <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> – spustí <a href="#" data-page-title="702UC07: Zastavit generování aktivit dle pravidla opakování">702UC07: Zastavit generování aktivit dle pravidla opakování</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Pravidlo opakování aktivity</strong>: hodnota atributu <strong>Pravidlo opakování</strong> poslední v kalendáři označené <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</li><li><strong>Odebrat související aktivity</strong>: předána hodnota <strong>TRUE</strong>.<br></li></ul></li></ol></li><li>Systém zavře systémové hlášení.</li><li>Pokud proběhlo odebrání <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> v pořádku:<br><ol><li>Přechod na krok 8.</li></ol></li><li>Jinak dojde k provedení následujících kroků:<br><ol><li>Systém zobrazí systémové hlášení – spustí <a href="../../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Kód systémového hlášení</strong>: systémové hlášení vyvolané při odebrání <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (viz <a href="../../501ucxx-sprava-dat-kalendare-a-periodicita/501uc06-113017547.html">501UC06: Odebrat zakázku</a>, případně <a href="#" data-page-title="702UC07: Zastavit generování aktivit dle pravidla opakování">702UC07: Zastavit generování aktivit dle pravidla opakování</a>).</li></ul></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 8.</li></ol></li><li>Systém načte aktuální data pro kalendář.</li></ol><p><em>Interní poznámka: Aktuálně pracujeme pouze s <a href="../../../../datove-modely/datovy-78681044.html">Aktivitami</a> typu Zakázka, systém tedy zatím nepočítá s možností odebrat <em><a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a> jiného typu (viz volání <a href="#" data-page-title="501UC06: Odebrat zakázku">501UC06: Odebrat zakázku</a>)</em>.</em></p></td><td><ul><li>Požadovaná <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> byla označena jako odebraná (včetně instance odvozené třídy). Pokud bylo požadováno současné odebrání odpovídajících <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> (odebrání celé řady), jako odebrané byly označeny i ty (včetně instancí odvozené třídy). V takovém případě bylo zastaveno také odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Pravidlo opakování aktivity</a>. Provedené změny byly uloženy do databáze.</li></ul></td><td colspan="1">Určeno pro neomezená pravidla opakování, která jsou stále aktivní.</td></tr><tr><td colspan="1">Aktivity s pravidlem opakování</td><td><ul><li>V kalendáři je označena alespoň jedna <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</li><li>Hodnota atributu <strong>Pravidlo opakování</strong> u poslední označené <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> je k dispozici.</li><li>Jsou splněny vstupní podmínky v rámci <a href="../../501ucxx-sprava-dat-kalendare-a-periodicita/501uc06-113017547.html">501UC06: Odebrat zakázku</a>.</li><li>Pokud je poslední označená <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> typu <strong>Zakázka</strong> (atribut <strong>Typ aktivity</strong>, viz <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>), musí být splněny vstupní podmínky v rámci <a href="#" data-page-title="501UC06: Odebrat zakázku">501UC06: Odebrat zakázku</a>.</li></ul></td><td><ol><li>Systém zobrazí systémové hlášení – spustí <a href="../../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Kód systémového hlášení</strong>: MSG_CONF_REPETITION_RULE_REMOVE_ACTIVITY (viz <a href="../../../../systemove-78681299.html">Systémové hlášky</a>).</li></ul></li><li>Pokud uživatel zruší odebrání aktivity (tlačítko <strong>Zrušit</strong> v rámci systémového hlášení, viz <a href="../../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>):<br><ol><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 8.</li></ol></li><li>Pokud uživatel odebere pouze poslední označenou aktivitu (tlačítko <strong>Odebrat</strong> v rámci systémového hlášení, viz <a href="../../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>):<br><ol><li>Systém odešle požadavek na odebrání existující instance entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (resp. odvozené třídy) – spustí <a href="../../501ucxx-sprava-dat-kalendare-a-periodicita/501uc06-113017547.html">501UC06: Odebrat zakázku</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Odebíraná zakázka</strong>: v kalendáři poslední označená <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (resp. odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>).</li></ul></li></ol></li><li>Pokud uživatel odebere poslední označenou aktivitu včetně souvisejících aktivit – tedy celou řadu (tlačítko <strong>Odebrat vše</strong> v rámci systémového hlášení, viz <a href="../../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>):<br><ol><li>Systém nalezne související <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> – hledá takové <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a>y, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Pravidlo opakování</strong> odpovídá hodnotě stejného atributu poslední označené <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (vznikla pod stejným <a href="../../../../datove-modely/datovy-78681044.html">Pravidlem opakování aktivity</a>).<br></li></ul></li><li>Systém odešle požadavek na odebrání existující instance entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (resp. odvozené třídy) – spustí <a href="../../501ucxx-sprava-dat-kalendare-a-periodicita/501uc06-113017547.html">501UC06: Odebrat zakázku</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Odebíraná zakázka</strong>: v kalendáři poslední označená <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (resp. odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>).</li></ul></li><li>Systém odešle požadavek na odebrání všech související <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> (viz krok 4.a) – pro všechny spustí <a href="../../501ucxx-sprava-dat-kalendare-a-periodicita/501uc06-113017547.html">501UC06: Odebrat zakázku</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Odebíraná zakázka</strong>: právě zkoumaná <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (resp. odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>).</li></ul></li></ol></li><li>Systém zavře systémové hlášení.</li><li>Pokud proběhlo odebrání <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> v pořádku:<br><ol><li>Přechod na krok 8.</li></ol></li><li>Jinak dojde k provedení následujících kroků:<br><ol><li>Systém zobrazí systémové hlášení – spustí <a href="../../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Kód systémového hlášení</strong>: systémové hlášení vyvolané při odebrání <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (viz <a href="../../501ucxx-sprava-dat-kalendare-a-periodicita/501uc06-113017547.html">501UC06: Odebrat zakázku</a>).</li></ul></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 8.</li></ol></li><li>Systém načte aktuální data pro kalendář.</li></ol><p><em>Interní poznámka: Aktuálně pracujeme pouze s <a href="../../../../datove-modely/datovy-78681044.html">Aktivitami</a> typu Zakázka, systém tedy zatím nepočítá s možností odebrat <em><a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a> jiného typu (viz volání <a href="#" data-page-title="501UC06: Odebrat zakázku">501UC06: Odebrat zakázku</a>)</em>.</em></p></td><td><ul><li>Požadovaná <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> byla označena jako odebraná (včetně instance odvozené třídy). Pokud bylo požadováno současné odebrání odpovídajících <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> (odebrání celé řady), jako odebrané byly označeny i ty (včetně instancí odvozené třídy). Provedené změny byly uloženy do databáze.</li></ul></td><td colspan="1">Určeno pro omezená pravidla opakování (je předem znám daný počet opakování). Současně je použito pro neomezená pravidla opakování, která již nejsou aktivní (neprobíhá další generování <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a>).</td></tr><tr><td colspan="1">Jednorázové aktivity</td><td colspan="1"><ul><li>V kalendáři je označena alespoň jedna <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</li><li>Hodnota atributu <strong>Pravidlo opakování</strong> u poslední označené <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> není k dispozici.</li><li>Jsou splněny vstupní podmínky v rámci <a href="../../501ucxx-sprava-dat-kalendare-a-periodicita/501uc06-113017547.html">501UC06: Odebrat zakázku</a>.</li><li>Pokud je poslední označená <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> typu <strong>Zakázka</strong> (atribut <strong>Typ aktivity</strong>, viz <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>), musí být splněny vstupní podmínky v rámci <a href="#" data-page-title="501UC06: Odebrat zakázku">501UC06: Odebrat zakázku</a>.</li></ul></td><td colspan="1"><ol><li>Systém zobrazí systémové hlášení – spustí <a href="../../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Kód systémového hlášení</strong>: MSG_CONF_CANCEL_DELETE_ITEM (viz <a href="../../../../systemove-78681299.html">Systémové hlášky</a>).</li><li><strong>Typ entity</strong>: <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</li></ul></li><li>Pokud uživatel zruší odebrání záznamu:<br><ol><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 8.</li></ol></li><li>Uživatel potvrdí odebrání záznamu.</li><li>Systém zavře systémové hlášení.</li><li>Systém odešle požadavek na odebrání existující instance entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (resp. odvozené třídy) – spustí <a href="../../501ucxx-sprava-dat-kalendare-a-periodicita/501uc06-113017547.html">501UC06: Odebrat zakázku</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Odebíraná zakázka</strong>: v kalendáři poslední označená <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (resp. odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>).</li></ul></li><li>Pokud proběhne odebrání existující instance entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> v pořádku:<br><ol><li>Přechod na krok 8.</li></ol></li><li>Jinak dojde k provedení následujících kroků:<br><ol><li>Systém zobrazí systémové hlášení – spustí <a href="../../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Kód systémového hlášení</strong>: systémové hlášení vyvolané při odebírání <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (viz <a href="../../501ucxx-sprava-dat-kalendare-a-periodicita/501uc06-113017547.html">501UC06: Odebrat zakázku</a>).</li></ul></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 8.</li></ol></li><li>Systém načte aktuální data pro kalendář.</li></ol><p><em>Interní poznámka: Aktuálně pracujeme pouze s <a href="../../../../datove-modely/datovy-78681044.html">Aktivitami</a> typu Zakázka, systém tedy zatím nepočítá s možností odebrat <em><a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a> jiného typu (viz volání <a href="#" data-page-title="501UC06: Odebrat zakázku">501UC06: Odebrat zakázku</a>)</em>.</em></p></td><td colspan="1"><ul><li>Požadovaná <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> byla označena jako odebraná (včetně instance odvozené třídy). Provedené změny byly uloženy do databáze.</li></ul></td><td colspan="1">–</td></tr></tbody></table><h2>AF04: Provozovna není k dispozici</h2><h3>Vstupní podmínky</h3><ul><li>V rámci vstupního parametru <strong>Provozovna</strong> byla získána identifikace takové <a href="../../../../datove-modely/datovy-78681044.html">Provozovny</a>, která…<br><ul><li>není v rámci systému evidována (odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> nebyla nalezena).</li><li>má v rámci atributu <strong>Je aktivní</strong> nastavenou hodnotu <strong>FALSE</strong>.</li></ul></li></ul><h3>Tok událostí</h3><ol><li>Alternativní tok událostí začíná krokem 1 základního toku událostí.</li><li>Systém zobrazí systémové hlášení – spustí <a href="#" data-page-title="700UI06: Systémové hlášky">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li>Kód systémového hlášení: MSG_ERR_ITEM_NOT_FOUND (viz <a href="#" data-page-title="Systémové hlášky">Systémové hlášky</a>).</li><li>Entita: <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a>.</li></ul></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení.</li><li>Systém ignoruje na vstupu získané parametry a pokračuje krokem 1 základního toku událostí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Byla zobrazena dispečerská plachta, na vstupu získané parametry byly ignorovány.</li></ul><h2>AF05: Chybí oprávnění na provozovnu</h2><h3>Vstupní podmínky</h3><ul><li>V rámci vstupního parametru <strong>Provozovna</strong> byla získána identifikace takové <a href="../../../../datove-modely/datovy-78681044.html">Provozovny</a>, na kterou nemá odpovídající uživatel oprávnění (viz <a href="#" data-page-title="Uživatelská oprávnění a role"></a>). </li></ul><h3>Tok událostí</h3><ol><li>Alternativní tok událostí začíná krokem 1 základního toku událostí.</li><li>Systém zobrazí systémové hlášení – spustí <a href="#" data-page-title="700UI06: Systémové hlášky">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li>Kód systémového hlášení: MSG_ERR_NOT_AUTHORIZED_FOR_ITEM (viz <a href="#" data-page-title="Systémové hlášky">Systémové hlášky</a>).</li><li>Entita: <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a>.</li></ul></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení.</li><li>Systém ignoruje na vstupu získané parametry a pokračuje krokem 1 základního toku událostí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Byla zobrazena dispečerská plachta, na vstupu získané parametry byly ignorovány.</li></ul><h2>AF06: Typ dopravy není k dispozici</h2><h3>Vstupní podmínky</h3><ul><li>V rámci vstupního parametru <strong>Typy dopravy</strong> byla získána identifikace <a href="../../../../datove-modely/datovy-78681044.html">Typu dopravy</a>, který…<br><ul><li>není v rámci systému evidován (odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Typ dopravy</a> nebyl nalezen).</li></ul></li></ul><h3>Tok událostí</h3><ol><li>Alternativní tok událostí začíná krokem 1 základního toku událostí.</li><li>Systém zobrazí systémové hlášení – spustí <a href="#" data-page-title="700UI06: Systémové hlášky">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li>Kód systémového hlášení: MSG_ERR_ITEM_NOT_FOUND (viz <a href="#" data-page-title="Systémové hlášky">Systémové hlášky</a>).</li><li>Entita: <a href="../../../../datove-modely/datovy-78681044.html">Typ dopravy</a>.</li></ul></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení.</li><li>Systém ignoruje na vstupu získané parametry a pokračuje krokem 1 základního toku událostí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Byla zobrazena dispečerská plachta, na vstupu získané parametry byly ignorovány.</li></ul><h2>AF07: Zobrazit den</h2><h3>Vstupní podmínky</h3><p>–</p><h3>Tok událostí</h3><ol><li>Systém aktualizuje zobrazení <a href="702uc03-112559262.html">Kalendáře</a> – zavolá funkci <a href="702uc05-112559809.html">Zobrazit požadovaný den</a> (viz <a href="#" data-page-title="702UC05: Zobrazit horizontální kalendář"></a>), na vstup jsou předány následující informace:<br><ul><li><strong>Zobrazený den</strong>: hodnota nastavená v nástrojové liště – komponenta 4 (viz <a href="702uc03-112559262.html">Nástrojová lišta</a>).</li><li><strong>Uspořádání kalendáře</strong>: hodnota nastavená v nástrojové liště – komponenta 5 (viz <a href="702uc03-112559262.html">Nástrojová lišta</a>).</li></ul></li></ol><h3>Výstupní podmínky</h3><ul><li>Byla zobrazena dispečerská plachta, zobrazené období odpovídá nastaveným parametrům.</li></ul><h2>AF08: Změnit uspořádání kalendáře</h2><h3>Vstupní podmínky</h3><p>–</p><h3>Tok událostí</h3><ol><li>Systém aktualizuje zobrazení <a href="702uc03-112559262.html">Kalendáře</a> – zavolá funkci <a href="702uc05-112559809.html">Zobrazit požadovaný den</a> (viz <a href="#" data-page-title="702UC05: Zobrazit horizontální kalendář"></a>), na vstup jsou předány následující informace:<br><ul><li><strong>Zobrazený den</strong>: hodnota nastavená v nástrojové liště – komponenta 4 (viz <a href="702uc03-112559262.html">Nástrojová lišta</a>).</li><li><strong>Uspořádání kalendáře</strong>: hodnota nastavená v nástrojové liště – komponenta 5 (viz <a href="702uc03-112559262.html">Nástrojová lišta</a>).</li></ul></li></ol><h3>Výstupní podmínky</h3><ul><li>Byla zobrazena dispečerská plachta, zobrazené období odpovídá nastaveným parametrům.</li></ul><h2>AF09: Posunout na předchozí den</h2><h3>Vstupní podmínky</h3><p>–</p><h3>Tok událostí</h3><ol><li>Systém aktualizuje zobrazení <a href="702uc03-112559262.html">Kalendáře</a> – zavolá funkci <a href="702uc05-112559809.html">Posunout o den</a> (viz <a href="#" data-page-title="702UC05: Zobrazit horizontální kalendář"></a>), na vstup jsou předány následující informace:<ul><li><strong>Posunout dopředu</strong>: hodnota <strong>FALSE</strong>.</li></ul></li></ol><h3>Výstupní podmínky</h3><ul><li>Byla zobrazena dispečerská plachta, zobrazené období odpovídá nastaveným parametrům.</li></ul><h2>AF10: Posunout na následující den</h2><h3>Vstupní podmínky</h3><p>–</p><h3>Tok událostí</h3><ol><li>Systém aktualizuje zobrazení <a href="702uc03-112559262.html">Kalendáře</a> – zavolá funkci <a href="702uc05-112559809.html">Posunout o den</a> (viz <a href="#" data-page-title="702UC05: Zobrazit horizontální kalendář"></a>), na vstup jsou předány následující informace:<ul><li><strong>Posunout dopředu</strong>: hodnota <strong>TRUE</strong>.</li></ul></li></ol><h3>Výstupní podmínky</h3><ul><li>Byla zobrazena dispečerská plachta, zobrazené období odpovídá nastaveným parametrům.</li></ul><h2>AF11: Posunout na předchozí období</h2><h3>Vstupní podmínky</h3><p>–</p><h3>Tok událostí</h3><ol><li>Systém aktualizuje zobrazený den (komponenta 4, viz <a href="702uc03-112559262.html">Nástrojová lišta</a>) – nastaví hodnotu dle právě nastaveného <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a> (komponenta 5, viz <a href="702uc03-112559262.html">Nástrojová lišta</a>).<br><ul><li><strong>Den</strong>: hodnota vznikne <strong>odečtením 1 dne</strong> od právě nastaveného data.</li><li><strong>Pracovní týden</strong>: hodnota vznikne <strong>odečtením 7 dní</strong> od právě nastaveného data.</li><li><strong>Týden</strong>: hodnota vznikne <strong>odečtením 7 dní</strong> od právě nastaveného data.</li><li><strong>Měsíc</strong>: hodnota vznikne <strong>odečtením 1 měsíce</strong> od právě nastaveného data.</li></ul></li></ol><p>Poznámka: Změna zobrazeného dne (komponenta 4, viz <a href="702uc03-112559262.html">Nástrojová lišta</a>) provede spuštění <a href="702uc03-112559262.html">AF07: Zobrazit den</a>.</p><h3>Výstupní podmínky</h3><ul><li>Byla zobrazena dispečerská plachta, zobrazené období odpovídá nastaveným parametrům.</li></ul><h2>AF12: Posunout na následující období</h2><h3>Vstupní podmínky</h3><p>–</p><h3>Tok událostí</h3><ol><li>Systém aktualizuje zobrazený den (komponenta 4, viz <a href="702uc03-112559262.html">Nástrojová lišta</a>) – nastaví hodnotu dle právě nastaveného <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a> (komponenta 5, viz <a href="702uc03-112559262.html">Nástrojová lišta</a>).<br><ul><li><strong>Den</strong>: hodnota vznikne <strong>přičtením 1 dne</strong> k právě nastavenému datu.</li><li><strong>Pracovní týden</strong>: hodnota vznikne <strong>přičtením</strong><strong> 7 dní</strong> k právě nastavenému datu.</li><li><strong>Týden</strong>: hodnota vznikne <strong>přičtením</strong><strong> 7 dní</strong> k právě nastavenému datu.</li><li><strong>Měsíc</strong>: hodnota vznikne <strong>přičtením</strong><strong> 1 měsíce</strong> k právě nastavenému datu.</li></ul></li></ol><p>Poznámka: Změna zobrazeného dne (komponenta 4, viz <a href="702uc03-112559262.html">Nástrojová lišta</a>) provede spuštění <a href="702uc03-112559262.html">AF07: Zobrazit den</a>.</p><h3>Výstupní podmínky</h3><ul><li>Byla zobrazena dispečerská plachta, zobrazené období odpovídá nastaveným parametrům.</li></ul><h2>AF13: Založit zakázku</h2><h3>Vstupní podmínky</h3><ul><li>Byla vyvolána událost kalendáře <a href="702uc05-112559809.html">Dvojklik na plochu položky kalendáře</a>.</li><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity"></a>.</li><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="501UC04: Založit zakázku"></a>.</li></ul><h3>Tok událostí</h3><ol><li>Systém zobrazí formulář aktivity – spustí <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity"></a>, na vstup jsou předány následující informace:<br><ul><li>Nadpis formuláře: <strong>Přidat aktivitu</strong>.</li><li>Provozovna: <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> nastavená v rámci nástrojové lišty (komponenta 1, viz <a href="702uc03-112559262.html">Nástrojová lišta</a>). Pokud není <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> k dispozici, je předáno NULL.</li><li>Vozidlo: takový <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a>, u kterého interní identifikátor odpovídá informaci předané v rámci události (parametr <strong>Externí identifikátor položky kalendáře</strong>, viz <a href="702uc05-112559809.html">Dvojklik na plochu položky kalendáře</a>).</li><li>Začátek aktivity: datum a čas získaný v rámci události (parametr <strong>Datum a čas</strong>, viz <a href="702uc05-112559809.html">Dvojklik na plochu položky kalendáře</a>), který je upraven následovně: <strong>minuty a sekundy jsou nastaveny na 00</strong>.</li><li>Konec aktivity: datum a čas získaný v rámci události (parametr <strong>Datum a čas</strong>, viz <a href="702uc05-112559809.html">Dvojklik na plochu položky kalendáře</a>), který je upraven následovně: <strong>hodnota je navýšena o 2 hodiny</strong>, <strong>minuty a sekundy jsou nastaveny na 00</strong>.</li></ul></li><li>Uživatel vyplní formulář.</li><li>Pokud uživatel zruší provedené změny:<br><ol><li>Přechod na krok 9.</li></ol></li><li>Uživatel potvrdí provedené změny.</li><li>Pokud byla založena <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> s pravidlem opakování – na výstupu formuláře je získáno pravidlo opakování (výstupní parametr <strong>Pravidlo opakování</strong>, viz <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity"></a>):<br><ol><li>Systém odešle požadavek na založení nových instancí entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (resp. odvozených tříd) – spustí <a href="#" data-page-title="702UC06: Generovat aktivity dle pravidla opakování">702UC06: Generovat aktivity dle pravidla opakování</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Zakázka</strong>: výstupní data získaná v rámci formuláře aktivity (výstupní parametr <strong>Zakázka</strong>, viz <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity"></a>).<br><ul><li><em>Interní poznámka: Výstupní data formuláře nepočítají s možností založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> jiného typu (aktuálně pracujeme pouze s <a href="../../../../datove-modely/datovy-78681044.html">Aktivitami</a> typu Zakázka).</em></li></ul></li><li><strong>Pravidlo opakování</strong>: výstupní data získaná v rámci formuláře aktivity (výstupní parametr <strong>Pravidlo opakování</strong>, viz <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity"></a>).<em><br></em></li></ul></li></ol></li><li>Jinak byla založena jednorázová <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>:<br><ol><li>Systém odešle požadavek na založení nové instance entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (resp. odvozené třídy) – spustí <a href="#" data-page-title="501UC04: Založit zakázku"></a>, na vstup jsou předány následující informace:</li></ol><ul><li><ul><li><strong>Zakládaná zakázka</strong>: výstupní data získaná v rámci formuláře aktivity (výstupní parametr <strong>Zakázka</strong>, viz <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity"></a>).<br><ul><li><em>Interní poznámka: Výstupní data formuláře nepočítají s možností založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> jiného typu – uživatel může typ změnit přímo ve formuláři (aktuálně pracujeme pouze s <a href="../../../../datove-modely/datovy-78681044.html">Aktivitami</a> typu Zakázka).</em></li></ul></li></ul></li></ul></li><li>Pokud proběhne založení nové instance entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> v pořádku:<br><ol><li>Přechod na krok 9.</li></ol></li><li>Jinak dojde provedení následujících kroků:<br><ol><li>Systém zobrazí systémové hlášení – spustí <a href="#" data-page-title="700UI06: Systémové hlášky">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Kód systémového hlášení</strong>: systémové hlášení vyvolané při zakládání nové <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (viz <a href="#" data-page-title="501UC04: Založit zakázku"></a>, případně <a href="#" data-page-title="702UC06: Generovat aktivity dle pravidla opakování">702UC06: Generovat aktivity dle pravidla opakování</a>).</li></ul></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 2.</li></ol></li><li>Systém zavře formulář aktivity.</li><li>Systém načte aktuální data pro kalendář.</li></ol><h3>Výstupní podmínky</h3><ul><li>Byla vytvořena instance entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (včetně instance odvozené třídy). Ta byla uložena do databáze.</li><li>Byly vytvořeny instance entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (včetně instance odvozené třídy) dle nastaveného pravidla opakování. Ty byly uloženy do databáze.</li></ul><p>Poznámka: Je splněna jedna z uvedených podmínek.</p><h2>AF14: Zastavit generování aktivit</h2><h3>Vstupní podmínky</h3><ul><li>V kalendáři je označena alespoň jedna <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</li><li>Hodnota atributu <strong>Pravidlo opakování</strong> právě označené <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> je k dispozici.</li><li>Odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Pravidlo opakování aktivity</a> (atribut <strong>Pravidlo opakování</strong> právě označené <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>) splňuje všechny dále uvedené podmínky:<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna TRUE (jedná se o aktivní záznam – nedošlo k zastavení generování).</li><li>Jedná se o pravidlo opakování s neomezenou dobou trvání (atribut <strong>Pravidlo opakování</strong>).</li></ul></li><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="702UC07: Zastavit generování aktivit dle pravidla opakování">702UC07: Zastavit generování aktivit dle pravidla opakování</a>.<br></li></ul><p>Poznámka: Označena může být maximálně jedna <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</p><h3>Tok událostí</h3><ol><li>Systém zobrazí systémové hlášení – spustí <a href="#" data-page-title="700UI06: Systémové hlášky">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Kód systémového hlášení</strong>: MSG_CONF_REPETITION_RULE_STOP_GENERATING (viz <a href="#" data-page-title="Systémové hlášky">Systémové hlášky</a>).<br></li></ul></li><li>Pokud uživatel zruší zastavení generování aktivit (tlačítko <strong>Zrušit</strong> v rámci systémového hlášení, viz <a href="#" data-page-title="700UI06: Systémové hlášky">700UI06: Systémové hlášky</a>).<br><ol><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 8.</li></ol></li><li>Pokud uživatel pouze zastaví generování aktivit (tlačítko <strong>Zastavit</strong> v rámci systémového hlášení, viz <a href="#" data-page-title="700UI06: Systémové hlášky">700UI06: Systémové hlášky</a>).<br><ol><li>Systém odešle požadavek na zastavení <a href="../../../../datove-modely/datovy-78681044.html">Pravidla opakování aktivity</a> – spustí <a href="#" data-page-title="702UC07: Zastavit generování aktivit dle pravidla opakování">702UC07: Zastavit generování aktivit dle pravidla opakování</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Pravidlo opakování aktivity</strong>: hodnota atributu <strong>Pravidlo opakování</strong> poslední v kalendáři označené <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</li><li><strong>Odebrat související aktivity</strong>: předána hodnota <strong>FALSE</strong>.</li></ul></li></ol></li><li>Pokud uživatel zastaví generování aktivit včetně jejich odebrání (tlačítko <strong>Zastavit a odebrat</strong> v rámci systémového hlášení, viz <a href="#" data-page-title="700UI06: Systémové hlášky">700UI06: Systémové hlášky</a>).<br><ol><li>Systém odešle požadavek na zastavení <a href="../../../../datove-modely/datovy-78681044.html">Pravidla opakování aktivity</a> včetně odebrání souvisejících <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> – spustí <a href="#" data-page-title="702UC07: Zastavit generování aktivit dle pravidla opakování">702UC07: Zastavit generování aktivit dle pravidla opakování</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Aktivita</strong>: v kalendáři poslední označená <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</li><li><strong>Odebrat související aktivity</strong>: předána hodnota <strong>TRUE</strong>.<br></li></ul></li></ol></li><li>Systém zavře systémové hlášení.</li><li>Pokud proběhne zastavení <a href="../../../../datove-modely/datovy-78681044.html">Pravidla opakování aktivity</a> v pořádku:<br><ol><li>Přechod na krok 8.</li></ol></li><li>Jinak dojde k provedení následujících kroků:<br><ol><li>Systém zobrazí systémové hlášení – spustí <a href="#" data-page-title="700UI06: Systémové hlášky">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Kód systémového hlášení</strong>: systémové hlášení vyvolané při zastavení <a href="../../../../datove-modely/datovy-78681044.html">Pravidla opakování aktivity</a> (viz <a href="#" data-page-title="702UC07: Zastavit generování aktivit dle pravidla opakování">702UC07: Zastavit generování aktivit dle pravidla opakování</a>).</li></ul></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 8.<br></li></ol></li><li>Systém načte aktuální data pro kalendář.</li></ol><h3>Výstupní podmínky</h3><ul><li>Bylo zastaveno další generování <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> dle neomezeného <a href="../../../../datove-modely/datovy-78681044.html">Pravidla opakování aktivity</a>. Případně došlo k odebrání odpovídajících <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a>.</li></ul><h2>AF15: Změnit pravidlo opakování aktivity</h2><p>Cílem alternativního toku událostí je změna pravidla opakování dané aktivity.</p><ul><li>Dochází k ukončení původního a založení navazujícího pravidla opakování.</li><li>Současně jsou generovány nové aktivity (dle nového pravidla opakování).</li><li>Může pak dojít také k odebrání některých původních aktivit (kolizní záznamy).</li></ul><p>Poznámka: Každé pravidlo opakování může být upraveno maximálně jednou (vzniká navazující pravidlo opakování).</p><h3>Vstupní podmínky</h3><ul><li>V kalendáři je označena alespoň jedna <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</li><li>Hodnota atributu <strong>Pravidlo opakování</strong> poslední označené <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> je k dispozici.</li><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity">702UC04: Zobrazit formulář aktivity</a> (pro odpovídající vstupní data).</li><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="702UC09: Upravit aktivity dle pravidla opakování">702UC09: Upravit aktivity dle pravidla opakování</a> (pro odpovídající vstupní data).</li></ul><p>Poznámka: Označena může být maximálně jedna <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</p><h3>Tok událostí</h3><ol><li>Systém získá odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Pravidlo opakování aktivity</a> – hodnota atributu <strong>Pravidlo opakování</strong> poslední označené <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>.</li><li>Systém ověří možnost editace získaného <a href="../../../../datove-modely/datovy-78681044.html">Pravidla opakování aktivity</a>:<br><ol><li>Systém ověří možnost spuštění <a href="#" data-page-title="702UC09: Upravit aktivity dle pravidla opakování">702UC09: Upravit aktivity dle pravidla opakování</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Editované pravidlo opakování aktivity</strong>: získané <a href="../../../../datove-modely/datovy-78681044.html">Pravidlo opakování aktivity</a> (viz krok <strong>1</strong>).<br></li></ul></li><li>Pokud je na výstupu <a href="#" data-page-title="702UC09: Upravit aktivity dle pravidla opakování">702UC09: Upravit aktivity dle pravidla opakování</a> předáno <strong>MSG_INFO_REPETITION_RULE_UPDATE_UNAVAILABLE</strong> (výstupní parametr <strong>Chybové hlášení</strong>):<br><ol><li>Systém zobrazí systémové hlášení – spustí <a href="#" data-page-title="700UI06: Systémové hlášky">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Kód systémového hlášení</strong>: hodnota atributu <strong>Chybové hlášení</strong> získaná na výstupu <a href="#" data-page-title="702UC09: Upravit aktivity dle pravidla opakování">702UC09: Upravit aktivity dle pravidla opakování</a>.</li></ul></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení. <em><strong>Alternativní tok událostí předčasně končí.</strong></em></li></ol></li></ol></li><li>Systém zobrazí formulář aktivity – spustí <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity">702UC04: Zobrazit formulář aktivity</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Nadpis formuláře</strong>: předána hodnota <strong>Upravit pravidlo opakování</strong>.</li><li><strong>Aktivita</strong>: poslední označené <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</li><li><strong>Režim změny pravidla opakování</strong>: předána hodnota <strong>TRUE</strong>.<br></li></ul></li><li>Uživatel vyplní formulář.</li><li>Pokud uživatel zruší provedené změny:<br><ol><li>Přechod na krok <strong>10</strong>.</li></ol></li><li>Uživatel potvrdí provedené změny.</li><li>Systém odešle požadavek na upravení odpovídajícího <a href="../../../../datove-modely/datovy-78681044.html">Pravidla opakování aktivity</a> – spustí <a href="#" data-page-title="702UC09: Upravit aktivity dle pravidla opakování">702UC09: Upravit aktivity dle pravidla opakování</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Editované pravidlo opakování aktivity</strong>: získané <a href="../../../../datove-modely/datovy-78681044.html">Pravidlo opakování aktivity</a> (viz krok <strong>1</strong>).<br></li><li><strong>Zakázka</strong>: výstupní data získaná v rámci <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity">702UC04: Zobrazit formulář aktivity</a> (výstupní parametr <strong>Zakázka</strong>).<br><ul><li><em>Interní poznámka: Výstupní data formuláře nepočítají s možností zpracování <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> jiného typu (aktuálně pracujeme pouze s <a href="../../../../datove-modely/datovy-78681044.html">Aktivitami</a> typu <strong>Zakázka</strong>).</em><br></li></ul></li><li><strong>Pravidlo opakování</strong>: výstupní data získaná v rámci <a href="#" data-page-title="702UC04: Zobrazit formulář aktivity">702UC04: Zobrazit formulář aktivity</a> (výstupní parametr <strong>Pravidlo opakování</strong>).</li></ul></li><li>Pokud proběhne upravení odpovídajícího <a href="../../../../datove-modely/datovy-78681044.html">Pravidla opakování aktivity</a> v pořádku:<br><ol><li>Přechod na krok <strong>10</strong>.<br></li></ol></li><li>Jinak dojde k provedení následujících kroků:<br><ol><li>Systém zobrazí systémové hlášení – spustí <a href="#" data-page-title="700UI06: Systémové hlášky">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ol><li><strong>Kód systémového hlášení</strong>: hodnota atributu <strong>Chybové hlášení</strong> získaná na výstupu <a href="#" data-page-title="702UC09: Upravit aktivity dle pravidla opakování">702UC09: Upravit aktivity dle pravidla opakování</a>.</li></ol></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 2.<br></li></ol></li><li>Systém zavře formulář aktivity.</li><li>Systém načte aktuální data pro kalendář.</li></ol><h3>Výstupní podmínky</h3><p>Byla provedena sekvence dílčích kroků…</p><ul><li>Ukončení původního <a href="../../../../datove-modely/datovy-78681044.html">Pravidla opakování aktivity</a> (včetně odebrání kolizních <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a>).</li><li>Založení nového <a href="../../../../datove-modely/datovy-78681044.html">Pravidla opakování aktivity</a> (včetně generování nových <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a>).</li></ul><h1>Výjimkové toky událostí</h1><h2>EF01: Chybí oprávnění na požadovaný UC</h2><h3>Vstupní podmínky</h3><ul><li>Uživatel nemá oprávnění na tento případ užití.</li></ul><h3>Tok událostí</h3><ol><li>Výjimkový tok událostí začíná krokem 1 základního toku událostí.</li><li>Systém zobrazí systémové hlášení – spustí <a href="#" data-page-title="700UI06: Systémové hlášky">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li>Kód systémového hlášení: MSG_ERR_UNAUTHORIZED_ACCESS (viz <a href="#" data-page-title="Systémové hlášky">Systémové hlášky</a>).<br></li></ul></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení.</li><li>Systém uživatele přesměruje na výchozí stránku aplikace (viz <a href="../703ucxx-o-aplikaci/703uc01-81593095.html">703UC01: Zobrazit stránku O aplikaci</a>).</li></ol><h3>Výstupní podmínky</h3><ul><li>Nebyla zobrazena dispečerská plachta.</li></ul><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Uživateli byla zobrazena dispečerská plachta, ve které zobrazené záznamy a dostupné funkce odpovídají jeho uživatelským oprávněním.</p><h2>Výstupní data</h2><p>–</p><h1>Algoritmy</h1><h2>ALG01: Získat objekty</h2><p>V rámci dispečerské plachty máme k dispozici dílčí kalendáře, které zobrazují harmonogram jednotlivých <a href="../../../../datove-modely/datovy-78681044.html">Objektů</a>. K dispozici jsou pak takové <a href="../../../../datove-modely/datovy-78681044.html">Objekty</a>, které splňují všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Typ objektu</strong> je rovna hodnotě <strong>Vozidlo</strong> (viz <a href="../../../../datove-modely/datovy-78681044.html">Typ objektu</a>).</li><li>Hodnota atributu <strong>Provozovna</strong> je k dispozici (je různá od NULL) a tato <strong>Provozovna</strong> je aktivní (Je aktivní = TRUE).</li><li>Uživatel má na instanci oprávnění – vyhodnoceno dle oprávnění na instance entity <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a> (viz <a href="../../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>).</li></ul><p>Poznámka: Dostupné <a href="../../../../datove-modely/datovy-78681044.html">Objekty</a> mohou být dále omezeny, to se však děje až při práci v rámci obrazovky (např. nastavení filtrů).</p><h2>ALG02: Získat aktivity pro objekt</h2><p>V rámci konkrétního kalendáře dispečerské plachty je k dispozici harmonogram daného <a href="../../../../datove-modely/datovy-78681044.html">Objektu</a>. Jedná se o <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>, které mají přímou vazbu na <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a>. Hledáme pak takové <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a>, které splňují všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Objekt</strong> odpovídá právě zkoumanému <a href="../../../../datove-modely/datovy-78681044.html">Objektu</a>.</li><li>Hodnota atributu <strong>Aktivita</strong> se odkazuje na <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a>, která splňuje všechny dále uvedené podmínky zároveň:<ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Je splněna alespoň jedna z dále uvedených podmínek (vyhodnocení časového průniku se zobrazeným obdobím):<ul><li>Hodnota atributu <strong>Začátek aktivity</strong> se vyskytuje v rámci zobrazeného období (včetně mezí).</li><li>Hodnota atributu <strong>Konec aktivity</strong> se vyskytuje v rámci zobrazeného období (včetně mezí).</li><li>Hodnota atributu <strong>Začátek aktivity</strong> se vyskytuje před zobrazeným obdobím a zároveň se hodnota atributu <strong>Konec aktivity </strong>vyskytuje za zobrazeným obdobím. </li></ul></li></ul></li></ul><p>Poznámka: Dostupné <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> u konkrétního <a href="../../../../datove-modely/datovy-78681044.html">Objektu</a> se pak odvíjí od zobrazeného období. Při práci s aplikací tedy dochází k jejich průběžnému načítání.</p><h1>Validace</h1><p>–</p><h1>Uživatelské rozhraní</h1><h2>Drátový diagram</h2><p><img src="702uc03-zobrazit-dispecerskou-plachtu-112559262_images/image2024-8-4 10-29-48.png" data-attachment="true"></p><h2>Přehled UI komponent</h2><table><tbody><tr><th>Prvek</th><th>Skupina</th><th>Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1"><a href="702uc03-112559262.html">Hlavička aplikace</a></td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1"><a href="702uc03-112559262.html">Dispečerská plachta</a></td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1"><a href="702uc03-112559262.html">Detail kalendáře</a></td><td colspan="1">–</td></tr></tbody></table><h2>Hlavička aplikace</h2><p>Hlavička aplikace vychází z <a href="#" data-page-title="700UI03: Hlavička aplikace"></a>, je tedy nutné specifikovat zobrazené nadpisy:</p><ul><li>Primární nadpis: Dispečerská plachta</li><li>Sekundární nadpis: –</li></ul><p>Poznámka: Uvedené nadpisy odpovídají struktuře menu aplikace (viz <a href="#" data-page-title="700UI02: Hlavní menu">700UI02: Hlavní menu</a>).</p><p>K dispozici jsou pak další funkčnosti, ty jsou popsány samostatně.</p><h3>Drátový diagram</h3><p><img src="702uc03-zobrazit-dispecerskou-plachtu-112559262_images/image2024-8-4 10-40-12.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Prvek</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Bublinková nápověda</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Zobrazit detail kalendáře</td><td colspan="1">–</td><td colspan="1"><p>ToggleButton</p><ul><li>Ikona: ra-panel-top (ikona je otočena o 90°)</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Detail kalendáře</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Pokud je tlačítko stisknuto, je zobrazen panel s detailními informacemi (viz <a href="702uc03-112559262.html">Detail kalendáře</a>). Pokud tlačítko stisknuto není (výchozí stav), je panel s detailními informacemi skrytý.</td><td colspan="1">–</td><td colspan="1">Skrytí panelu s detailem nádoby je možné provést i přímo v rámci <a href="702uc03-112559262.html">Detailu kalendáře</a>.</td></tr></tbody></table><h2>Dispečerská plachta</h2><h3>Drátový diagram</h3><p><img src="702uc03-zobrazit-dispecerskou-plachtu-112559262_images/image2022-12-7 10-43-52.png" data-attachment="true"></p><p>Poznámka: Náhled je pouze ilustrativní.</p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Callout</th><th>Skupina</th><th>Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1"><a href="702uc03-112559262.html">Nástrojová lišta</a></td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1"><a href="702uc03-112559262.html">Kalendář</a></td><td colspan="1">Jedná se o samostatnou komponentu, viz <a href="#" data-page-title="702UC05: Zobrazit horizontální kalendář"></a>.</td></tr></tbody></table><h3>Nástrojová lišta</h3><table><tbody><tr><th>Pořadí</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Bublinková nápověda</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Výběr provozovny</td><td colspan="1">–</td><td colspan="1"><p>ComboBox</p><ul><li>Barva pruhu: TODO: Dát barvy na jedno místo (#f9c900)</li></ul></td><td colspan="1">SM Pardubice</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a>.</p><p>Množina dostupných záznamů je popsána samostatně, viz <a href="702uc03-112559262.html">Dostupné provozovny</a>.</p></td><td colspan="1"><p>Na vstupu získaná <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> (vstupní parametr Provozovna).</p><p>Pokud není hodnota k dispozici, je využito uživatelské nastavení (viz <a href="702uc03-112559262.html">Uživatelské nastavení</a>).</p><p>Pokud není k dispozici ani uživatelské nastavení, je vybrán první dostupný záznam v rámci ovládacího prvku (viz <a href="702uc03-112559262.html">Dostupné provozovny</a>).</p></td><td colspan="1"><Název></td><td colspan="1">Vybrat provozovnu</td><td colspan="1">Pokud je v rámci ovládacího prvku k dispozici více jak jeden záznam (viz <a href="702uc03-112559262.html">Dostupné provozovny</a>).</td><td colspan="1">Vždy</td><td colspan="1"><p>Pokud je vybrána <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a>, jsou dostupné záznamy pouze pro takové <a href="../../../../datove-modely/datovy-78681044.html">Objekty</a>, které splňují všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Provozovna</strong> odpovídá <a href="../../../../datove-modely/datovy-78681044.html">Provozovně</a> nastavené v rámci tohoto ovládacího prvku.</li></ul><p>Jinak nedochází k omezení právě dostupných záznamů.</p></td><td colspan="1">–</td><td colspan="1">Položka <strong>„Nevybráno“</strong> je k dispozici, pokud je v rámci ovládacího prvku načtena alespoň jedna <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a>. Jedná se pak také o výchozí hodnotu ovládacího prvku.</td></tr><tr><td colspan="1">2</td><td colspan="1">Posunout na předchozí období</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-double-arrow-left</li><li>Barva pruhu: TODO: Dát barvy na jedno místo (#f9c900)</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Posunout na předchozí období</td><td colspan="1">Vždy</td><td colspan="1">Pokud jsou splněny vstupní podmínky volaného alternativního toku.</td><td colspan="1">Po stisknutí dojde ke spuštění <a href="702uc03-112559262.html">AF11: Posunout na předchozí období</a>.</td><td colspan="1">–</td><td colspan="1">Změna zobrazeného období se odvíjí od aktuálního uspořádání kalendáře (komponenta 5).</td></tr><tr><td colspan="1">3</td><td colspan="1">Posunout na přechozí den</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-arrow-left</li><li>Barva pruhu: TODO: Dát barvy na jedno místo (#f9c900)</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Posunout na přechozí den</td><td colspan="1">Vždy</td><td colspan="1">Pokud jsou splněny vstupní podmínky volaného alternativního toku.</td><td colspan="1">Po stisknutí dojde ke spuštění <a href="702uc03-112559262.html">AF09: Posunout na předchozí den</a>.</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">4</td><td colspan="1">Výběr dne</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Barva pruhu: TODO: Dát barvy na jedno místo (#f9c900)</li></ul></td><td colspan="1">25. 11. 2022</td><td colspan="1">Konkrétní datum.</td><td colspan="1"><p>Na vstupu získané datum (vstupní parametr Datum).</p><p>Pokud není hodnota k dispozici, je využito uživatelské nastavení (viz <a href="702uc03-112559262.html">Uživatelské nastavení</a>).</p><p>Pokud není k dispozici ani uživatelské nastavení, je vybrán dnešní den.</p></td><td colspan="1"><Datum></td><td colspan="1">Vybrat den</td><td colspan="1">Vždy</td><td colspan="1">Pokud jsou splněny vstupní podmínky volaného alternativního toku.</td><td colspan="1">Po výběru dojde ke spuštění <a href="702uc03-112559262.html">AF07: Zobrazit den</a>.</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">5</td><td colspan="1">Nastavit uspořádání kalendáře</td><td colspan="1">–</td><td colspan="1"><p>ComboBox</p><ul><li>Barva pruhu: TODO: Dát barvy na jedno místo (#f9c900)</li></ul></td><td colspan="1">Pracovní týden</td><td colspan="1"><p>Výčtový typ <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a>.</p><p>Množina dostupných záznamů odpovídá položkám výčtového typu (viz <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a>; včetně uvedeného pořadí).</p></td><td colspan="1"><p>Je využito uživatelské nastavení (viz <a href="702uc03-112559262.html">Uživatelské nastavení</a>).</p><p>Pokud není k dispozici uživatelské nastavení, je vybrán první dostupný záznam v rámci ovládacího prvku (položka Den, viz <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a>).</p></td><td colspan="1"><Uspořádání kalendáře></td><td colspan="1">Nastavit uspořádání kalendáře</td><td colspan="1">Vždy</td><td colspan="1">Pokud jsou splněny vstupní podmínky volaného alternativního toku.</td><td colspan="1">Po výběru dojde ke spuštění <a href="702uc03-112559262.html">AF08: Změnit uspořádání kalendáře</a>.</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">6</td><td colspan="1">Posunout na následujíc den</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-arrow-right</li><li>Barva pruhu: TODO: Dát barvy na jedno místo (#f9c900)</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Posunout na následujíc den</td><td colspan="1">Vždy</td><td colspan="1">Pokud jsou splněny vstupní podmínky volaného alternativního toku.</td><td colspan="1">Po stisknutí dojde ke spuštění <a href="702uc03-112559262.html">AF10: Posunout na následující den</a>.</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">7</td><td colspan="1">Posunout na následující období</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-double-arrow-right</li><li>Barva pruhu: TODO: Dát barvy na jedno místo (#f9c900)</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Posunout na následující období</td><td colspan="1">Vždy</td><td colspan="1">Pokud jsou splněny vstupní podmínky volaného alternativního toku.</td><td colspan="1">Po stisknutí dojde ke spuštění <a href="702uc03-112559262.html">AF12: Posunout na následující období</a>.</td><td colspan="1">–</td><td colspan="1">Změna zobrazeného období se odvíjí od aktuálního uspořádání kalendáře (komponenta 5).</td></tr><tr><td colspan="1">8</td><td colspan="1">Výběr typu dopravy</td><td colspan="1">–</td><td colspan="1"><p><a href="702uc03-112559262.html">Výběr typu dopravy</a></p><ul><li>Barva pruhu: TODO: Dát barvy na jedno místo (#f9c900)</li></ul></td><td colspan="1">Hákový nakladač, Ramenový nakladač</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Typ dopravy</a>.</p></td><td colspan="1"><p>Na vstupu získané <a href="../../../../datove-modely/datovy-78681044.html">Typy dopravy</a> (vstupní parametr Typy dopravy).</p><p>Pokud není hodnota k dispozici, je využito uživatelské nastavení (viz <a href="702uc03-112559262.html">Uživatelské nastavení</a>).</p><p>Pokud není k dispozici ani uživatelské nastavení, jsou označeny všechny položky v rámci ovládacího prvku (viz <a href="702uc03-112559262.html">Výběr typu dopravy</a>).</p></td><td colspan="1">Vychází z nadpisu, který je zobrazen v rámci ovládacího prvku (viz <a href="702uc03-112559262.html">Výběr typu dopravy</a>).</td><td colspan="1">Odpovídá nadpisu, který je zobrazen v rámci ovládacího prvku (viz <a href="702uc03-112559262.html">Výběr typu dopravy</a>).</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><p>Dle nastavených <a href="../../../../datove-modely/datovy-78681044.html">Typů dopravy</a> se odvíjí dostupné záznamy – záznam je k dispozici, pokud pro odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a> existuje alespoň jedna instance entity <a href="../../../../datove-modely/datovy-78681044.html">Typ dopravy objektu</a>, která splňuje všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Objekt</strong> odpovídá právě zkoumanému <a href="../../../../datove-modely/datovy-78681044.html">Objektu</a>.</li><li>Hodnota atributu <strong>Typ dopravy</strong> odpovídá alespoň jednomu z <a href="../../../../datove-modely/datovy-78681044.html">Typů dopravy</a> nastavených v rámci ovládacího prvku.</li></ul><p>Pokud není v rámci ovládacího prvku zvolen ani jeden <a href="../../../../datove-modely/datovy-78681044.html">Typ dopravy</a>, není k dispozici záznam pro žádný z <a href="../../../../datove-modely/datovy-78681044.html">Objektů</a> (aktuálně jsou načítány pouze <a href="../../../../datove-modely/datovy-78681044.html">Objekty</a> s nastaveným <a href="../../../../datove-modely/datovy-78681044.html">Typem dopravy</a>).</p></td><td colspan="1">–</td><td colspan="1">Pokud existuje pro jeden <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a> více takových <a href="../../../../datove-modely/datovy-78681044.html">Typů dopravy objektu</a>, které vyhovují právě nastaveným <a href="../../../../datove-modely/datovy-78681044.html">Typům dopravy</a> v rámci ovládacího prvku, nedochází ke zdvojení záznamů v kalendáři pro daný <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a>.</td></tr><tr><td colspan="1">9</td><td colspan="1">Založit aktivitu</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-add</li><li>Barva pruhu: TODO: Dát barvy na jedno místo (#2d6d7d)</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Přidat aktivitu</td><td colspan="1">Vždy</td><td colspan="1">Pokud jsou splněny vstupní podmínky volaného alternativního toku.</td><td colspan="1">Po stisknutí dojde ke spuštění <a href="702uc03-112559262.html">AF01: Založit aktivitu</a>.</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">10</td><td colspan="1">Upravit aktivitu</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-pencil</li><li>Barva pruhu: TODO: Dát barvy na jedno místo (#c59ee3)</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Upravit aktivitu</td><td colspan="1">Vždy</td><td colspan="1">Pokud jsou splněny vstupní podmínky volaného alternativního toku.</td><td colspan="1">Po stisknutí dojde ke spuštění <a href="702uc03-112559262.html">AF02: Upravit aktivitu</a>.</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">11</td><td colspan="1">Odebrat aktivitu</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-trash</li><li>Barva pruhu: TODO: Dát barvy na jedno místo (#c59ee3)</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Odebrat aktivitu</td><td colspan="1">Vždy</td><td colspan="1">Pokud jsou splněny vstupní podmínky volaného alternativního toku.</td><td colspan="1">Po stisknutí dojde ke spuštění <a href="702uc03-112559262.html">AF03: Odebrat aktivitu</a>.</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">12</td><td colspan="1">Upravit pravidlo opakování</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-history</li><li>Barva pruhu: TODO: Dát barvy na jedno místo (#c59ee3)</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Upravit pravidlo opakování</td><td colspan="1">Vždy</td><td colspan="1">Pokud jsou splněny vstupní podmínky volaného alternativního toku.</td><td colspan="1">Po stisknutí dojde ke spuštění <a href="702uc03-112559262.html">AF15: Změnit pravidlo opakování aktivity</a>.</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">13</td><td colspan="1">Zastavit generování aktivit</td><td colspan="1">0</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-refresh-hard</li><li>Barva pruhu: TODO: Dát barvy na jedno místo (#c59ee3)</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Zastavit generování dle pravidla opakování</td><td colspan="1">Vždy</td><td colspan="1">Pokud jsou splněny vstupní podmínky volaného alternativního toku.</td><td colspan="1">Po stisknutí dojde ke spuštění <a href="702uc03-112559262.html">AF14: Zastavit generování aktivit</a>.</td><td colspan="1">–</td><td colspan="1">Akce je dostupná pro všechny <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a> s aktivním neomezeným pravidlem opakování.</td></tr><tr><td colspan="1">14</td><td colspan="1">Obnovit data</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-refresh</li><li>Barva pruhu: TODO: Dát barvy na jedno místo (#2d6d7d)</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Obnovit</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Načte aktuální data pro kalendář – zavolá funkci <a href="702uc05-112559809.html">Obnovit data</a> (viz <a href="#" data-page-title="702UC05: Zobrazit horizontální kalendář"></a>).</td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h3>Kalendář</h3><p>Pro zobrazení kalendáře je použita samostatná komponenta, viz <a href="#" data-page-title="702UC05: Zobrazit horizontální kalendář"></a>. Výchozí inicializace je prováděna v rámci <a href="702uc03-112559262.html">Základního toku událostí</a>, další práce s ní je umožněna pomocí veřejných vlastností a funkcí (např. změna zobrazeného období).</p><p><em>Interní poznámka: Pro přehlednost jsou některé specifické funkčnosti horizontálního kalendáře popsány v rámci jeho popisu, i když by měly k dispozici přímo v tomto UC (např. popis kontextové nabídky aktivity).</em></p><p>Při práci s kalendářem mohou vznikat určité události, na které tento UC reaguje. Samotné chování je popsáno v tabulce…</p><table><tbody><tr><th>Událost</th><th colspan="1">Stručný popis</th><th colspan="1">Vstupní podmínky</th><th>Chování</th><th>Poznámka</th></tr><tr><td><a href="702uc05-112559809.html">Dvojklik na plochu položky kalendáře</a></td><td colspan="1">Pokud uživatel pokliká na plochu kalendáře (prostor pod časovou osou), dojde k zobrazení formuláře pro založení <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a> (resp. <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> typu Zakázka).</td><td colspan="1">Jsou splněny vstupní podmínky volaného alternativního toku.</td><td>Dojde ke spuštění <a href="702uc03-112559262.html">AF13: Založit zakázku</a>.</td><td>Událost je aktuálně vyhrazena pro zakládání <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> typu Zakázka (viz <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>).</td></tr><tr><td><p><a href="702uc05-112559809.html">Dvojklik na aktivitu</a></p></td><td colspan="1">Pokud uživatel pokliká na konkrétní <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a>, dojde k zobrazení formuláře pro editaci (samotná možnost editace je pak dána dalšími aspekty, např. oprávnění daného uživatele).</td><td colspan="1">Jsou splněny vstupní podmínky volaného alternativního toku.</td><td>Dojde ke spuštění <a href="702uc03-112559262.html">AF02: Upravit aktivitu</a>.</td><td>Dvojklikem na <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a> dojde k jejímu označení, proto může být využit uvedený alternativní tok. Potřebné informace jsou však k dispozici také v rámci dat této události.</td></tr></tbody></table><h3>Chování</h3><h4>Dostupné provozovny</h4><p>V rámci ovládacího prvku je umožněn výběr jedné z nabízených hodnot. K dispozici jsou pak všechny instance entity <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a>, které splňují následující podmínky:</p><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Uživatel má na instanci oprávnění – vyhodnoceno dle oprávnění na instance entity <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> (viz <a href="../../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>).</li></ul><p>Pokud je obsažena alespoň jedna <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a>, je k dispozici položka „Nevybráno“. Ta je uvedena jako první v pořadí.</p><h4>Výběr typu dopravy</h4><p>Pro nastavení dostupných <a href="../../../../datove-modely/datovy-78681044.html">Typů dopravy</a> je použit ovládací prvek s kontextovou nabídkou, která vychází z rychlého filtru (viz <a href="#" data-page-title="700UI07: Rychlý rozšířený filtr"></a>). Je tedy umožněn výběr několika <a href="../../../../datove-modely/datovy-78681044.html">Typů dopravy</a> zároveň.</p><p>Poznámka: Ovládací prvek je využit např. v přehledu denních výkonů (viz <a href="#" data-page-title="200UI03: Obrazovka přehledu denních výkonů"></a>).</p><h5>Drátový diagram</h5><p><img src="702uc03-zobrazit-dispecerskou-plachtu-112559262_images/image2022-12-6 10-49-43.png" data-attachment="true"></p><h5>Přehled UI komponent</h5><table><tbody><tr><th>Prvek</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Bublinková nápověda</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Nastavení typů dopravy</td><td colspan="1"><p>Nadpis odpovídá aktuálnímu nastavení ovládacího prvku (zvoleným položkám):</p><ul><li>Označeny všechny položky: je zobrazen text <strong>Vybráno vše</strong>.</li><li>Označeno více položek: zobrazený text je ve formátu <strong><Název>, …, <strong><Název></strong></strong> (dle odpovídajících <a href="../../../../datove-modely/datovy-78681044.html">Typů dopravy</a>).</li><li>Označena jedna položka: zobrazený text je ve formátu <strong><Název></strong> (dle odpovídajícího <a href="../../../../datove-modely/datovy-78681044.html">Typu dopravy</a>).</li><li>Neoznačena žádný položka: je zobrazen text <strong>Nevybráno</strong>.</li></ul><p>Interní poznámka: Aktuálně použitý slovenský překlad pro „Vybráno vše“ není v pořádku → chyba.</p></td><td colspan="1">Button</td><td colspan="1">Hákový nakladač, Ramenový nakladač</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Odpovídá právě zobrazenému textu v rámci ovládacího prvku (viz sloupec Nadpis).</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><p>Po stisknutí je zobrazena kontextová nabídky s dostupnými položkami.</p><p>Pokud je již nabídka zobrazena, dojde po stisknutí k jejímu skrytí. Jedná se pak o obdobu zrušení provedených změn (komponenta 5), tomu odpovídají i provedené akce. Stejný postup je použit také po kliknutí mimo ovládací prvek.</p><p>Interní poznámka: Pokud je nabídka zavřena tímto způsobem, nedojde k aktualizaci dostupných. Nastavení v rámci ovládacího prvku tedy neodpovídá aktuálnímu stavu ovládacího prvku → chyba.</p></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Vybrat vše</td><td colspan="1">Vybrat vše</td><td colspan="1">CheckBox</td><td colspan="1">–</td><td colspan="1"><p>Odpovídá stavu ovládacího prvku:</p><ul><li>TRUE: Označeno,</li><li>FALSE: Neoznačeno.</li></ul></td><td colspan="1">TRUE (položka je označena)</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Provede označení všech dostupných položek (viz <a href="../../../uzivatelske-rozhrani/700uixx-obecne/700ui07-83266117.html">Vybrat vše</a>).</td><td colspan="1">–</td><td colspan="1"><p>Provedená akce se odvíjí od právě označených položek.</p></td></tr><tr><td colspan="1">3</td><td colspan="1">Dostupné typy dopravy</td><td colspan="1">Hodnota atributu Název odpovídajícího <a href="../../../../datove-modely/datovy-78681044.html">Typu dopravy</a> (liší se dle konkrétní položky).</td><td colspan="1">CheckBox</td><td colspan="1">Hákový nakladač</td><td colspan="1"><p>Odpovídá stavu ovládacího prvku:</p><ul><li>TRUE: Označeno,</li><li>FALSE: Neoznačeno.</li></ul></td><td colspan="1">TRUE (položka je označena)</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><p>K dispozici jsou takové <a href="../../../../datove-modely/datovy-78681044.html">Typy dopravy</a>, u kterých je hodnota atributu <strong>Je k dispozici</strong> nastavena na <strong>TRUE</strong> (viz <a href="../../../uzivatelske-rozhrani/700uixx-obecne/700ui07-83266117.html">Položka filtru</a>).</p></td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">4</td><td colspan="1">Uložit provedené změny</td><td colspan="1">Vybrat</td><td colspan="1">Button</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Provede nastavení provedených změn v rámci ovládacího prvku (aktualizuje výčet označených <a href="../../../../datove-modely/datovy-78681044.html">Typů dopravy</a>).</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">5</td><td colspan="1">Zrušit provedené změny</td><td colspan="1">Storno</td><td colspan="1">Button</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Provede zrušení provedených změn v rámci ovládacího prvku (zachová stávající výčet označených <a href="../../../../datove-modely/datovy-78681044.html">Typů dopravy</a>).</td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h2>Detail kalendáře</h2><p>Detail nádoby je popsán samostatně, viz <a href="#" data-page-title="702UC08: Zobrazit detail položky horizontálního kalendáře">702UC08: Zobrazit detail položky horizontálního kalendáře</a>, na vstupu jsou pak předány dále uvedené hodnoty:</p><ul><li><strong>Vozidlo</strong>: parametr <strong>Vozidlo</strong> veřejného atributu <strong>Poslední označené vozidlo</strong> v rámci <a href="#" data-page-title="702UC05: Zobrazit horizontální kalendář">702UC05: Zobrazit horizontální kalendář</a> (může být předáno NULL).</li><li><strong>Datum od</strong>: parametr <strong>Datum od</strong> veřejného atributu <strong>Zobrazené období</strong> v rámci <a href="#" data-page-title="702UC05: Zobrazit horizontální kalendář">702UC05: Zobrazit horizontální kalendář</a>.</li><li><strong>Datum do</strong>: parametr <strong>Datum do</strong> veřejného atributu <strong>Zobrazené období</strong> v rámci <a href="#" data-page-title="702UC05: Zobrazit horizontální kalendář">702UC05: Zobrazit horizontální kalendář</a>.</li></ul><p>Poznámka: Detail je aktualizován nejen při jeho zobrazení, ale i při každé změně označeného záznamu.</p><h2>Chování</h2><h3>Změna rozložení obrazovky</h3><p>Na úrovni obrazovky můžeme nastavit nejen viditelnost jednotlivých panelů, ale také jejich rozměry. Místa, se kterými je možné „posouvat“, jsou pak zobrazena na obrázku (naznačeno žlutě). Dochází zde ke změně poměru výšky/šířky mezi jednotlivými panely.</p><ol><li>Změna šířky detailu kalendáře – meze jsou dány minimální šířkou dispečerské plachty a detailu kalendáře.</li></ol><p><img src="702uc03-zobrazit-dispecerskou-plachtu-112559262_images/image2024-8-4 11-8-51.png" data-attachment="true"></p><h3>Interakce v rámci obrazovky</h3><p>Jednotlivé panely v rámci obrazovky mezi sebou komunikují. My si nyní jednotlivé toky informací popíšeme.</p><h4>Zobrazení detailních informací</h4><p>Pokud je zobrazen alespoň jeden z panelů s detailními informacemi (viz <a href="702uc03-112559262.html">Detail kalendáře</a>), dochází po označení konkrétního kalendáře (řádku s vozidlem) k zobrazení detailních informací o něm. Předaná hodnota je pak specifikována na úrovni popisu odpovídajícího panelu obrazovky. K označení konkrétního kalendáře dochází v těchto případech:</p><ul><li>kliknutí levým tlačítkem myši na konkrétní kalendář (položku kalendáře),</li><li>kliknutí levým tlačítkem myši na zakázku (označena odpovídající položka kalendáře),</li><li>kliknutí levým tlačítkem myši na kolizi (označena odpovídající položka kalendáře),</li><li>označení zakázky v rámci kontextové nabídky kolize (viz <a href="#" data-page-title="702UC05: Zobrazit horizontální kalendář">702UC05: Zobrazit horizontální kalendář</a>).</li></ul><p>Poznámka: Pokud není v rámci obrazovky označen žádný kalendář (řádek s vozidlem), je v panelu s detailními informacemi uveden zástupný text (pokud je panel zobrazen).</p><h2>Uživatelská nastavení</h2><p>V rámci obrazovky jsou použita <a href="#" data-page-title="Uživatelská nastavení klienta"></a>. Prvky, u kterých je ukládáno uživatelské nastavení, jsou pak uvedeny ve formě tabulky. Jejich výchozí hodnota odpovídá popisu uživatelského rozhraní.</p><table><tbody><tr><th>Funkční celek</th><th>Ukládaná hodnota</th><th>Poznámka</th></tr><tr><td colspan="1"><a href="702uc03-112559262.html">Nástrojová lišta</a></td><td colspan="1"><p>Stav ovládacích prvků:</p><ul><li>Výběr provozovny (komponenta 1),</li><li>Výběr dne (komponenta 4),</li><li>Výběr zobrazeného období (komponenta 5).</li><li>Výběr typu dopravy (komponenta 8).</li></ul></td><td colspan="1">–</td></tr><tr><td colspan="1"><a href="702uc03-112559262.html">Detail kalendáře</a></td><td colspan="1">Vychází z uživatelského nastavení použitého panelu, viz <a href="#" data-page-title="702UC08: Zobrazit detail položky horizontálního kalendáře">702UC08: Zobrazit detail položky horizontálního kalendáře</a>.</td><td colspan="1">Panel může být použit v rámci více UC, proto je jeho uživatelské nastavení ukládáno zde.</td></tr></tbody></table><h2>Parametry URL</h2><p>Specifikace URL parametrů je definována samostatně, viz <a href="https://confluence.radium.cz/display/mpgskdispecer/Stavy+v+URL+parametrech#StavyvURLparametrech-Dispe%C4%8Dersk%C3%A1plachta">Stavy v URL parametrech</a>.</p><h1>Grafický návrh</h1><p>TODO</p><h1>Revize</h1><h3>4. 8. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="702uc03-112559262.html">Základní tok událostí</a></td><td colspan="1">Doplněno nastavení patičky kalendáře (naznačeno modře, přidáno <strong>9. 8. 2024</strong>).</td></tr><tr><td colspan="1"><a href="702uc03-112559262.html">Uživatelské rozhraní</a></td><td colspan="1">Doplněno chování související s detailem kalendáře (naznačeno modře).</td></tr><tr><td colspan="1"><a href="702uc03-112559262.html">Nástrojová lišta</a></td><td colspan="1">Doplněno tlačítko pro změnu pravidla opakování (naznačeno modře, přidáno <strong>16. 8. 2024</strong>).</td></tr><tr><td colspan="1"><a href="702uc03-112559262.html">Hlavička aplikace</a></td><td colspan="1">Doplněno chování související s detailem kalendáře (naznačeno modře).</td></tr><tr><td colspan="1"><a href="702uc03-112559262.html">Detail kalendáře</a></td><td colspan="1">Doplněno chování související s detailem kalendáře (naznačeno modře).</td></tr><tr><td colspan="1"><p><a href="702uc03-112559262.html">Chování</a></p></td><td colspan="1">Doplněno chování související s detailem kalendáře (naznačeno modře).</td></tr><tr><td colspan="1"><a href="702uc03-112559262.html">Uživatelská nastavení</a></td><td colspan="1">Doplněno chování související s detailem kalendáře (naznačeno modře).</td></tr><tr><td colspan="1"><a href="702uc03-112559262.html">AF02: Upravit aktivitu</a></td><td colspan="1"><p>Doplněno chování související s kontextovou nabídkou kolize (naznačeno modře, přidáno <strong>7. 8. 2024</strong>).</p><p>Doplněno chování související se změnou pravidla opakování aktivity (naznačeno modře, přidáno <strong>13. 8. 2024</strong>).</p></td></tr><tr><td colspan="1"><a href="702uc03-112559262.html">AF15: Změnit pravidlo opakování aktivity</a></td><td colspan="1">Doplněno chování související se změnou pravidla opakování (naznačeno modře, přidáno <strong>16. 8. 2024</strong>).</td></tr></tbody></table><h3>5. 2. 2024 M. Slivoně</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="702uc03-112559262.html">ALG01: Získat objekty</a></td><td colspan="1">Doplněna kontrola Objektu na aktivitu jeho Provozovny (naznačeno zeleně).</td></tr></tbody></table><h3>1. 2. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="702uc03-112559262.html">Nástrojová lišta</a></td><td colspan="1">Revize dostupných provozoven (naznačeno modře).</td></tr><tr><td colspan="1"><a href="702uc03-112559262.html">Dostupné provozovny</a></td><td colspan="1">Revize dostupných provozoven (naznačeno modře).</td></tr></tbody></table><h3>6. 3. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="702uc03-112559262.html">Výběr typu dopravy</a></td><td colspan="1">Doplněna podpora pro nové typy dopravy (naznačeno oranžově).</td></tr></tbody></table><h3>6. 3. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="702uc03-112559262.html">AF03: Odebrat aktivitu</a></td><td colspan="1">Revize chování při odebírání aktivit v minulosti (naznačeno růžově).</td></tr></tbody></table><h3>16. 1. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="702uc03-112559262.html">AF01: Založit aktivitu</a></td><td colspan="1">Doplněno chování pro aktivity s pravidlem opakování (naznačeno modře).</td></tr><tr><td colspan="1"><a href="702uc03-112559262.html">AF03: Odebrat aktivitu</a></td><td colspan="1">Revize chování pro aktivity s pravidlem opakování (naznačeno modře).</td></tr><tr><td colspan="1"><a href="702uc03-112559262.html">AF13: Založit zakázku</a></td><td colspan="1">Doplněno chování pro aktivity s pravidlem opakování (naznačeno modře).</td></tr><tr><td colspan="1"><a href="702uc03-112559262.html">AF14: Zastavit generování aktivit</a></td><td colspan="1">Doplněn alternativní tok pro zastavení generování aktivit dle neomezeného pravidla opakování (naznačeno modře).</td></tr><tr><td colspan="1"><a href="702uc03-112559262.html">Nástrojová lišta</a></td><td colspan="1">Doplněna možnost zastavit pravidlo opakování (naznačeno modře).</td></tr></tbody></table>
</div>
</body>
</html>
