<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>702UC05: Zobrazit horizontální kalendář</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je zobrazení horizontálního kalendáře. Jedná se pak o obecnou komponentu, která slouží k zobrazení <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> (resp. odvozených tříd) vzhledem k časové ose. V rámci komponenty je pak možné volat další funkce, které slouží k zobrazení požadovaných informací.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="../../../../high-level-concept/akteri-78680673.html">Aktéři</a>.</p><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na zobrazení horizontálního kalendáře, a to jedním z uvedených způsobů:</p><ul><li>Uživatel zadá požadavek na zobrazení dispečerské plachty (viz <a href="#" data-page-title="702UC03: Zobrazit dispečerskou plachtu"></a>).</li></ul><h2>Vstupní podmínky</h2><p>Poznámka: Možnost spuštění případu užití je dána nadřazeným UC.</p><h2>Vstupní data</h2><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Nadpis hlavičky kalendáře</td><td colspan="1">Řetězec</td><td colspan="1">Ne</td><td colspan="1">Nadpis v hlavičce kalendáře.</td><td colspan="1">Ve výchozím stavu není nadpis k dispozici (není zobrazena hodnota).</td></tr><tr><td colspan="1">Nadpis patičky kalendáře</td><td colspan="1">Řetězec</td><td colspan="1">Ne</td><td colspan="1">Nadpis pro počet položek v patičce kalendáře.</td><td colspan="1"><p>Pokud není k dispozici nadpis, není zobrazena ani odpovídající prvek v patičce.</p><p>Souvisí se vstupním parametrem <strong>Nadpis hlavičky kalendáře</strong>.</p></td></tr><tr><td colspan="1">Zobrazený den</td><td colspan="1">Datum</td><td colspan="1">Ne</td><td colspan="1">Datum, pro které je provedeno výchozí zobrazení kalendáře.</td><td colspan="1">Výchozí hodnotou je dnešní datum.</td></tr><tr><td colspan="1">Uspořádání kalendáře</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a></td><td colspan="1">Ne</td><td colspan="1">Rozložení, ve kterém je kalendář zobrazen.</td><td colspan="1">Výchozí hodnotou je Den (viz <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a>).</td></tr></tbody></table><p>Poznámka: Vstupní data jsou použita pro prvotní načtení kalendáře. Jeho další nastavení je prováděno pomocí dostupných funkcí (viz <a href="702uc05-112559809.html">Rozhraní komponenty</a>).</p><h1>Základní tok událostí</h1><ol><li>Systém zobrazí horizontální kalendář (viz <a href="702uc05-112559809.html">Uživatelské rozhraní</a>).</li><li>Systém zpřístupní dostupné funkčnosti.</li></ol><p>Poznámka: Samotné načítání dat je zajištěno nadřazeným UC, který postupně volá funkce k tomu určené.</p><h1>Alternativní toky událostí</h1><p>–</p><h1>Výjimkové toky událostí</h1><p>–</p><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Uživateli byl zobrazen horizontální kalendář, ten umožňoval spuštění dílčích funkčností.</p><h2>Výstupní data</h2><p>–</p><h1>Algoritmy</h1><h2>ALG01: Vyhodnotit kolizi aktivit</h2><p>Cílem algoritmu je vyhodnocení, zda právě zkoumaná <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> není v kolizi s jinou <a href="../../../../datove-modely/datovy-78681044.html">Aktivitou</a> vloženou na stejnou položku kalendáře.</p><h3>Vstupní data</h3><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">První aktivita</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a></td><td colspan="1">Ano</td><td colspan="1">První z aktivit, u které má být vyhodnocena kolize.</td><td colspan="1">–</td></tr><tr><td colspan="1">Druhá aktivita</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a></td><td colspan="1">Ano</td><td colspan="1">Druhá z aktivit, u které má být vyhodnocena kolize.</td><td colspan="1">–</td></tr></tbody></table><h3>Tok událostí</h3><ol><li>Systém vyhodnotí, zda jsou na vstupu získané <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> v kolizi:<br><ol><li>Pokud jsou splněny všechny dále uvedené podmínky, jsou <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> v kolizi – na výstupu předáno <strong>TRUE</strong> (výstupní parametr <strong>Je v kolizi</strong>).<br><ul><li>Hodnota atributu <strong>Začátek aktivity</strong> druhé <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (vstupní parametr <strong>Druhá aktivita</strong>) je větší nebo rovna hodnotě atributu Začátek aktivity první <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (vstupní parametr <strong>První aktivita</strong>).</li><li>Hodnota atributu <strong>Začátek aktivity</strong> druhé <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (vstupní parametr <strong>Druhá aktivita</strong>) je menší než hodnota atributu Začátek aktivity první <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (vstupní parametr <strong>První aktivita</strong>).</li></ul></li><li>Jinak <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> v kolizi nejsou – na výstupu předáno <strong>FALSE</strong> (výstupní parametr <strong>Je v kolizi</strong>).</li></ol></li></ol><p>Poznámka: Na vstupu získané <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> jsou předávány ve vzestupném pořadí – druhá aktivita tedy nezačíná před první aktivitou (případně jsou do této podoby vstupní data transformována). Některé z možných situací jsou naznačeny na obrázku.</p><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2023-1-2 10-49-7.png" data-attachment="true"></p><h3>Výstupní data</h3><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Je v kolizi</td><td colspan="1">Boolean</td><td colspan="1">Ano</td><td colspan="1">Informace, zda je právě zkoumaná aktivita v kolizi s některou z již obsažených aktivit v rámci položky kalendáře.</td><td colspan="1">Umožní provést případné další akce v nadřazeném UC.</td></tr></tbody></table><h1>Validace</h1><p>–</p><h1>Rozhraní komponenty</h1><h2>Veřejné atributy</h2><h3>Poslední označená aktivita</h3><p>V rámci atributu je evidována poslední označená <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> kalendáře. K dispozici jsou informace uvedené v tabulce.</p><p>Poznámka: Nemusí být označen žádný záznam, pak není v rámci atributu předána žádná hodnota.</p><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Externí identifikátor položky kalendáře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Externí identifikátor položky kalendáře, v rámci které se vyskytuje poslední označená aktivita.</td><td colspan="1">–</td></tr><tr><td colspan="1">Aktivita</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a></td><td colspan="1">Ano</td><td colspan="1">Aktivita, která byla označena jako poslední.</td><td colspan="1">Na výstupu je předána instance této entity, případně její identifikace.</td></tr></tbody></table><h3>Poslední označené vozidlo</h3><p>V rámci atributu je evidován poslední označený <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a> kalendáře. K dispozici jsou informace uvedené v tabulce.</p><p>Poznámka: Nemusí být označen žádný záznam, pak není v rámci atributu předána žádná hodnota.</p><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Externí identifikátor položky kalendáře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Externí identifikátor položky kalendáře, v rámci které se vyskytuje poslední označené vozidlo.</td><td colspan="1">–</td></tr><tr><td colspan="1">Vozidlo</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Objekt</a></td><td colspan="1">Ano</td><td colspan="1">Objekt, který se vyskytuje v rámci položky kalendáře, která byla označena jako poslední.</td><td colspan="1">Na výstupu je předána instance této entity, případně její identifikace.</td></tr></tbody></table><h3>Zobrazené období</h3><p>V rámci atributu je evidováno aktuálně zobrazené období v kalendáři. K dispozici jsou informace uvedené v tabulce. Způsob, jakým jsou získány, se pak odvíjí od aktuálně nastaveného <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a> (viz <a href="702uc05-112559809.html">Časové uspořádání kalendáře</a>).</p><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Datum od</td><td colspan="1">Datum</td><td colspan="1">Ano</td><td colspan="1">Začátek aktuálně zobrazeného období v kalendáři.</td><td colspan="1">První den daného období.</td></tr><tr><td colspan="1">Datum do</td><td colspan="1">Datum</td><td colspan="1">Ano</td><td colspan="1">Konec aktuálně zobrazeného období v kalendáři.</td><td colspan="1">Poslední den daného období.</td></tr></tbody></table><h2>Veřejné události</h2><h3>Dvojklik na aktivitu</h3><p>Pokud uživatel „poklepe“ na konkrétní <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a>, je vyvolána odpovídající událost. Předány jsou pak informace uvedené v tabulce.</p><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Externí identifikátor položky kalendáře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Externí identifikátor položky kalendáře, v rámci které provedl uživatel dvojklik na aktivitu.</td><td colspan="1">–</td></tr><tr><td colspan="1">Aktivita</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a></td><td colspan="1">Ano</td><td colspan="1">Aktivita, na kterou uživatel poklepal.</td><td colspan="1">Na výstupu je předána instance této entity, případně její identifikace.</td></tr></tbody></table><h3>Dvojklik na plochu položky kalendáře</h3><p>Pokud uživatel „poklepe“ na plochu <a href="702uc05-112559809.html">Položky kalendáře</a> (část pod časovou osou), je vyvolána odpovídající událost. Předány jsou pak informace uvedené v tabulce.</p><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Externí identifikátor položky kalendáře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Externí identifikátor položky kalendáře, v rámci které provedl uživatel dvojklik.</td><td colspan="1">–</td></tr><tr><td colspan="1">Datum a čas</td><td colspan="1">Datum a čas</td><td colspan="1">Ano</td><td colspan="1">Datum a čas odpovídající místu, na které uživatel poklepal.</td><td colspan="1">–</td></tr></tbody></table><h3>Editace aktivity</h3><p>Pokud uživatel provede akci, která přímo představuje požadavek na editaci <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>, je vyvolána odpovídající událost. Předány jsou pak informace uvedené v tabulce.</p><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Externí identifikátor položky kalendáře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Externí identifikátor položky kalendáře, v rámci které se vyskytuje <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>, pro kterou je požadována editace.</td><td colspan="1">–</td></tr><tr><td colspan="1">Aktivita</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a></td><td colspan="1">Ano</td><td colspan="1">Aktivita, pro kterou je požadována editace..</td><td colspan="1">Na výstupu je předána instance této entity, případně její identifikace.</td></tr></tbody></table><h2>Veřejné funkce</h2><p>Po dobu běhu případu užití mohou být nad komponentou prováděny další akce, jedná se např. o načítání dat, změnu způsobu jejich zobrazení a podobně. Uvedené funkce jsou pak volány z nadřazeného UC (viz <a href="702uc05-112559809.html">Spuštění případu užití</a>).</p><h3>Přidat položku kalendáře</h3><p>Umožní přidat položku kalendáře, do které již mohou být přímo vkládány konkrétní <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>.</p><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Externí identifikátor položky kalendáře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Externí identifikátor položky kalendáře, pomocí které jsou volány další funkce.</td><td colspan="1">Typicky odpovídá identifikátoru instance dané entity, pro kterou je položka kalendáře přidávána (např. <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a>).</td></tr><tr><td colspan="1">Zobrazený text</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Text, který je zobrazen v hlavičce položky kalendáře.</td><td colspan="1">–</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Systém vyhodnotí, zda se vkládaná položka v kalendáři již vyskytuje – pokud jsou splněny všechny dále uvedené podmínky zároveň, tok událostí předčasně končí.<br><ul><li>Je obsažena <a href="702uc05-112559809.html">Položka kalendáře</a>, u které se identifikátor rovná hodnotě vstupního parametru <strong>Externí identifikátor položky kalendáře</strong>.</li></ul></li><li>Systém vloží do kalendáře novou položku (viz <a href="702uc05-112559809.html">Položka kalendáře</a>) – provede následující akce:<br><ul><li>Vloží nový řádek kalendáře – umístěn jako v pořadí poslední.</li><li>Nastaví identifikátor vloženého řádku kalendáře – hodnota vstupního parametru <strong>Externí identifikátor položky kalendáře</strong>.</li><li>Nastaví textovou identifikaci vloženého řádku kalendáře – hodnota vstupního parametru <strong>Zobrazený text</strong>.</li></ul></li><li>Systém aktualizuje zobrazení aktuálního času (viz <a href="702uc05-112559809.html">Vykreslení aktuálního času</a>).</li></ol><p>Poznámka: Výchozí pořadí položek kalendáře je dáno pořadím, ve kterém jsou tyto položky vloženy. Aktuálně pak není možné pořadí uživatelsky měnit. </p><h4>Výstupní data</h4><p>–</p><h3>Přidat aktivitu</h3><p>Umožní přidat <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a>, ta je vkládána přímo na požadovanou položku kalendáře.</p><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Externí identifikátor položky kalendáře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Externí identifikátor položky kalendáře, do které má být aktivita vložena.</td><td colspan="1">–</td></tr><tr><td colspan="1">Aktivita</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a></td><td colspan="1">Ano</td><td colspan="1">Aktivita, která má být vložena do odpovídající položky kalendáře.</td><td colspan="1">–</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Systém vyhodnotí, zda je odpovídající <a href="702uc05-112559809.html">Položka kalendáře</a>již vložena – pokud jsou splněny všechny dále uvedené podmínky zároveň, tok událostí předčasně končí.<br><ul><li> Není obsažena <a href="702uc05-112559809.html">Položka kalendáře</a>, u které se identifikátor rovná hodnotě vstupního parametru <strong>Externí identifikátor položky kalendáře</strong>.</li></ul></li><li>Systém vyhodnotí, zda se vkládaná <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> v kalendáři již vyskytuje – pokud jsou splněny všechny dále uvedené podmínky zároveň, tok událostí předčasně končí.<br><ul><li>Je obsažena <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>, která odpovídá hodnotě vstupního parametru <strong>Aktivita</strong> (vyhodnocováno na úrovni všech obsažených <a href="702uc05-112559809.html">Položek kalendáře</a>).</li></ul></li><li>Systém vloží na odpovídající <a href="702uc05-112559809.html">Položku kalendáře</a> (viz krok 1) na vstupu získanou <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a> (vstupní parametr Aktivita) – provede následující akce:<br><ul><li>Vloží <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a> na odpovídající řádek kalendáře (viz <a href="702uc05-112559809.html">Vykreslení aktivity</a>).</li><li>Vyhodnotí, zda je vložená <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> v kolizi s některou z dalších <a href="../../../../datove-modely/datovy-78681044.html">Aktivitami</a> (viz <a href="702uc05-112559809.html">Zobrazení kolize aktivit</a>).</li></ul></li><li>Systém aktualizuje zobrazení aktuálního času (viz <a href="702uc05-112559809.html">Vykreslení aktuálního času</a>).</li></ol><h4>Výstupní data</h4><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Je v kolizi</td><td colspan="1">Boolean</td><td colspan="1">Ano</td><td colspan="1">Informace, zda je vložená aktivita kolizní s některou z již obsažených aktivit.</td><td colspan="1">Umožní provést případné další akce v nadřazeném UC.</td></tr></tbody></table><h3>Zobrazit požadovaný den</h3><p>Umožní zobrazit v kalendáři požadovaný den (včetně specifikace <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a>).</p><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Zobrazený den</td><td colspan="1">Datum</td><td colspan="1">Ano</td><td colspan="1">Datum, pro které je provedena změna zobrazení kalendáře.</td><td colspan="1">–</td></tr><tr><td colspan="1">Uspořádání kalendáře</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a></td><td colspan="1">Ano</td><td colspan="1">Rozložení, ve kterém je kalendář zobrazen.</td><td colspan="1">–</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Systém aktualizuje zobrazení kalendáře dle na vstupu získaných informací (viz <a href="702uc05-112559809.html">Časové uspořádání kalendáře</a>).<br><ul><li><strong>Způsob zobrazení</strong>: zobrazení konkrétního dne (dle hodnoty vstupního parametru <strong>Zobrazený den</strong>).</li><li><strong>Uspořádání kalendáře</strong>: hodnota vstupního parametru <strong>Uspořádání kalendáře</strong>.</li></ul></li><li>Systém aktualizuje zobrazení <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> dle nově zobrazeného období (viz <a href="702uc05-112559809.html">Vykreslení aktivity</a>).</li><li>Systém aktualizuje zobrazení kolizí <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> (viz <a href="702uc05-112559809.html">Zobrazení kolize aktivit</a>).</li><li>Systém aktualizuje zobrazení aktuálního času (viz <a href="702uc05-112559809.html">Vykreslení aktuálního času</a>).</li></ol><h4>Výstupní data</h4><p>–</p><h3>Posunout o den</h3><p>Umožní posunout aktuální zobrazení kalendáře o 1 den (směr posunu je specifikován na vstupu).</p><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Posunout dopředu</td><td colspan="1">Boolean</td><td colspan="1">Ano</td><td colspan="1">Pokud je předáno TRUE, dochází k posunu na další den. V případě FALSE dochází k posunu na předchozí den.</td><td colspan="1">–</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Systém aktualizuje zobrazení kalendáře dle na vstupu získaných informací (viz <a href="702uc05-112559809.html">Časové uspořádání kalendáře</a>).<br><ul><li><strong>Způsob zobrazení</strong>: posun o 1 den (dle hodnoty vstupního parametru <strong>Posunout dopředu</strong>: TRUE – další den, FALSE – předchozí den).</li><li><strong>Uspořádání kalendáře</strong>: zachováno stávající uspořádání kalendáře.</li></ul></li><li>Systém aktualizuje zobrazení <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> dle nově zobrazeného období (viz <a href="702uc05-112559809.html">Vykreslení aktivity</a>).</li><li>Systém aktualizuje zobrazení kolizí <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> (viz <a href="702uc05-112559809.html">Zobrazení kolize aktivit</a>).</li><li>Systém aktualizuje zobrazení aktuálního času (viz <a href="702uc05-112559809.html">Vykreslení aktuálního času</a>).</li></ol><h4>Výstupní data</h4><p>–</p><h3>Obnovit data</h3><p>Zajistí obnovení informací o <a href="../../../../datove-modely/datovy-78681044.html">Aktivitách</a> zobrazených v kalendáři (v rámci běhu UC je udržována reference na vložené <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>).</p><h4>Vstupní data</h4><p>–</p><h4>Tok událostí</h4><ol><li>Systém aktualizuje zobrazení kalendáře (viz <a href="702uc05-112559809.html">Časové uspořádání kalendáře</a>).<br><ul><li><strong>Způsob zobrazení</strong>: zachován aktuálně zobrazený den.</li><li><strong>Uspořádání kalendáře</strong>: zachováno stávající uspořádání kalendáře.</li></ul></li><li>Systém aktualizuje zobrazení <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> dle nově zobrazeného období (viz <a href="702uc05-112559809.html">Vykreslení aktivity</a>).</li><li>Systém aktualizuje zobrazení kolizí <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> (viz <a href="702uc05-112559809.html">Zobrazení kolize aktivit</a>).</li><li>Systém aktualizuje zobrazení aktuálního času (viz <a href="702uc05-112559809.html">Vykreslení aktuálního času</a>).</li></ol><h4>Výstupní data</h4><p>–</p><h1>Uživatelské rozhraní</h1><p>Komponenta jako taková je složena z jednotlivých položek, které představují dílčí kalendáře. Zobrazení kalendářů je pak umožněno v rámci dostupných režimů (viz <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a>).</p><p>Poznámka: Způsob vykreslení je z důvodu přehlednosti pevně nastaven. Tím je myšleno především použití barev vkládaných aktivit, které by se mohlo lišit dle nadřazeného UC (různý způsob vykreslení na různých místech). Obecnější popis bude doplněn až v případě potřeby.</p><h2>Drátový diagram</h2><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2024-8-9 9-50-54.png" data-attachment="true"></p><h2>Přehled UI komponent</h2><table><tbody><tr><th>Prvek</th><th>Skupina</th><th>Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1"><a href="702uc05-112559809.html">Hlavička kalendáře</a></td><td colspan="1">Kromě nadpisu obsahuje také časovou osu pro zobrazené položky kalendáře.</td></tr><tr><td colspan="1">2</td><td colspan="1"><a href="702uc05-112559809.html">Položka kalendáře</a></td><td colspan="1">Jednotlivé položky zobrazené v rámci kalendáře.</td></tr><tr><td colspan="1">3</td><td colspan="1"><a href="702uc05-112559809.html">Patička kalendáře</a></td><td colspan="1">Souhrnné informace o právě zobrazených položkách kalendáře.</td></tr></tbody></table><h2>Hlavička kalendáře</h2><p>Hlavička kalendáře je rozdělena na 2 základní části – nadpis dílčích <a href="702uc05-112559809.html">Položek kalendáře</a> a časovou osu. Rozložení časové osy se pak může měnit, vychází z právě nastaveného <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a>.</p><h3>Drátový diagram</h3><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2022-12-8 9-28-1.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Prvek</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Bublinková nápověda</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Nadpis</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">Vozidlo</td><td colspan="1">Na vstupu získaná hodnota (vstupní parametr Nadpis hlavičky kalendáře).</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Časová osa</td><td colspan="1">–</td><td colspan="1">Časová osa</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Rozložení je popsáno samostatně, viz <a href="702uc05-112559809.html">Časové uspořádání kalendáře</a>.</td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h2>Položka kalendáře</h2><p>Položka kalendáře je rozdělena na 2 základní části – textovou identifikaci a samotný prostor pro vkládání <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a>. Rozložení prostoru pro <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> se pak může měnit, vychází z právě nastaveného <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a>.</p><ul><li>Výška položky kalendáře je nastavena dle položky <strong>calendarHeight</strong> konfigurační hodnoty <strong>dispatcherBoardSettings</strong> (viz <a href="../../../../konfiguracni-81592468.html">Konfigurační hodnoty</a>).</li><li>Jedná se pak o dočasné řešení, kdy je cílem možnost nastavení rozložení kalendáře přímo uživatelem (na úrovni uživatelského nastavení).</li><li>Implementace by s tímto plánovaným rozvojem měla počítat.</li></ul><h3>Drátový diagram</h3><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2022-12-8 9-28-19.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Prvek</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Bublinková nápověda</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Textová identifikace</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">5AX 8574</td><td colspan="1">Hodnota specifikována voláním odpovídající funkce (např. založení či modifikace položky kalendáře).</td><td colspan="1">–</td><td colspan="1">Šířka sloupce je nastavena dle položky <strong>calendarHeaderWidth</strong> konfigurační hodnoty <strong>dispatcherBoardSettings</strong> (viz <a href="../../../../konfiguracni-81592468.html">Konfigurační hodnoty</a>).</td><td colspan="1"><p>Odpovídá hodnotě, která je zobrazen v rámci ovládacího prvku (viz sloupec <strong>Hodnota</strong>).</p><p> <em>Není implementvoáno.</em><br></p></td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1"><p>Sloupec s hlavičkou je ukotven vlevo. Je tedy zobrazen bez ohledu na pozici horizontálního posuvníku.</p></td></tr><tr><td colspan="1">2</td><td colspan="1">Plocha kalendáře</td><td colspan="1">–</td><td colspan="1">Plocha kalendáře</td><td colspan="1">–</td><td colspan="1">Entita <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> – záznamy specifikovány voláním odpovídající funkce (např. založení či modifikace aktivity).</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Rozložení je popsáno samostatně, viz <a href="702uc05-112559809.html">Časové uspořádání kalendáře</a>.</td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h2>Patička kalendáře</h2><p>Patička obsahuje souhrnné informace o <a href="702uc05-112559809.html">Položkách kalendáře</a>. Současně je využita jako „dopadová“ plocha pro odebrání <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> při Drag&Drop režimu.</p><h3>Drátový diagram</h3><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2024-8-9 10-0-9.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Prvek</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Bublinková nápověda</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Počet položek kalendáře</td><td colspan="1"><p>Na vstupu získaná hodnota:</p><ul><li><Nadpis patičky kalendáře>:</li></ul></td><td colspan="1">Label</td><td colspan="1">10</td><td colspan="1">Počet aktuálně dostupných <a href="702uc05-112559809.html">Položek kalendáře</a> (přidány pomocí veřejné funkce <a href="702uc05-112559809.html">Přidat položku kalendáře</a>).</td><td colspan="1">–</td><td colspan="1"><p><Získaná hodnota></p><p>Zobrazený text je graficky zvýrazněn.</p><ul><li>Řez písma: tučné.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud je k dispozici hodnota vstupního parametru <strong>Nadpis patičky kalendáře</strong>.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Uvažovány jsou také aktuálně aplikované filtry.</td></tr><tr><td colspan="1">2</td><td colspan="1">Počet zakázek</td><td colspan="1">Zakázky:</td><td colspan="1">Label</td><td colspan="1">48</td><td colspan="1">Počet aktuálně dostupných <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> typu <strong>Zakázka </strong>(atribut <strong>Typ aktivity</strong>, viz <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>; přidány pomocí veřejné funkce <a href="702uc05-112559809.html">Přidat aktivitu</a>).</td><td colspan="1">–</td><td colspan="1"><p><Získaná hodnota></p><p>Zobrazený text je graficky zvýrazněn.</p><ul><li>Řez písma: tučné.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Uvažovány jsou také aktuálně aplikované filtry.</td></tr></tbody></table><h2>Chování</h2><h3>Časové uspořádání kalendáře</h3><p>Rozložení položky kalendáře (včetně časové osy) se může za běhu měnit. Výsledná podoba se pak odvíjí od nastaveného <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a>, jednotlivé možnosti si popíšeme:</p><ul><li><a href="702uc05-112559809.html">Den</a> – je zobrazen právě 1 den.</li><li><a href="702uc05-112559809.html">Pracovní týden</a> – jsou zobrazeny pracovní dny týdne (po-pá).</li><li><a href="702uc05-112559809.html">Týden</a> – jsou zobrazeny všechny dny týdne (po-ne).</li><li><a href="702uc05-112559809.html">Měsíc</a> – jsou zobrazeny všechny dny měsíce.</li></ul><p>S právě nastaveným rozložením souvisí další specifika důležitá pro práci s kalendářem.</p><ul><li>Časová osa je rozdělena na 2 části, kdy jedna představuje nějaké souhrnné označení pro dané období, druhá pak podrobnější časové určení. Vycházíme pak z právě použitého <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a>.</li><li>Pokud chceme změnit zobrazené období při zachování nastaveného rozložení, musíme vycházet z právě použitého <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a>. Typicky pak řešíme zobrazení požadovaného dne a posun o 1 den.</li></ul><p>Výsledná šířka kalendáře je pevně dána, vychází z několika základních faktorů…</p><ul><li>šířka hlavičky (dáno konfigurační hodnotou; sloupec <strong>Vozidlo</strong>),</li><li>nastavené <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a> (vychází z odpovídající konfigurační hodnoty).</li></ul><p><em>Uvedené nastavení šířky kalendáře pak představuje dočasné řešení…</em></p><ul><li><em>Jedná se o rychlou úpravu pro zvýšení přehlednosti kalendáře (pevně dáno na úrovni konfiguračních hodnot).</em></li><li><em>Cílem je možnost uživatelského nastavení rozložení kalendáře (na úrovni uživatelského nastavení).</em></li><li><em>Implementace by s tímto plánovaným rozvojem měla počítat.</em></li></ul><p>Poznámka: Pokud je zobrazeno dnešní datum, je naznačen aktuální čas (viz <a href="702uc05-112559809.html">Vykreslení aktuálního času</a>).</p><h4>Den</h4><p>V rámci položky kalendáře je zobrazen právě 1 den, který je rozdělen na 24 úseků (po 1 hodině).</p><ul><li>Formát souhrnného období: <strong>ddd, d. M. yyyy</strong> (např. <strong>pá, 25. 11. 2022</strong>).</li><li>Formát časového určení: <strong>HH</strong> (např. <strong>06</strong>).</li></ul><p>Šířka nejmenšího úseku (1 hodina) je dána položkou <strong>calendarDayWidth</strong> konfigurační hodnoty <strong>dispatcherBoardSettings</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty">Konfigurační hodnoty</a>).</p><p>Při požadavku na změnu zobrazeného období pak postupujeme následovně…</p><ul><li><strong>Zobrazení dne</strong>: Je zobrazen požadovaný den.</li><li><strong>Posun o 1 den</strong>: Je zobrazen předchozí/následující den (směr je určen dle požadované akce).</li></ul><p>Poznámka: Jedná se o největší detail, který je možné v kalendáři zobrazit. Vždy je zobrazen alespoň jeden celý den.</p><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2022-12-8 9-53-5.png" data-attachment="true"></p><h4>Pracovní týden</h4><p>V rámci položky kalendáře je zobrazeno právě 5 dní, kdy je každý den rozdělen na 4 úseky (po 6 hodinách).</p><ul><li>Formát souhrnného období: <strong>ddd, d. M. yyyy</strong> (např. <strong>pá, 25. 11. 2022</strong>).</li><li>Formát časového určení: <strong>HH-HH</strong> (např. <strong>06-12</strong>).</li></ul><p>Šířka nejmenšího úseku (6 hodin) je dána položkou <strong>calendarWorkingWeekWidth</strong> konfigurační hodnoty <strong>dispatcherBoardSettings</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty">Konfigurační hodnoty</a>).</p><p>Při požadavku na změnu zobrazeného období pak postupujeme následovně…</p><ul><li><strong>Zobrazení dne</strong>: Je zobrazeno období o délce 5 dní, které začíná pondělím a končí pátkem takového týdne, který obsahuje požadovaný den.<br><ul><li>Pokud požadovaný den představuje sobotu či neděli, systém nastaví <a href="../../../../datove-modely/datovy-78681044.html">Uspořádání kalendáře</a> na hodnotu <a href="702uc05-112559809.html">Týden</a>.</li></ul></li><li><strong>Posun o 1 den</strong>: Zobrazené období se posune o 1 den (směr je určen dle požadované akce).</li></ul><p>Poznámka: Ve výchozím stavu jsou zobrazeny dny od pondělí do pátku. Při posunu o 1 den pak může být výchozí rozložení porušeno (např. středa až neděle).</p><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2022-12-8 9-53-49.png" data-attachment="true"></p><h4>Týden</h4><p>V rámci položky kalendáře je zobrazeno právě 7 dní, kdy je každý den rozdělen na 4 úseky (po 6 hodinách).</p><ul><li>Formát souhrnného období: <strong>ddd, d. M. yyyy</strong>(např. <strong>st, 23. 11. 2022</strong>).</li><li>Formát časového určení: <strong>HH-HH</strong>(např. <strong>06-12</strong>).</li></ul><p>Šířka nejmenšího úseku (6 hodin) je dána položkou <strong>calendarWeekWidth</strong> konfigurační hodnoty <strong>dispatcherBoardSettings</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty">Konfigurační hodnoty</a>).<br></p><p>Při požadavku na změnu zobrazeného období pak postupujeme následovně…</p><ul><li><strong>Zobrazení dne</strong>: Je zobrazeno období o délce 7 dní, které začíná pondělím a končí nedělí takového týdne, který obsahuje požadovaný den.</li><li><strong>Posun o 1 den</strong>: Zobrazené období se posune o 1 den (směr je určen dle požadované akce).</li></ul><p>Poznámka: Ve výchozím stavu jsou zobrazeny dny od pondělí do neděle. Při posunu o 1 den pak může být výchozí rozložení porušeno (např. středa až úterý).</p><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2022-12-8 9-54-4.png" data-attachment="true"></p><h4>Měsíc</h4><p>V rámci položky kalendáře je zobrazeno 28-31 dní (dle konkrétního měsíce), kdy jednotlivé dny nejsou dále děleny.</p><ul><li>Formát souhrnného období: <strong>MMMM yyyy</strong> (např. <strong>listopad 2022</strong>).</li><li>Formát časového určení: <strong>d. M.</strong>(např. <strong>5. 11.</strong>).</li></ul><p>Šířka nejmenšího úseku (1 den) je dána položkou <strong>calendarMonthWidth</strong> konfigurační hodnoty <strong>dispatcherBoardSettings</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty">Konfigurační hodnoty</a>).<br></p><p>Při požadavku na změnu zobrazeného období pak postupujeme následovně…</p><ul><li><strong>Zobrazení dne</strong>: Je zobrazeno období, kdy délka tohoto období odpovídá počtu dní měsíce, který obsahuje požadovaný den. Období pak začíná prvním dnem daného měsíce a končí posledním dnem tohoto měsíce.</li><li><strong>Posun o 1 den</strong>: Zobrazené období se posune o 1 den (směr je určen dle požadované akce).</li></ul><p>Poznámka: Ve výchozím stavu je zobrazeno období od prvního do posledního dne daného měsíce. Při posunu o 1 den pak může být výchozí rozložení porušeno (např. druhá polovina listopadu spolu s první polovinou prosince).</p><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2022-12-8 9-54-30.png" data-attachment="true"></p><h3>Vykreslení aktuálního času</h3><p>V rámci kalendáře je vykreslen aktuální čas, ten je znázorněn pomocí svislé čáry přes celou výšku kalendáře (resp. jeho položek). Samotné chování si popíšeme, náhled je pak naznačen na obrázku.</p><ul><li>Pokud aktuálně zobrazené období obsahuje aktuální čas, dojde k jeho vykreslení. Použitá barva je dána položkou <strong>currentTimeColor</strong> konfigurační hodnoty <strong>dispatcherBoardSettings</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty">Konfigurační hodnoty</a>).</li><li>K aktualizaci polohy aktuálního času dochází při každém načtení kalendáře (např. obnovení dat či vložení aktivity). Nedochází k němu tedy automaticky např. v předepsaném časovém intervalu.</li></ul><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2022-12-8 11-52-14.png" data-attachment="true"></p><p>Poznámka: Náhled je pouze ilustrativní.</p><h3>Vykreslení aktivity</h3><p>Jednotlivé <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> mohou být vykresleny v různých částech kalendáře, umístění se pak odvíjí především od typu těchto <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a>. My si zde popíšeme společné prvky chování, konkrétní způsob vykreslení dle zmíněného typu je pak popsán samostatně. Postupovat budeme dle jednotlivých prvků kalendáře.</p><table><tbody><tr><th>Část kalendáře</th><th>Typ aktivity</th><th>Poznámka </th></tr><tr><td colspan="1"><a href="702uc05-112559809.html">Hlavička kalendáře</a></td><td colspan="1">–</td><td colspan="1">Aktuálně není pro vykreslení <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> využito.</td></tr><tr><td colspan="1"><a href="702uc05-112559809.html">Položka kalendáře</a></td><td colspan="1"><p>V rámci této části kalendáře mohou být vloženy <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> různých typů (atribut Typ aktivity, viz <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>). Jejich pořadí při vykreslení je pak dáno pořadím v rámci uvedeného popisu (první uvedený <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a> je vykreslen na pozadí, poslední uvedený v popředí):</p><ol><li>Dovolená (viz <a href="702uc05-112559809.html">Vykreslení dovolené</a>), <em>Není řešeno v úvodní fázi.</em></li><li>Servis (viz <a href="702uc05-112559809.html">Vykreslení servisu</a>), <em>Není řešeno v úvodní fázi.</em></li><li>Zakázka (viz <a href="702uc05-112559809.html">Vykreslení zakázky</a>).</li></ol></td><td colspan="1">–</td></tr></tbody></table><h4>Vykreslení zakázky</h4><p>Při vykreslení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> typu Zakázka potřebujeme znát nejen její bližší specifikaci (konkrétní <a href="../../../../datove-modely/datovy-78681044.html">Zakázku</a>), ale také identifikaci konkrétní položky kalendáře. Vstupní data jsou pak popsána v tabulce.</p><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Externí identifikátor položky kalendáře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Externí identifikátor položky kalendáře, v rámci které má být aktivita vykreslena.</td><td colspan="1">–</td></tr><tr><td colspan="1">Zakázka</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a></td><td colspan="1">Ano</td><td colspan="1">Zakázka, která má být vykreslena v rámci odpovídající položky kalendáře.</td><td colspan="1">–</td></tr></tbody></table><p>V první řadě musíme specifikovat odpovídající <a href="702uc05-112559809.html">Položku kalendáře</a>, tu nalezneme pomocí identifikace získané na vstupu algoritmu (vstupní parametr <strong>Externí identifikátor položky kalendáře</strong>). Pokud taková <a href="702uc05-112559809.html">Položka kalendáře</a> není právě zobrazena (např. z důvodu nastavení filtru), algoritmus končí. V opačném případě je nalezená <a href="702uc05-112559809.html">Položka kalendáře</a> použita pro vykreslení <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a>.</p><p>Způsob vykreslení <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a> je pak dán aktuálně zobrazeným obdobím v kalendáři (časová osa, viz <a href="702uc05-112559809.html">Hlavička kalendáře</a>) a dobou trvání odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (atribut Aktivita získané <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a>):</p><ul><li><strong>Začátek</strong>: hodnota atributu <strong>Začátek aktivity</strong>.</li><li><strong>Konec</strong>: hodnota atributu <strong>Konec aktivity</strong>.</li></ul><p>Výška, kterou je zakázka vykreslena, je dána položkou <strong>activityOrderHeight</strong> konfigurační hodnoty <strong>dispatcherBoardSettings</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty">Konfigurační hodnoty</a>).</p><ul><li><em>Jedná se pak o dočasné řešení, kdy je cílem možnost nastavení rozložení kalendáře přímo uživatelem (na úrovni uživatelského nastavení).</em></li><li><em>Implementace by s tímto plánovaným rozvojem měla počítat.</em></li></ul><p>Poznámka: Pokud se některá z uvedených mezí vyskytuje mimo právě zobrazené období, je zobrazena pouze taková část <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>, která odpovídá aktuálnímu zobrazení (viz náhled, řádky 8E3 5484, 8E3 9112).</p><p>Nyní se dostáváme k výsledné podobě dané <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a>. Zde řešíme hned několik aspektů zobrazení, ty si nyní popíšeme…</p><ul><li><strong>Zobrazený text</strong>: hodnota atributu <strong>Název objednavatele</strong>.<br><ul><li><strong>Barva písma</strong>: Barva je dána přímo konkrétní <a href="../../../../datove-modely/datovy-78681044.html">Zakázkou</a>, může se pak lišit dle toho, zda došlo k jejímu označení…<br><ul><li><strong>Neoznačená</strong>: atribut <strong>Kód výchozí barvy textu</strong> entity <a href="../../../../datove-modely/datovy-78681044.html">Barva aktivity</a> – atribut <strong>Barva aktivity</strong> entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> – atribut <strong>Aktivita</strong> dané <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a>.</li><li><strong>Označená</strong>: atribut <strong>Kód zvýrazněné barvy textu</strong> entity <a href="../../../../datove-modely/datovy-78681044.html">Barva aktivity</a> – atribut <strong>Barva aktivity</strong> entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> – atribut <strong>Aktivita</strong> dané <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a>.</li></ul></li><li><strong>Barva písma</strong>: Použitá barva <strong>Zakázka – text</strong> (viz <a href="../../../../konfiguracni-81592468.html">Požité barvy: Dispečerská plachta – modul</a>).</li><li><strong>Velikost písma</strong>: Velikost písma je dána položkou <strong>activityOrderFontSize</strong> konfigurační hodnoty <strong>dispatcherBoardSettings</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty">Konfigurační hodnoty</a>).</li><li><strong>Zarovnání</strong>: Na střed.</li><li><strong>Poznámka</strong>: Pokud není možné zobrazit celý text, je vypsána pouze část odpovídající šířce <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>, ten je zarovnán vlevo (viz náhled, řádky 5E2 1238, 7E8 8547, 8E1 2545).</li></ul></li><li><strong>Barva zakázky</strong>: Barva je dána přímo konkrétní <a href="../../../../datove-modely/datovy-78681044.html">Zakázkou</a>, může se pak lišit dle toho, zda došlo k jejímu označení…<ul><li><strong>Neoznačená</strong>: atribut <strong>Kód výchozí barvy </strong>entity <a href="../../../../datove-modely/datovy-78681044.html">Barva aktivity</a> – atribut <strong>Barva aktivity</strong> entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> – atribut <strong>Aktivita</strong> dané <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a>.</li><li><strong>Označená</strong>: atribut <strong>Kód zvýrazněné barvy </strong>entity <a href="../../../../datove-modely/datovy-78681044.html">Barva aktivity</a> – atribut <strong>Barva aktivity</strong> entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> – atribut <strong>Aktivita</strong> dané <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a>.<br></li></ul></li><li><strong>Barva zakázky</strong>: Barva se může lišit dle konkrétní <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a>, popis je tedy uveden v tabulce (odlišujeme také označené záznamy).</li></ul><table><tbody><tr><th>Podmínky</th><th>Barva – výchozí</th><th>Barva – označená</th><th>Poznámka</th></tr><tr><td><p>Jedná se o vlastní <a href="../../../../datove-modely/datovy-78681044.html">Zakázku</a> – dále uvedené hodnoty si odpovídají:</p><ul><li>Entita <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> – atribut <strong>Provozovna</strong> entita <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> – atribut <strong>Aktivita</strong> entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>.</li><li>Entita <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> – atribut <strong>Provozovna</strong> entity <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a> – hledáme pak takový <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a>, u kterého hodnota atributu <strong>Externí identifikátor FLW</strong> odpovídá externímu identifikátoru <a href="702uc05-112559809.html">Položky kalendáře</a>.</li></ul></td><td><strong>Zakázka</strong> (viz <a href="../../../../konfiguracni-81592468.html">Požité barvy: Dispečerská plachta – modul</a>).</td><td><strong>Zakázka – označená</strong> (viz <a href="../../../../konfiguracni-81592468.html">Požité barvy: Dispečerská plachta – modul</a>).</td><td><em>Barva je nově nastavována při zakládání zakázek.</em></td></tr><tr><td>Jedná se o <a href="../../../../datove-modely/datovy-78681044.html">Zakázku</a> jiné <a href="../../../../datove-modely/datovy-78681044.html">Provozovny</a> – není splněna předchozí podmínka.</td><td><strong>Zakázka – cizí provozovna</strong> (viz <a href="../../../../konfiguracni-81592468.html">Požité barvy: Dispečerská plachta – modul</a>).</td><td><strong>Zakázka – cizí provozovna – označená</strong> (viz <a href="../../../../konfiguracni-81592468.html">Požité barvy: Dispečerská plachta – modul</a>).</td><td><p>Typicky se jedná o výpůjčky vozidel.</p><p><em>Zakázky cizí provozovny jsou vykresleny jiným způsobem.</em></p></td></tr></tbody></table><p>Dále na úrovni každé <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a> vyhodnocujeme, zda se jedná o tzv. výpůjčku – případ, kdy se <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> této <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a> liší od <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> přiřazeného vozidla (resp. <a href="../../../../datove-modely/datovy-78681044.html">Objektu</a>).  </p><ul><li>Entita <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> – atribut <strong>Provozovna</strong> entita <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> – atribut <strong>Aktivita</strong> entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>.</li><li>Entita <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> – atribut <strong>Provozovna</strong> entity <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a> – hledáme pak takový <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a>, u kterého hodnota atributu <strong>Externí identifikátor FLW</strong> odpovídá externímu identifikátoru <a href="702uc05-112559809.html">Položky kalendáře</a>.</li></ul><p>Pokud se jedná o <a href="../../../../datove-modely/datovy-78681044.html">Zakázku</a> cizí <a href="../../../../datove-modely/datovy-78681044.html">Provozovny</a> (dříve uvedené hodnoty se liší), dochází ke zvýraznění této <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a> v kalendáři…</p><ul><li>dojde k navýšení tloušťky ohraničení,</li><li>ohraničení je vykresleno přerušovanou čarou,</li><li>barva ohraničení odpovídá aktuální barvě textu (viz dříve).</li></ul><p>Způsob vykreslení <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a> tohoto typu je naznačen na obrázku (vozidlo <strong>3AR4205</strong>, zakázka <strong>Benzina</strong>).</p><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2024-8-11 14-7-52.png" data-attachment="true"></p><p>Pokud <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> vznikla dle pravidla opakování (hodnota atributu Pravidlo opakování odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> je různá od NULL), je při zobrazení doplněna indikace této skutečnosti.</p><ul><li><strong>Ikona</strong>: Použita ikona <strong>ra-spin</strong>.</li><li><strong>Barva</strong>: Použita aktuální barva textu <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a>, viz dříve. Použita barva <strong>Zakázka – text</strong> (viz <a href="../../../../konfiguracni-81592468.html">Požité barvy: Dispečerská plachta – modul</a>).</li><li><strong>Zarovnání</strong>: Vpravo.</li><li><strong>Poznámka</strong>: Pokud není možné zobrazit celou ikonu, dochází k jejímu skrytí. Různé situace zobrazení jsou pak naznačeny na obrázku…<br><ul><li><strong>5E2 1238</strong> – dostupný prostor umožňuje zobrazení celého textu včetně ikony.</li><li><strong>7E8 8547</strong> – dostupný prostor umožňuje zobrazení části textu a celé ikony,</li><li><strong>8E1 2545</strong> – dostupný prostor neumožňuje zobrazení ani textu, ani ikony.</li></ul></li></ul><p>V závěru je uveden náhled s ukázkami způsoby vykreslení různých <a href="../../../../datove-modely/datovy-78681044.html">Zakázek</a>.</p><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2023-1-11 16-21-28.png" data-attachment="true"></p><h4>Vykreslení servisu</h4><p><em>Není řešeno v úvodní fázi.</em></p><h4>Vykreslení dovolené</h4><p><em>Není řešeno v úvodní fázi.</em></p><h3>Zobrazení kolize aktivit</h3><p>Může nastat situace, kdy se jednotlivé <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> v rámci dané položky kalendáře překrývají. V takovém případě je tento překryv graficky znázorněn. Vyhodnocení pak probíhá na úrovni jednotlivých položek kalendáře, postup je následující…</p><ol><li>Systém připraví pomocnou kolekci <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> – vloží všechny takové <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>, které jsou právě zobrazeny v rámci právě zkoumané položky kalendáře. Seřazeny jsou následovně (při shodě v rámci hodnoty využito více kritérií v daném pořadí):<br><ol><li>atribut <strong>Začátek aktivity</strong> (vzestupně),</li><li>atribut <strong>Konec aktivity</strong> (vzestupně),</li><li><strong>interní identifikátor</strong> záznamu (vzestupně).</li></ol></li><li>Systém porovnává <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> pomocné kolekce do doby, kdy je tato kolekce prázdná:<br><ol><li>Systém porovnává v pořadí první <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a> pomocné kolekce se všemi ostatními <a href="../../../../datove-modely/datovy-78681044.html">Aktivitami</a> této kolekce (v pořadí od druhé k poslední <a href="../../../../datove-modely/datovy-78681044.html">Aktivitě</a>):<br><ol><li>Systém vyhodnotí, zda je první <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> pomocné kolekce v kolizi s tou právě zkoumanou – spustí <a href="702uc05-112559809.html">ALG01: Vyhodnotit kolizi aktivit</a>, na vstup jsou předány následující informace:<br><ul><li><strong>První aktivita</strong>: v pořadí první <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> pomocné kolekce. </li><li><strong>Druhá aktivita</strong>: právě zkoumaná <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</li></ul></li><li>Pokud je první <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> pomocné kolekce v kolizi s tou právě zkoumanou (na výstupu algoritmu <a href="702uc05-112559809.html">ALG01: Vyhodnotit kolizi aktivit</a> je předáno <strong>TRUE</strong>, výstupní parametr <strong>Je v kolizi</strong> ), systém provede vykreslení této kolize (viz dále) – doba trvání je získána následovně:<br><ul><li><strong>Začátek kolize</strong>: hodnota atributu <strong>Začátek aktivity</strong> právě zkoumané <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>.</li><li><strong>Konec kolize</strong>: hodnota atributu <strong>Konec aktivity</strong> první <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> pomocné kolekce.</li></ul></li><li>Systém odebere první <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a> z pomocné kolekce (není dále porovnávána).</li></ol></li></ol></li></ol><p>Poznámka: Uvedený algoritmus zajišťuje to, že je pro každou dvojici <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> vykreslena maximálně jedna kolize.</p><p><em>Interní poznámka: V rámci aktuální implementace je kolize vykreslována pro každou <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a>. Každá kolize je tedy vykreslena minimálně dvakrát. </em></p><p>Doba trvání kolize, jak bylo zmíněno dříve, je dána jejím začátkem a koncem (viz algoritmus). Samotné vykreslení pak probíhá „nad“ řešenými <a href="../../../../datove-modely/datovy-78681044.html">Aktivitami</a> (překrývá je) následovně:</p><ul><li><strong>Zobrazený text</strong>: není zobrazen žádný text.</li><li><strong>Barva</strong>: položka <strong>activityOrderCollisionColor</strong> konfigurační hodnoty <strong>dispatcherBoardSettings</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty">Konfigurační hodnoty</a>).<ul><li><em>Poznámka: Aktuálně řešeno pouze na úrovni <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> typu <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>.</em></li></ul></li></ul><p>Výška, kterou je kolize vykreslena, je dána položkou <strong>activityOrderCollisionHeight</strong> konfigurační hodnoty <strong>dispatcherBoardSettings</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty">Konfigurační hodnoty</a>).</p><ul><li><em>Jedná se pak o dočasné řešení, kdy je cílem možnost nastavení rozložení kalendáře přímo uživatelem (na úrovni uživatelského nastavení).</em></li><li><em>Implementace by s tímto plánovaným rozvojem měla počítat.</em></li></ul><p>Poznámka: Pokud se některá z uvedených kolizí vyskytuje mimo právě zobrazené období, je zobrazena pouze taková její část, která odpovídá aktuálnímu zobrazení (viz náhled, řádky 8E1 2545).</p><p> <img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2023-1-1 19-28-28.png" data-attachment="true"></p><p>Příklad běžné kolize je pro úplnost naznačen podrobněji, jedná se pak pouze o schematické zobrazení.</p><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2023-1-1 19-34-7.png" data-attachment="true"></p><h4>Zobrazení kontextové nápovědy kolize aktivit</h4><p>Mezi jednotlivými <a href="../../../../datove-modely/datovy-78681044.html">Aktivitami</a> mohou vznikat kolize (viz dříve). Pro každou z nich je pak dostupná kontextová nápověda, v rámci které jsou zobrazeny informace právě o kolizních <a href="../../../../datove-modely/datovy-78681044.html">Aktivitách</a>…</p><ul><li>Dostupné <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> jsou vyhodnoceny dle polohy kurzoru myši v rámci daného kalendáře (viz <a href="702uc05-112559809.html">Dostupné aktivity v kolizi</a>).</li><li>Dostupné informace vychází z typu dané <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (atribut <strong>Typ aktivity</strong>, viz <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>).</li><li>Nabídka je zobrazena po najetí kurzorem myši na kolizi.</li></ul><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2024-8-7 14-42-53.png" data-attachment="true"><br></p><h5>Drátový diagram</h5><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2024-8-7 10-22-25.png" data-attachment="true"></p><h5>Přehled UI komponent</h5><table><tbody><tr><th>Prvek</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Bublinková nápověda</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Informace o aktivitě</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">SEVA s.r.o. (Palackého 14, 120 00 Praha)</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</p></td><td colspan="1">–</td><td colspan="1">Vychází z typu dané <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (viz <a href="702uc05-112559809.html">Formát aktivity v kolizi</a>).</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pro každou získanou <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a> (viz <a href="702uc05-112559809.html">Dostupné aktivity v kolizi</a>) je dostupný jeden řádek kontextové nápovědy.</td></tr></tbody></table><h4>Zobrazení kontextové nabídky kolize aktivit</h4><p>Mezi jednotlivými <a href="../../../../datove-modely/datovy-78681044.html">Aktivitami</a> mohou vznikat kolize (viz dříve). Pro každou z nich je pak dostupná kontextová nabídka, v rámci které jsou k dispozice akce právě pro kolizní <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>…</p><ul><li>Dostupné <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> jsou vyhodnoceny dle polohy kurzoru myši v rámci daného kalendáře (viz <a href="702uc05-112559809.html">Dostupné aktivity v kolizi</a>).</li><li>Dostupné akce vychází z typu dané <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (atribut <strong>Typ aktivity</strong>, viz <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>).</li><li>Nabídka je zobrazena po kliknutí pravým tlačítkem myši na kolizi.</li></ul><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2024-8-7 14-43-17.png" data-attachment="true"><br></p><h5>Drátový diagram</h5><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2024-8-7 10-55-48.png" data-attachment="true"></p><h5>Přehled UI komponent</h5><table><tbody><tr><th>Prvek</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Bublinková nápověda</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Označit aktivitu</td><td colspan="1">Vychází z typu dané <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (viz <a href="702uc05-112559809.html">Formát aktivity v kolizi</a>).</td><td colspan="1">Button</td><td colspan="1">–</td><td colspan="1"><p>–</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Označí odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a> (je aktualizována hodnota veřejného atributu <a href="702uc05-112559809.html">Poslední označená aktivita</a>).</td><td colspan="1">–</td><td colspan="1">Pro každou získanou <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a> (viz <a href="702uc05-112559809.html">Dostupné aktivity v kolizi</a>) je dostupný jeden řádek kontextové nabídky.</td></tr><tr><td colspan="1">2</td><td colspan="1">Upravit aktivitu</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-pencil</li></ul></td><td colspan="1">–</td><td colspan="1"><p>–</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><p>Označí odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a> (je aktualizována hodnota veřejného atributu <a href="702uc05-112559809.html">Poslední označená aktivita</a>).</p><p>Vyvolá veřejnou událost <a href="702uc05-112559809.html">Editace aktivity</a> pro odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a>.</p></td><td colspan="1">–</td><td colspan="1">Aktuálně je tlačítko dostupné vždy. Pokud nemá uživatel potřebná oprávnění, dochází v nadřazeném UC k zobrazení formuláře v režimu pro čtení.</td></tr></tbody></table><h4>Dostupné aktivity v kolizi</h4><p>Pokud chceme zobrazit kontextovou nápovědu nebo kontextovou nabídku kolize, potřebujeme mít k dispozici všechny <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>, které se v ní vyskytují…</p><ul><li>Vyhodnocení probíhá oproti aktuální poloze kurzoru myši (na této pozici se vyskytuje kolize).</li><li>Kontextová nápověda i nabídka je dostupná pouze v případě výskytu kolize na tomto místě.</li><li>Pracujeme pak na úrovni konkrétní položky kalendáře (daného vozidla).</li></ul><p>Hledáme tedy takové <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>, které splňují všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Začátek aktivity</strong> je menší nebo roven zkoumanému času (dle polohy kurzoru myši).</li><li>Hodnota atributu <strong>Konec aktivity</strong> je větší než zkoumaný čas (dle polohy kurzoru myši).</li><li>Pokud se jedná o aktivitu typu <strong>Zakázka</strong> (atribut <strong>Typ aktivity</strong>, viz <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>):<br><ul><li>Hodnota atributu <strong>Vozidlo</strong> dané <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a> odpovídá <a href="../../../../datove-modely/datovy-78681044.html">Objektu</a> položky kalendáře.</li></ul></li></ul><p>Získané <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> jsou pak vzestupně seřazeny dle dále uvedených atributů:</p><ul><li>Začátek aktivity,</li><li>Konec aktivity,</li><li>interní identifikátor záznamu.</li></ul><h4>Formát aktivity v kolizi</h4><p>Jednotlivé <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> v kolizi jsou reprezentovány formátovaným řetězcem, jeho formát je pak dán <a href="../../../../datove-modely/datovy-78681044.html">Typem aktivity</a> (atribut <strong>Typ aktivity</strong>).</p><table><tbody><tr><th>Typ aktivity</th><th colspan="1">Hodnota</th><th colspan="1">Příklad hodnoty</th><th>Formát</th><th>Poznámka</th></tr><tr><td>Zakázka</td><td colspan="1">Odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> (v rámci atributu <strong>Aktivita</strong> odkazuje na danou <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a>).</td><td colspan="1">SEVA s.r.o. (Palackého 14, 120 00 Praha)</td><td><p><Název objednavatele> (<Adresa místa realizace>)</p><p>Zobrazená hodnota položky <strong>Adresa místa realizace</strong> je v uvedeném formátu: <a href="../../../../pouzivane-81592337.html">Úplná adresa</a>.</p><p>Pokud není hodnota atributu <strong>Adresa místa realizace</strong> k dispozici:</p><ul><li><Název objednavatele></li></ul></td><td>–</td></tr><tr><td><em>Servis</em></td><td colspan="1"><em>–</em></td><td colspan="1"> </td><td><em>–</em></td><td><em>Uvedený <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a> není aktuálně implementován.</em></td></tr><tr><td><em>Dovolená</em></td><td colspan="1"><em>–</em></td><td colspan="1"> </td><td><em>–</em></td><td><em>Uvedený <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a> není aktuálně implementován.</em></td></tr></tbody></table><h3>Zobrazení kontextové nápovědy aktivity</h3><p>Pro jednotlivé <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> je dostupná kontextová nabídka s detailními informacemi, ta je zobrazena po najetí kurzorem myši na konkrétní <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a>. Dostupné informace pak vychází z jejího typu (atribut Typ aktivity, viz <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>).</p><h4>Kontextová nápověda zakázky</h4><p>Kontextová nabídka je určena pro <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> typu <strong>Zakázka</strong> (viz <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>). Zdrojem informací je tedy konkrétní instance entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>.</p><h5>Drátový diagram</h5><p><img src="702uc05-zobrazit-horizontalni-kalendar-112559809_images/image2022-12-9 8-34-9.png" data-attachment="true"></p><h5>Přehledu UI komponent</h5><table><tbody><tr><th>Prvek</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Bublinková nápověda</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Typ aktivity</td><td colspan="1">Typ aktivity</td><td colspan="1">Label</td><td colspan="1">Zakázka</td><td colspan="1">Entita <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> – atribut Aktivita entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>.</td><td colspan="1">–</td><td colspan="1"><Typ aktivity></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Vznikla dle pravidla opakování</td><td colspan="1">Ikona: ra-spin.</td><td colspan="1">Label</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud je hodnota atributu <strong>Pravidlo opakování</strong> entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> k dispozici (atribut Aktivita entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>).</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Indikace je zobrazena, pokud byla <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> generováno dle pravidla opakování.</td></tr><tr><td colspan="1">3</td><td colspan="1">Provozovna</td><td colspan="1">Provozovna</td><td colspan="1">Label</td><td colspan="1">SM Pardubice</td><td colspan="1">Entita <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> – atribut Provozovna entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> – atribut Aktivita entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>.</td><td colspan="1">–</td><td colspan="1"><p><Název></p><p>Pokud nemá uživatel oprávnění na odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Provozovnu</a>, je zobrazen zástupný text: <strong>Chybí oprávnění</strong> (vyhodnoceno dle oprávnění na instance entit, viz <a href="../../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>).</p><p><br></p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> mohla být vložena uživatelem jiné provozovny (výpůjčky vozidel), na tu však nemusí mít právě přihlášený uživatel oprávnění.</td></tr><tr><td colspan="1">4</td><td colspan="1">Název zákazníka</td><td colspan="1">Název objednavatele</td><td colspan="1">Label</td><td colspan="1">LEGO Production s.r.o.</td><td colspan="1">Entita <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>.</td><td colspan="1">–</td><td colspan="1"><Název objednavatele></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Hodnota je uložena jako prostý text, není tedy nutné vyhodnocovat oprávnění na <a href="../../../../datove-modely/datovy-78681044.html">Zákazníky</a>.</td></tr><tr><td colspan="1">5</td><td colspan="1">Adresa místa realizace</td><td colspan="1">Adresa místa realizace</td><td colspan="1">Label</td><td colspan="1">Korunní 44, 120 00 Praha</td><td colspan="1">Entita <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>.</td><td colspan="1">–</td><td colspan="1"><p><Adresa místa realizace></p><p>Zobrazená hodnota je v uvedeném formátu: <a href="../../../../pouzivane-81592337.html">Úplná adresa</a>.</p><p>Pokud není <a href="../../../../datove-modely/datovy-78681044.html">Adresa</a> k dispozici, není zobrazena žádná hodnota.</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud je k dispozici hodnota.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Hodnota je uložena jako <a href="../../../../datove-modely/datovy-78681044.html">Adresa</a>, není tedy nutné vyhodnocovat oprávnění na <a href="../../../../datove-modely/datovy-78681044.html">Zákazníky</a>.</td></tr><tr><td colspan="1">6</td><td colspan="1">Identifikace objektu</td><td colspan="1">Vozidlo</td><td colspan="1">Label</td><td colspan="1">5E1 8546</td><td colspan="1">Entita <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a> – atribut Vozidlo entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>.</td><td colspan="1">–</td><td colspan="1"><p><Identifikátor objektu></p><p>Pokud není <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a> k dispozici, není zobrazena žádná hodnota.</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud je k dispozici hodnota.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">7</td><td colspan="1">Typ nádoby</td><td colspan="1">Typ nádoby</td><td colspan="1">Label</td><td colspan="1">20 m3, krytý</td><td colspan="1">Entita <a href="../../../../datove-modely/datovy-78681044.html">Typ nádoby</a> – atribut Typ nádoby entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>.</td><td colspan="1">–</td><td colspan="1"><p><Název></p><p>Pokud není <a href="../../../../datove-modely/datovy-78681044.html">Typ nádoby</a> k dispozici, není zobrazena žádná hodnota.</p><p>Pokud nemá uživatel oprávnění na zobrazení <a href="../../../../datove-modely/datovy-78681044.html">Typů nádob</a>, je zobrazen zástupný text: <strong>Chybí oprávnění</strong> (vyhodnoceno dle oprávnění na typy entit: <strong>Typy nádob - zobrazení</strong>, viz <a href="../../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>).</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud je k dispozici hodnota.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">8</td><td colspan="1">Druh odpadu</td><td colspan="1">Druh odpadu</td><td colspan="1">Label</td><td colspan="1">010202</td><td colspan="1">Entita <a href="../../../../datove-modely/datovy-78681044.html">Druh odpadu</a> – atribut Druh odpadu entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>.</td><td colspan="1">–</td><td colspan="1"><p><Kód></p><p>Pokud není <a href="../../../../datove-modely/datovy-78681044.html">Druh odpadu</a> k dispozici, není zobrazena žádná hodnota.</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud je k dispozici hodnota.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">9</td><td colspan="1">Poznámka</td><td colspan="1">Poznámka</td><td colspan="1">Label</td><td colspan="1">Před realizací potvrdit zakázku se zákazníkem.</td><td colspan="1">Entita <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>.</td><td colspan="1">–</td><td colspan="1"><Poznámka></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud je k dispozici hodnota.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">10</td><td colspan="1">Začátek aktivity</td><td colspan="1">Začátek aktivity</td><td colspan="1">Label</td><td colspan="1">21. 9. 2022, 6:00</td><td colspan="1">Entita <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> – atribut Aktivita entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>.</td><td colspan="1">–</td><td colspan="1"><p><Začátek aktivity></p><p>Zobrazená hodnota je v uvedeném formátu: <a href="../../../../pouzivane-81592337.html">Datum a čas</a>.</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">11</td><td colspan="1">Konec aktivity</td><td colspan="1">Konec aktivity</td><td colspan="1">Label</td><td colspan="1">21. 9. 2022, 8:00</td><td colspan="1">Entita <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> – atribut Aktivita entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>.</td><td colspan="1">–</td><td colspan="1"><p><Konec aktivity></p><p>Zobrazená hodnota je v uvedeném formátu: <a href="../../../../pouzivane-81592337.html">Datum a čas</a> .</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">12</td><td colspan="1">Pravidlo opakování</td><td colspan="1">Opakování</td><td colspan="1">Label</td><td colspan="1">Každou středu, 6:00-8:00</td><td colspan="1">Entita <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> – atribut Aktivita entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>.</td><td colspan="1">–</td><td colspan="1"><p><Pravidlo opakování></p><ul><li>Logika, podle které je generován zobrazený text, je dána externím dodavatelem.</li></ul><p>Pokud není <a href="../../../../datove-modely/datovy-78681044.html">Pravidlo opakování aktivity</a> k dispozici, není zobrazena žádná hodnota.</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud je hodnota atributu <strong>Pravidlo opakování</strong> entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> k dispozici (atribut Aktivita entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a>).</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Zobrazeno, pokud byla <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> generováno dle pravidla opakování.</td></tr></tbody></table><h4>Kontextová nabídka servisu</h4><p><em>Není řešeno v úvodní fázi.</em></p><h4>Kontextová nabídka dovolené</h4><p><em>Není řešeno v úvodní fázi.</em></p><p> </p><h2>Uživatelská nastavení</h2><p>–</p><h2>Parametry URL</h2><p>–</p><h1>Grafický návrh</h1><p>TODO</p><h1>Revize</h1><h3>4. 8. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="702uc05-112559809.html">Vstupní data</a></td><td colspan="1">Doplněn nadpis pro patičku kalendáře (naznačeno modře, přidáno <strong>9. 8. 2024</strong>).</td></tr><tr><td colspan="1"><a href="702uc05-112559809.html">Poslední označené vozidlo</a></td><td colspan="1">Doplněn parametr s posledním označeným vozidlem (naznačeno modře).</td></tr><tr><td colspan="1"><a href="702uc05-112559809.html">Zobrazené období</a></td><td colspan="1">Doplněn parametr s právě zobrazeným obdobím (naznačeno modře).</td></tr><tr><td colspan="1"><a href="702uc05-112559809.html">Editace aktivity</a></td><td colspan="1">Doplněna veřejná událost indikující požadavek na editaci aktivity (naznačeno modře, přidáno <strong>7. 8. 2024</strong>).</td></tr><tr><td colspan="1"><a href="702uc05-112559809.html">Uživatelské rozhraní</a></td><td colspan="1">Doplněna patička formuláře (naznačeno modře, přidáno <strong>9. 8. 2024</strong>).</td></tr><tr><td colspan="1"><a href="702uc05-112559809.html">Položka kalendáře</a></td><td colspan="1">Doplněny úpravy související se zobrazením položek kalendáře (naznačeno modře, přidáno <strong>7. 8. 2024</strong>).</td></tr><tr><td colspan="1"><a href="702uc05-112559809.html">Patička kalendáře</a></td><td colspan="1">Doplněna patička formuláře (naznačeno modře, přidáno <strong>9. 8. 2024</strong>).</td></tr><tr><td colspan="1"><a href="702uc05-112559809.html">Časové uspořádání kalendáře</a></td><td colspan="1">Doplněny úpravy související se zobrazením položek kalendáře (naznačeno modře, přidáno <strong>7. 8. 2024</strong>).</td></tr><tr><td colspan="1"><a href="702uc05-112559809.html">Vykreslení aktuálního času</a></td><td colspan="1">Doplněny úpravy související se zobrazením položek kalendáře (naznačeno modře, přidáno <strong>7. 8. 2024</strong>).</td></tr><tr><td colspan="1"><a href="702uc05-112559809.html">Vykreslení zakázky</a></td><td colspan="1"><p>Doplněny úpravy související se zobrazením položek kalendáře (naznačeno modře, přidáno <strong>7. 8. 2024</strong>).</p><p>Doplněny úpravy související s nastavením barvy aktivity a vykreslením vypůjčených zakázek (naznačeno modře, přidáno <strong>11. 8. 2024</strong>).</p></td></tr><tr><td colspan="1"><a href="702uc05-112559809.html">Zobrazení kolize aktivit</a></td><td colspan="1">Revize zdroje hodnot pro vykreslení kolize, doplněna kontextová nápověda a kontextová nabídka kolize (naznačeno modře, přidáno <strong>7. 8. 2024</strong>).</td></tr></tbody></table><h3>9. 1. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="702uc05-112559809.html">Vykreslení aktivity</a></td><td colspan="1">Grafické odlišení aktivit vzniklých z pravidla opakování (naznačeno modře).</td></tr><tr><td colspan="1"><a href="702uc05-112559809.html">Kontextová nápověda zakázky</a></td><td colspan="1">Grafické odlišení aktivit vzniklých z pravidla opakování (naznačeno modře).</td></tr></tbody></table>
</div>
</body>
</html>
