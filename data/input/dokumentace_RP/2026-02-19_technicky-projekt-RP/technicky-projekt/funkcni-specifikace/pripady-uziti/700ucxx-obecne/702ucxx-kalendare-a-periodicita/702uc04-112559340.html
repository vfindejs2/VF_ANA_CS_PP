<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>702UC04: Zobrazit formulář aktivity</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je zobrazení formuláře aktivity s možností specifikace hodnot jednotlivých atributů této entity. Nastavené hodnoty jsou pak předány na výstupu případu užití.</p><p>Poznámka: Výsledná podoba formuláře se odvíjí od <a href="../../../../datove-modely/datovy-78681044.html">Typu aktivity</a> a režimu jeho zobrazení.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="../../../../high-level-concept/akteri-78680673.html">Aktéři</a>.</p><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na zobrazení formuláře aktivity, a to jedním z uvedených způsobů:</p><ul><li>Uživatel zadá požadavek na založení aktivity v rámci dispečerské plachty (viz <a href="#" data-page-title="702UC03: Zobrazit dispečerskou plachtu"></a>).</li><li>Uživatel zadá požadavek na editaci aktivity v rámci dispečerské plachty (viz <a href="#" data-page-title="702UC03: Zobrazit dispečerskou plachtu"></a>).</li><li>Uživatel zadá požadavek na editaci aktivity v rámci panelu s detailem dispečerské plachty (viz <a href="#" data-page-title="702UC08: Zobrazit detail položky horizontálního kalendáře"></a>).</li><li>Uživatel zadá požadavek na editaci pravidla opakování aktivity v rámci dispečerské plachty (viz <a href="#" data-page-title="702UC03: Zobrazit dispečerskou plachtu"></a>).</li><li>Uživatel zadá požadavek na editaci pravidla opakování aktivity v rámci panelu s detailem dispečerské plachty (viz <a href="#" data-page-title="702UC08: Zobrazit detail položky horizontálního kalendáře"></a>).</li></ul><h2>Vstupní podmínky</h2><p>Ke spuštění případu užití jsou nutná následující oprávnění na moduly (viz <a href="../../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>):</p><ul><li>Dispečerská plachta.</li></ul><p>Poznámka: Jedná se o minimální vstupní podmínky. Pokud nemá uživatel dostatečná oprávnění, může být formulář dostupný jen v režimu pro čtení.</p><h2>Vstupní data</h2><p>Vstupní data se odvíjí od konkrétního použití formuláře, typicky řešíme buď založení nového záznamu, nebo editaci toho stávajícího. Při založení nové instance pak můžeme vstupní data dělit dle požadovaného typu aktivity.</p><h3>Založení aktivity</h3><p>Je požadováno založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> bez přímé specifikace <a href="../../../../datove-modely/datovy-78681044.html">Typy aktivity</a>.</p><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Nadpis formuláře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Nadpis, který je zobrazen v hlavičce formuláře.</td><td colspan="1">–</td></tr><tr><td colspan="1">Provozovna</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a></td><td colspan="1">Ne</td><td colspan="1">Provozovna, pod kterou má být aktivita zakládána.</td><td colspan="1">Na vstupu je získána instance této entity, případně její identifikace.</td></tr><tr><td colspan="1">Začátek aktivity</td><td colspan="1">Datum a čas</td><td colspan="1">Ne</td><td colspan="1">Datum a čas začátku dané aktivity, který má být v rámci formuláře předvyplněn.</td><td colspan="1">–</td></tr><tr><td colspan="1">Konec aktivity</td><td colspan="1">Datum a čas</td><td colspan="1">Ne</td><td colspan="1">Datum a čas konce dané aktivity, který má být v rámci formuláře předvyplněn.</td><td colspan="1">–</td></tr></tbody></table><h3>Založení zakázky</h3><p>Je přímo požadováno založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> typu <strong>Zakázka</strong> (viz <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>).</p><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Nadpis formuláře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Nadpis, který je zobrazen v hlavičce formuláře.</td><td colspan="1">–</td></tr><tr><td colspan="1">Provozovna</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a></td><td colspan="1">Ne</td><td colspan="1">Provozovna, pod kterou má být aktivita zakládána.</td><td colspan="1">Na vstupu je získána instance této entity, případně její identifikace.</td></tr><tr><td colspan="1">Vozidlo</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Objekt</a></td><td colspan="1">Ne</td><td colspan="1">Objekt, pro který má být aktivita zakládána.</td><td colspan="1">Na vstupu je získána instance této entity, případně její identifikace.</td></tr><tr><td colspan="1">Začátek aktivity</td><td colspan="1">Datum a čas</td><td colspan="1">Ne</td><td colspan="1">Datum a čas začátku dané aktivity, který má být v rámci formuláře předvyplněn.</td><td colspan="1">Pokud je na vstupu získána <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>, je případná hodnota tohoto parametru ignorována.</td></tr><tr><td colspan="1">Konec aktivity</td><td colspan="1">Datum a čas</td><td colspan="1">Ne</td><td colspan="1">Datum a čas konce dané aktivity, který má být v rámci formuláře předvyplněn.</td><td colspan="1">Pokud je na vstupu získána <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>, je případná hodnota tohoto parametru ignorována.</td></tr></tbody></table><h3>Založení servisu</h3><p><em>Není řešeno v úvodní fázi.</em></p><h3>Založení dovolené</h3><p><em>Není řešeno v úvodní fázi.</em></p><h3>Editace aktivity</h3><p>Je požadována editace existující <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (přímo obsahuje specifikaci <a href="../../../../datove-modely/datovy-78681044.html">Typu aktivity</a>).</p><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Nadpis formuláře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Nadpis, který je zobrazen v hlavičce formuláře.</td><td colspan="1">–</td></tr><tr><td colspan="1">Aktivita</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a></td><td colspan="1">Ano Ne</td><td colspan="1">Aktivita, která má být zobrazena v rámci formuláře.</td><td colspan="1">Na vstupu je získána instance této entity, případně její identifikace.</td></tr><tr><td colspan="1">Režim změny pravidla opakování</td><td colspan="1">Boolean</td><td colspan="1">Ano</td><td colspan="1">Informace, zda je formulář spuštěn v režimu změny pravidla opakování (pokud ano, získána hodnota <strong>TRUE</strong>).</td><td colspan="1">V rámci budoucího rozvoje může být nahrazeno výčtovým typem, to však není aktuálně řešeno (různé režimy zobrazení formuláře).</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Systém zobrazí formulář aktivity (viz <a href="702uc04-112559340.html">Uživatelské rozhraní</a>).<br><ol><li>Pokud je na vstupu získána instance entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>, dojde k vyplnění formuláře.</li><li>Jinak je formulář zobrazen ve výchozím stavu (některá pole mohou být předvyplněna).</li></ol></li><li>Uživatel provede nastavení hodnot jednotlivých atributů.</li><li>Uživatel potvrdí nastavené hodnoty – stiskne tlačítko pro uložení provedených změn (komponenta 14).</li><li>Systém provede validaci nastavených hodnot (viz <a href="702uc04-112559340.html">VAL01: Kontrola zadaných hodnot</a>).</li><li>Systém na výstupu předá data nastavená v rámci formuláře.</li></ol><h1>Alternativní toky událostí</h1><h2>AF01: Režim pro čtení</h2><p>Alternativní tok událostí zajišťuje zobrazení formuláře v režimu pro čtení. Ten by měl být dostupný pouze při editaci <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>. Založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (včetně formuláře) by pak uživateli nemělo být dostupné vůbec – pokud nemá dostatečná oprávnění.</p><h3>Vstupní podmínky</h3><ul><li>Jedná se o <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a> cizí <a href="../../../../datove-modely/datovy-78681044.html">Provozovny</a>:<br><ul><li>Na vstupu UC byla získána <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</li><li><a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> byla založena pro <a href="../../../../datove-modely/datovy-78681044.html">Provozovnu</a> (atribut <strong>Provozovna</strong>), na kterou <strong>nemá</strong> uživatel oprávnění (vyhodnoceno dle oprávnění na instance entity <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a>, viz <a href="#" data-page-title="Uživatelská oprávnění a role"></a>).</li></ul></li><li>Uživatel nemá potřebná oprávnění na správu <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> (viz <a href="../../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>):<br><ul><li>Oprávněný na entity: <strong>Zákazníci - zobrazení</strong>, <strong>Typy nádob - zobrazení</strong>.</li><li>Oprávnění na případy užití: <strong>Správa dispečerské plachty</strong>.</li></ul></li></ul><p>Poznámka: Ke spuštění alternativního toku postačuje splnění alespoň jedné z uvedených podmínek.</p><p><em>Interní poznámka: Zatím zde pak není řešena podpora více <a href="../../../../datove-modely/datovy-78681044.html">Typů aktivit</a> (např. vyhodnocení dle typu editované <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>).</em></p><h3>Tok událostí</h3><ol><li>Alternativní tok událostí začíná krokem 1 základního toku událostí.</li><li>Systém potlačí možnost provádět změny v rámci formuláře (viz <a href="702uc04-112559340.html">Uživatelské rozhraní</a>).</li><li>Systém pokračuje v kroku 1 základního toku událostí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Není možné provádět změny v rámci formuláře.</li></ul><h2>AF02: Zadané hodnoty nejsou validní</h2><p>Alternativní tok událostí slouží pro zobrazení chybového hlášení (jednoho či více) v případě, kdy není ve formuláři vyplněna validní hodnota.</p><h3>Vstupní podmínky</h3><ul><li>Ve formuláři nastavené hodnoty nejsou validní (viz <a href="702uc04-112559340.html">VAL01: Kontrola zadaných hodnot</a>).</li></ul><h3>Tok událostí</h3><ol><li>Alternativní tok událostí začíná krokem 4 základního toku událostí.</li><li>Systém zobrazí chybové hlášení u všech ovládacích prvků, u kterých nejsou splněna validační kritéria.</li><li>Systém pokračuje krokem 2 základního toku událostí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Na výstupu nebyly předány žádné informace.</li></ul><h2>AF03: Založit adresu</h2><p>Alternativní tok událostí umožňuje založení adresy uživatelem (včetně zobrazení odpovídajícího formuláře).</p><h3>Vstupní podmínky</h3><p>–</p><p>Poznámka: Pokud nemá uživatel potřebná oprávnění, není možnost založit <a href="../../../../datove-modely/datovy-78681044.html">Adresu</a> dostupná.</p><h3>Tok událostí</h3><ol><li>Systém zobrazí formulář adresy se souřadnicemi – spustí <a href="#" data-page-title="500UI11: Formulář adresy se souřadnicemi"></a> (nadpis formuláře: <strong>Založit adresu</strong>).</li><li>Uživatel vyplní formulář.</li><li>Pokud uživatel zruší provedené změny:<br><ol><li>Přechod na krok 7.</li></ol></li><li>Uživatel potvrdí provedené změny.</li><li>Systém odešle požadavek na založení nové instance entity <a href="../../../../datove-modely/datovy-78681044.html">Adresa</a> dle uživatelem zadaných informací (viz <a href="#" data-page-title="500UI11: Formulář adresy se souřadnicemi"></a>).</li><li>Systém aktualizuje odpovídající ovládací prvek dle založené <a href="../../../../datove-modely/datovy-78681044.html">Adresy</a> (komponenta 1.3).</li><li>Systém zavře formulář adresy se souřadnicemi.</li></ol><p>Poznámka: K založení <a href="../../../../datove-modely/datovy-78681044.html">Adresy</a> dochází až při úspěšném dokončení tohoto UC (tedy spolu s danou <a href="../../../../datove-modely/datovy-78681044.html">Aktivitou</a>).</p><h3>Výstupní podmínky</h3><ul><li>Byla vytvořena instance entity <a href="../../../../datove-modely/datovy-78681044.html">Adresa</a>. Ta byla uložena do databáze.</li></ul><h2>AF04: Nastavit pravidlo opakování</h2><p>Alternativní tok událostí umožňuje nastavení pravidla opakování uživatelem (včetně zobrazení odpovídajícího formuláře).</p><h3>Vstupní podmínky</h3><ul><li>Na vstupu UC <strong>nebyla</strong> získána <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</li><li>Je stisknuto tlačítko pro nastavení pravidla opakování (komponenta 11).</li></ul><p>Poznámka: Nastavení pravidla opakování bez provedení navazujících kroků je možné pouze při založení nové <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>. V takovém případně zatím nedošlo ke generování <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a> dle nastaveného pravidla opakování.</p><h3>Tok událostí</h3><ol><li>Systém zobrazí formulář pravidla opakování – spustí <a href="#" data-page-title="702UC01: Definovat pravidlo opakování">702UC01: Definovat pravidlo opakování</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Pravidlo opakování</strong>: pravidlo opakování nastavené v rámci formuláře (komponenta 12; pokud není nastaveno, není předána žádná hodnota).</li><li><strong>Zadat časové okno</strong>: předána hodnota <strong>TRUE</strong>.</li></ul></li><li>Uživatel vyplní formulář.</li><li>Pokud uživatel zruší provedené změny:<br><ol><li>Přechod na krok 6.</li></ol></li><li>Uživatel potvrdí provedené změny.</li><li>Systém nastaví pravidlo opakování v rámci formuláře (komponenta 12) dle získaných informací (výstupní parametr <strong>Pravidlo opakování,</strong> viz <a href="#" data-page-title="702UC01: Definovat pravidlo opakování">702UC01: Definovat pravidlo opakování</a>).</li><li>Systém zavře formulář aktivity.</li></ol><h3>Výstupní podmínky</h3><ul><li>Došlo k nastavená pravidla opakování. Jeho specifikace byla předána na výstupu formuláře pro nastavení pravidla opakování.</li></ul><h2>AF05: Režim pro změnu pravidla opakování</h2><p>Alternativní tok událostí zajišťuje zobrazení formuláře v režimu pro změnu pravidla opakování. V takovém případě je možné nastavit hodnotu jen v některých polích, zbývající část formuláře je pouze pro čtení.</p><ul><li><em>Nadřazeným alternativním tokem je <a href="702uc04-112559340.html">AF01: Režim pro čtení</a>. Pokud dojde k jeho spuštění, je formulář zobrazen v režimu pro čtení bez ohledu na režim jeho zobrazení.</em></li><li><em>Případně změny rozložení však mohou být aplikovány, to je případně uvedeno v rámci dalšího popisu.</em></li></ul><h3>Vstupní podmínky</h3><ul><li>Na vstupu UC byla získána <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</li><li>Hodnota vstupního parametru <strong>Režim změny pravidla opakování</strong> je nastavena na <strong>TRUE</strong> (viz <a href="702uc04-112559340.html">Editace aktivity</a>).</li></ul><p><em>Poznámka: Získaná <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> by měla splňovat vstupní podmínky v rámci <a href="#" data-page-title="702UC09: Upravit aktivity dle pravidla opakování">702UC09: Upravit aktivity dle pravidla opakování</a> (řešeno v nadřazeném UC).</em></p><h3>Tok událostí</h3><ol><li>Alternativní tok událostí začíná krokem 1 základního toku událostí.</li><li>Systém potlačí možnost provádět změny některých polí v rámci formuláře (viz <a href="702uc04-112559340.html">Uživatelské rozhraní</a>).</li><li>Systém pokračuje v kroku 1 základního toku událostí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Je možné provádět změny pouze ve specifikovaných polích.</li></ul><h2>AF06: Upravit pravidlo opakování</h2><p>Alternativní tok událostí umožňuje změnu nastaveného pravidla opakování uživatelem (včetně zobrazení odpovídajícího formuláře).</p><h3>Vstupní podmínky</h3><ul><li>Jsou splněny vstupní podmínky v rámci <a href="702uc04-112559340.html">AF05: Režim pro změnu pravidla opakování</a>.</li><li>Je stisknuto tlačítko pro nastavení pravidla opakování (komponenta 11).</li></ul><p>Poznámka: Změna <a href="../../../../datove-modely/datovy-78681044.html">Pravidla opakování aktivity</a> může být provedena maximálně jednou (řešeno v nadřazeném UC). Typicky pak dochází k odebrání části existujících <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a>, které jsou nahrazeny záznamy dle nového <a href="../../../../datove-modely/datovy-78681044.html">Pravidla opakování aktivity</a>.</p><h3>Tok událostí</h3><ol><li>Systém zobrazí formulář pravidla opakování – spustí <a href="#" data-page-title="702UC01: Definovat pravidlo opakování">702UC01: Definovat pravidlo opakování</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Pravidlo opakování</strong>: hodnota atributu <strong>Pravidlo opakování</strong> na vstupu získané <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</li><li><strong>Zadat časové okno</strong>: předána hodnota <strong>TRUE</strong>.</li></ul></li><li>Uživatel vyplní formulář.</li><li>Pokud uživatel zruší provedené změny:<br><ol><li>Přechod na krok 6.</li></ol></li><li>Uživatel potvrdí provedené změny.</li><li>Systém nastaví pravidlo opakování v rámci formuláře (komponenta 12) dle získaných informací (výstupní parametr <strong>Pravidlo opakování,</strong> viz <a href="#" data-page-title="702UC01: Definovat pravidlo opakování">702UC01: Definovat pravidlo opakování</a>).</li><li>Systém zavře formulář aktivity.</li></ol><p>Poznámka: Přestože se jedná o změnu existujícího <a href="../../../../datove-modely/datovy-78681044.html">Pravidla opakování aktivity</a> (z pohledu uživatele), není možné ho zadat do minulosti. Probíhají tedy stejné validace jako při nastavení nového <a href="../../../../datove-modely/datovy-78681044.html">Pravidla opakování aktivity</a>.</p><h3>Výstupní podmínky</h3><ul><li>Došlo k nastavená pravidla opakování. Jeho specifikace byla předána na výstupu formuláře pro nastavení pravidla opakování.</li></ul><h1>Výjimkové toky událostí</h1><h2>EF01: Zrušení provedených změn</h2><p>Výjimkový tok událostí řeší situaci, kdy uživatel zruší jím provedené změny (nedochází k jejich uložení). </p><h3>Vstupní podmínky</h3><ul><li>Uživatel zruší provedené změny – stiskne tlačítko pro zrušení provedených změn (komponenta 2, 13).</li></ul><h3>Tok událostí</h3><ol><li>Výjimkový tok událostí začíná krokem 3 základního toku událostí.</li><li>Případ užití končí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Na výstupu nebyly předány žádné informace.</li></ul><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Ve formuláři nastavené hodnoty jsou validní (viz <a href="702uc04-112559340.html">VAL01: Kontrola zadaných hodnot</a>).</p><h2>Výstupní data</h2><p><em>Interní poznámka: Výstupní data nepočítají s možností založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> jiného typu (aktuálně pracujeme pouze s <a href="../../../../datove-modely/datovy-78681044.html">Aktivitami</a> typu Zakázka).</em></p><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Zakázka</td><td colspan="1"><a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a></td><td colspan="1">Ano</td><td colspan="1">Hodnoty, které byly nastaveny v rámci formuláře.</td><td colspan="1">Na výstupu jsou předány hodnoty atributů této entity (včetně hodnot atributů odkazované <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>).</td></tr><tr><td colspan="1">Pravidlo opakování</td><td colspan="1">Řetězec</td><td colspan="1">Ne</td><td colspan="1">Specifikace pravidla opakování, podle kterého mají být generovány <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>.</td><td colspan="1">Pokud není předána hodnota, jedná se o <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a> na konkrétní termín.</td></tr></tbody></table><h1>Algoritmy</h1><p>–</p><h1>Validace</h1><h2>VAL01: Kontrola zadaných hodnot</h2><p>Formulář jako takový zajišťuje základní validaci zadaných údajů. Ta je prováděna ve 2 krocích:</p><ol><li>Zadání hodnoty – jakmile uživatel změní hodnotu v rámci ovládací prvku, je provedena validace této hodnoty. Pokud vložená hodnota nesplňuje požadovaná kritéria, je zobrazeno chybové hlášení, a to přímo ve formuláři spolu s ovládacím prvkem.</li><li>Potvrzení provedených změn – jakmile uživatel potvrdí provedené změny, je provedena validace všech ovládacích prvků formuláře. Postup je pak obdobný jako v kroku 1.</li></ol><p>Validační kritéria jsou pak uvedena společně s popisem jednotlivých ovládacích prvků (viz <a href="702uc04-112559340.html">Uživatelské rozhraní</a>).</p><h1>Uživatelské rozhraní</h1><p>Formulář nádoby je koncipován jako modální okno (viz <a href="#" data-page-title="700UI10: Modální okno">700UI10: Modální okno</a>), z toho vyplývají i jeho základní vlastnosti.</p><h2>Drátový diagram</h2><p><img src="702uc04-zobrazit-formular-aktivity-112559340_images/image2024-8-11 11-32-47.png" data-attachment="true"></p><h2>Přehled UI komponent</h2><table><tbody><tr><th>Prvek</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Bublinková nápověda</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Nadpis formuláře</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">Založit aktivitu</td><td colspan="1"><p>Získána na vstupu UC (vstupní parametr <strong>Nadpis formuláře</strong>). </p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Zavření okna</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>V rámci ovládacího prvku je zobrazena ikona: ra-cross.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Spustí výjimkový tok <a href="702uc04-112559340.html">EF01: Zrušení provedených změn</a>.</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1">Typ aktivity</td><td colspan="1">Typ aktivity*</td><td colspan="1">ComboBox</td><td colspan="1">Zakázka</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (získána na vstupu UC, vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p><p>Pokud je formulář zobrazen pro založení <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a> (viz <a href="702uc04-112559340.html">Založení zakázky</a>), je nastavena hodnota <strong>Zakázka</strong> (viz <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>).</p><p>Pokud není <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a> specifikován (viz <a href="702uc04-112559340.html">Založení aktivity</a>), je nastavena výchozí hodnota ovládacího prvku.</p><p><a href="702uc04-112559340.html">Dostupné typy aktivit</a></p></td><td colspan="1"><p>V pořadí první dostupný <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>.</p></td><td colspan="1"><Typ aktivity></td><td colspan="1">–</td><td colspan="1"><p>Pokud formulář <strong>není</strong> v režimu pro čtení (viz <a href="702uc04-112559340.html">AF01: Režim pro čtení</a>).</p><p>Pokud formulář <strong>není</strong> v režimu změny pravidla opakování (viz <a href="702uc04-112559340.html">AF05: Režim pro změnu pravidla opakování</a>).</p></td><td colspan="1">Vždy</td><td colspan="1">Při změně hodnoty dojde k aktualizaci obsahu formuláře (komponenta 5).</td><td colspan="1">–</td><td colspan="1"><p>Vzhledem k použitému ovládacímu prvku by nemělo být možné dosáhnout stavu, kdy není hodnota vyplněna.</p></td></tr><tr><td colspan="1">4</td><td colspan="1">Provozovna</td><td colspan="1">Provozovna*</td><td colspan="1">ComboBox</td><td colspan="1">SM Pardubice</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> – atribut Provozovna entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (získána na vstupu UC, vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p><p>Pokud je formulář zobrazen pro založení <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a>, může být hodnota získána ze vstupního parametru <strong>Provozovna</strong> (viz <a href="702uc04-112559340.html">Založení zakázky</a>).</p><p>Pokud je formulář zobrazen pro založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> bez specifikace jejího typu, může být hodnota získána ze vstupního parametru <strong>Provozovna</strong> (viz <a href="702uc04-112559340.html">Založení aktivity</a>).</p><p>Pokud nemá uživatel oprávnění na odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Provozovnu</a>, je zobrazen zástupný text: <strong>Chybí oprávnění</strong> (vyhodnoceno dle oprávnění na instance entit, viz <a href="../../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>).</p><p>Pokud není <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> k dispozici, je nastavena výchozí hodnota ovládacího prvku.</p><p><a href="702uc04-112559340.html">Dostupné provozovny</a></p></td><td colspan="1"><p>V pořadí první dostupná <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a>.</p></td><td colspan="1"><p><Název></p></td><td colspan="1">–</td><td colspan="1"><p>Pokud formulář <strong>není</strong> v režimu pro čtení (viz <a href="702uc04-112559340.html">AF01: Režim pro čtení</a>).</p><p>Pokud formulář <strong>není</strong> v režimu změny pravidla opakování (viz <a href="702uc04-112559340.html">AF05: Režim pro změnu pravidla opakování</a>).</p><p>Pokud je v rámci ovládacího prvku možné nastavit více než 1 hodnotu.</p></td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1"><ul><li>Povinný údaj (chybové hlášení: Položka musí být vyplněna).</li></ul></td><td colspan="1"><p>Vzhledem k použitému ovládacímu prvku by nemělo být možné dosáhnout stavu, kdy není hodnota vyplněna.</p></td></tr><tr><td colspan="1">15</td><td colspan="1">Barva aktivity</td><td colspan="1">Barva*</td><td colspan="1">ToggleButton</td><td colspan="1">#85759D</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Barva aktivity</a> – atribut <strong>Barva aktivity</strong> entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (získána na vstupu UC, vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>). Tato barva je také označena.</p><p>Pokud není <a href="../../../../datove-modely/datovy-78681044.html">Barva aktivity</a> specifikována (viz <a href="702uc04-112559340.html">Založení aktivity</a>, <a href="702uc04-112559340.html">Založení zakázky</a>), je nastavena výchozí hodnota ovládacího prvku (viz sloupec <strong>Výchozí hodnota</strong>).</p><p><a href="702uc04-112559340.html">Dostupné barvy aktivit</a></p></td><td colspan="1"><p>Ve výchozím stavu je označena taková dostupná <a href="../../../../datove-modely/datovy-78681044.html">Barva aktivity</a>, která splňuje všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Je výchozí</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota interního identifikátor je minimální (pro případ více výchozích barev).</li></ul><p>Pokud není nalezena žádná <a href="../../../../datove-modely/datovy-78681044.html">Barva aktivity</a>, je označena v pořadí první dostupná <a href="../../../../datove-modely/datovy-78681044.html">Barva aktivity</a>.</p></td><td colspan="1"><p><Kód výchozí barvy></p><p>Pokud se dostupné prvky nevejdou na jeden řádek, dochází k zalomení na řádek další.</p></td><td colspan="1">–</td><td colspan="1">Pokud formulář <strong>není</strong> v režimu pro čtení (viz <a href="702uc04-112559340.html">AF01: Režim pro čtení</a>).</td><td colspan="1">Vždy</td><td colspan="1">Po kliknutí na danou <a href="../../../../datove-modely/datovy-78681044.html">Barvu aktivity</a> dojde k jejímu označení (je nastavena jako požadovaná barva). Označena pak může být maximálně jedna <a href="../../../../datove-modely/datovy-78681044.html">Barva aktivity</a>.</td><td colspan="1"><ul><li>Povinný údaj (chybové hlášení: Položka musí být vyplněna).</li></ul></td><td colspan="1"><p>Počet dostupných prvků odpovídá získaným <a href="../../../../datove-modely/datovy-78681044.html">Barvám aktivity</a> (viz <a href="702uc04-112559340.html">Dostupné barvy aktivit</a>). Barva prvku pak odpovídá dané <a href="../../../../datove-modely/datovy-78681044.html">Barvě aktivity</a> (viz sloupec <strong>Hodnota</strong>).</p></td></tr><tr><td colspan="1">5</td><td colspan="1">Obsah formuláře</td><td colspan="1">–</td><td colspan="1"><p>Obsah se liší dle právě nastaveného <a href="../../../../datove-modely/datovy-78681044.html">Typu aktivity</a> (komponenta 3):</p><ul><li>Zakázka (viz <a href="702uc04-112559340.html">Zakázka</a>).</li><li>Servis, <em>Není řešeno v úvodní fázi.</em></li><li>Dovolená. <em>Není řešeno v úvodní fázi.</em></li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Viz odpovídající popis (viz sloupec Typ komponenty).</td><td colspan="1">Vždy</td><td colspan="1">Popis chování je uveden samostatně (viz sloupec Typ komponenty).</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">6</td><td colspan="1">Termín</td><td colspan="1">Termín*</td><td colspan="1">RadioButton (ve skupině s komponentou 11)</td><td colspan="1">–</td><td colspan="1"><p>Pokud <strong>je</strong> hodnota atributu <strong>Pravidlo opakování</strong> na vstupu získané <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>) k dispozici – tlačítko <strong>není stisknuto</strong> (pokud hodnota k dispozici není, tlačítko stisknuto je).</p><p>Pokud není hodnota k dispozici, je nastavena výchozí hodnota ovládacího prvku.</p></td><td colspan="1">Tlačítko je stisknuto.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1"><p>Formulář je zobrazen pro založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> – na vstupu UC <strong>nebyla </strong>získána <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p></td><td colspan="1">Vždy</td><td colspan="1"><p>Pokud je formulář zobrazen pro založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (na vstupu <strong>není</strong> získána <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>, viz <a href="702uc04-112559340.html">Editaci aktivity</a>), dojde po stisknutí tlačítka ke změně dostupnosti odpovídajících ovládacích prvků (komponenty 7-10).</p></td><td colspan="1">–</td><td colspan="1">Nastavení termínu (resp. pravidla opakování) je možné pouze při zakládání <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>. Při její editaci již pracujeme jen s konkrétními výskyty.</td></tr><tr><td colspan="1">7</td><td colspan="1">Datum začátku aktivity</td><td colspan="1">–</td><td colspan="1">DatePicker</td><td colspan="1">3. 1. 2021</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (získána na vstupu UC, vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p><p>Pokud je formulář zobrazen pro založení <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a>, může být hodnota získána ze vstupního parametru <strong>Začátek aktivity</strong> (viz <a href="702uc04-112559340.html">Založení zakázky</a>).</p><p>Pokud je formulář zobrazen pro založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> bez specifikace jejího typu, může být hodnota získána ze vstupního parametru <strong>Začátek aktivity</strong> (viz <a href="702uc04-112559340.html">Založení aktivity</a>).</p><p>Pokud není současně k dispozici odpovídající čas konce aktivity (vstupní parametr <strong>Konec aktivity</strong> stejného zdroje), je nastavena výchozí hodnota ovládacího prvku.</p><p>Pokud není hodnota k dispozici, je nastavena výchozí hodnota ovládacího prvku.</p></td><td colspan="1">Aktuální datum a čas (předán pouze datum).</td><td colspan="1"><p><Začátek aktivity></p><p>Zobrazená hodnota je v uvedeném formátu: <a href="../../../../pouzivane-81592337.html">Datum</a>.</p></td><td colspan="1">–</td><td colspan="1"><p><a href="702uc04-112559340.html">Dostupnost zadání termínu aktivity</a></p></td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1"><ul><li>Povinný údaj (chybové hlášení: Položka musí být vyplněna).</li></ul><p>Validace je prováděna pouze v případě, kdy je ovládací prvek zpřístupněn.</p></td><td colspan="1"><p>Pokud se jedná o editaci <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (resp. záznamu odvozené třídy), je editace umožněna i při nastaveném pravidle opakování (slouží k nastavení termínu konkrétního výskytu <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>).</p></td></tr><tr><td colspan="1">8</td><td colspan="1">Čas začátku aktivity</td><td colspan="1">–</td><td colspan="1">TimePicker</td><td colspan="1">9:01</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (získána na vstupu UC, vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p><p>Pokud je formulář zobrazen pro založení <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a>, může být hodnota získána ze vstupního parametru <strong>Začátek aktivity</strong> (viz <a href="702uc04-112559340.html">Založení zakázky</a>).</p><p>Pokud je formulář zobrazen pro založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> bez specifikace jejího typu, může být hodnota získána ze vstupního parametru <strong>Začátek aktivity</strong> (viz <a href="702uc04-112559340.html">Založení aktivity</a>).</p><p>Pokud není současně k dispozici odpovídající čas konce aktivity (vstupní parametr <strong>Konec aktivity</strong> stejného zdroje), je nastavena výchozí hodnota ovládacího prvku.</p><p>Pokud není hodnota k dispozici, je nastavena výchozí hodnota ovládacího prvku.</p></td><td colspan="1">Aktuální datum a čas – minuty a sekundy jsou nastaveny na 00 (předán pouze čas).</td><td colspan="1"><p><Začátek aktivity></p><p>Zobrazená hodnota je v uvedeném formátu: <a href="../../../../pouzivane-81592337.html">Čas</a>.</p></td><td colspan="1">–</td><td colspan="1"><p><a href="702uc04-112559340.html">Dostupnost zadání termínu aktivity</a></p></td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1"><ul><li>Povinný údaj (chybové hlášení: Položka musí být vyplněna).</li></ul><p>Validace je prováděna pouze v případě, kdy je ovládací prvek zpřístupněn.</p></td><td colspan="1">Pokud se jedná o editaci <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (resp. záznamu odvozené třídy), je editace umožněna i při nastaveném pravidle opakování (slouží k nastavení termínu konkrétního výskytu <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>).</td></tr><tr><td colspan="1">9</td><td colspan="1">Datum konce aktivity</td><td colspan="1">–</td><td colspan="1">DatePicker</td><td colspan="1">12. 12. 2021</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (získána na vstupu UC, vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p><p>Pokud je formulář zobrazen pro založení <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a>, může být hodnota získána ze vstupního parametru <strong>Konec aktivity</strong> (viz <a href="702uc04-112559340.html">Založení zakázky</a>).</p><p>Pokud je formulář zobrazen pro založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> bez specifikace jejího typu, může být hodnota získána ze vstupního parametru <strong>Konec aktivity</strong> (viz <a href="702uc04-112559340.html">Založení aktivity</a>).</p><p>Pokud není současně k dispozici odpovídající čas konce aktivity (vstupní parametr <strong>Začátek aktivity</strong> stejného zdroje), je nastavena výchozí hodnota ovládacího prvku.</p><p>Pokud není hodnota k dispozici, je nastavena výchozí hodnota ovládacího prvku.</p></td><td colspan="1">Aktuální datum a čas navýšený o 2 hodiny (předán pouze datum).</td><td colspan="1"><p><Konec aktivity></p><p>Zobrazená hodnota je v uvedeném formátu: <a href="../../../../pouzivane-81592337.html">Datum</a>.</p></td><td colspan="1">–</td><td colspan="1"><p><a href="702uc04-112559340.html">Dostupnost zadání termínu aktivity</a></p></td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1"><ul><li>Povinný údaj (chybové hlášení: Položka musí být vyplněna).</li><li>Větší nebo rovno začátku aktivity (chybové hlášení: Konec aktivity musí být větší nebo roven začátku aktivity).</li></ul><p>Datum konce aktivity je při validaci nutné porovnávat společně s odpovídajícím časem.</p><p>Validace je prováděna pouze v případě, kdy je ovládací prvek zpřístupněn.</p></td><td colspan="1">Pokud se jedná o editaci <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (resp. záznamu odvozené třídy), je editace umožněna i při nastaveném pravidle opakování (slouží k nastavení termínu konkrétního výskytu <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>).</td></tr><tr><td colspan="1">10</td><td colspan="1">Čas konce aktivity</td><td colspan="1">–</td><td colspan="1">TimePicker</td><td colspan="1">13:15</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (získána na vstupu UC, vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p><p>Pokud je formulář zobrazen pro založení <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a>, může být hodnota získána ze vstupního parametru <strong>Konec aktivity</strong> (viz <a href="702uc04-112559340.html">Založení zakázky</a>).</p><p>Pokud je formulář zobrazen pro založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> bez specifikace jejího typu, může být hodnota získána ze vstupního parametru <strong>Konec aktivity</strong> (viz <a href="702uc04-112559340.html">Založení aktivity</a>).</p><p>Pokud není současně k dispozici odpovídající čas konce aktivity (vstupní parametr <strong>Začátek aktivity</strong> stejného zdroje), je nastavena výchozí hodnota ovládacího prvku.</p><p>Pokud není hodnota k dispozici, je nastavena výchozí hodnota ovládacího prvku.</p></td><td colspan="1">Aktuální datum a čas navýšený o 2 hodiny – minuty a sekundy jsou nastaveny na 00 (předán pouze čas).</td><td colspan="1"><p><Začátek aktivity></p><p>Zobrazená hodnota je v uvedeném formátu: <a href="../../../../pouzivane-81592337.html">Čas</a>.</p></td><td colspan="1">–</td><td colspan="1"><p><a href="702uc04-112559340.html">Dostupnost zadání termínu aktivity</a></p></td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1"><ul><li>Povinný údaj (chybové hlášení: Položka musí být vyplněna).</li><li>Větší nebo rovno začátku aktivity (chybové hlášení: Konec aktivity musí být větší nebo roven začátku aktivity).</li></ul><p>Čas konce aktivity je při validaci nutné porovnávat společně s odpovídajícím datem.</p><p>Validace je prováděna pouze v případě, kdy je ovládací prvek zpřístupněn.</p></td><td colspan="1">Pokud se jedná o editaci <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (resp. záznamu odvozené třídy), je editace umožněna i při nastaveném pravidle opakování (slouží k nastavení termínu konkrétního výskytu <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>).</td></tr><tr><td colspan="1">11</td><td colspan="1">Pravidlo opakování</td><td colspan="1">Pravidlo opakování*</td><td colspan="1">RadioButton (ve skupině s komponentou 6)</td><td colspan="1">–</td><td colspan="1"><p>Pokud <strong>je</strong> hodnota atributu <strong>Pravidlo opakování</strong> na vstupu získané <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>) k dispozici – tlačítko <strong>je stisknuto</strong> (pokud hodnota k dispozici není, tlačítko stisknuto není).</p><p>Pokud není hodnota k dispozici, je nastavena výchozí hodnota ovládacího prvku.</p></td><td colspan="1">Tlačítko není stisknuto.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1"><p>Formulář je zobrazen pro založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> – na vstupu UC <strong>nebyla </strong>získána <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p></td><td colspan="1">Vždy</td><td colspan="1">Pokud je formulář zobrazen pro založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (na vstupu <strong>není</strong> získána <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>, viz <a href="702uc04-112559340.html">Editaci aktivity</a>), dojde po stisknutí tlačítka ke změně dostupnosti odpovídajících ovládacích prvků (komponenta 12).</td><td colspan="1">–</td><td colspan="1"><p>Nastavení pravidla opakování (resp. termínu) je možné pouze při zakládání <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a>. Při její editaci již pracujeme jen s konkrétními výskyty.</p></td></tr><tr><td colspan="1">12</td><td colspan="1">Nastavení pravidla opakování</td><td colspan="1">–</td><td colspan="1">Button</td><td colspan="1"><p>Každou středu, 6:00-8:00</p></td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Pravidlo opakování aktivity</a> – atribut <strong>Pravidlo opakování</strong> entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (získána na vstupu UC, vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p><p>Pokud není hodnota k dispozici, je nastavena výchozí hodnota ovládacího prvku.</p></td><td colspan="1">–</td><td colspan="1"><p><Pravidlo opakování></p><p>Formát zobrazené hodnoty je specifikován externím dodavatelem.</p><p>Prosím o úpravu barvy textu v případě, kdy je ovládací prvek v režimu pro čtení (zvýšení čitelnosti, viz náhled s aktuálním stavem).</p><p><img src="702uc04-zobrazit-formular-aktivity-112559340_images/image2024-8-19 8-59-33.png" data-attachment="true"></p></td><td colspan="1">Text odpovídá hodnotě zobrazené v rámci ovládacího prvku.</td><td colspan="1"><p><a href="702uc04-112559340.html">Dostupnost zadání pravidla opakování</a></p></td><td colspan="1">Vždy</td><td colspan="1"><p><a href="702uc04-112559340.html">Dostupnost zadání pravidla opakování</a></p></td><td colspan="1"><ul><li>Povinný údaj (chybové hlášení: Položka musí být vyplněna).</li></ul><p>Validace je prováděna pouze v případě, kdy je ovládací prvek zpřístupněn.</p></td><td colspan="1"><p>Pokud se jedná o běžnou editaci <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (resp. záznamu odvozené třídy), změna pravidla opakování není umožněna (již došlo ke generování <a href="../../../../datove-modely/datovy-78681044.html">Aktivit</a>).</p><p>Nastavená hodnota je předána v rámci výstupního parametru <strong>Pravidlo opakování</strong>.</p></td></tr><tr><td colspan="1">13</td><td colspan="1">Zrušení provedených změn</td><td colspan="1">Zrušit</td><td colspan="1"><p>Button</p><ul><li>V rámci ovládacího prvku je zobrazena ikona: ra-cross.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Spustí výjimkový tok <a href="702uc04-112559340.html">EF01: Zrušení provedených změn</a>.</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">14</td><td colspan="1">Uložení provedených změn</td><td colspan="1">Uložit</td><td colspan="1"><p>Button</p><ul><li>V rámci ovládacího prvku je zobrazena ikona: ra-tick.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud formulář <strong>není</strong> v režimu pro čtení (viz <a href="702uc04-112559340.html">AF01: Režim pro čtení</a>).</td><td colspan="1">Vždy</td><td colspan="1">Odpovídá kroku 3 základního toku událostí.</td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><h2>Chování</h2><h3>Dostupné typy aktivit</h3><p>V rámci ovládacího prvku je umožněn výběr jedné z nabízených hodnot. K dispozici jsou pak všechny položky výčtového typu <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>, které splňují odpovídající podmínky:</p><ul><li><strong>Zakázka</strong> – uživatel má následující oprávnění na typ entit (viz <a href="../../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>): <strong>Zákazníci - zobrazení</strong>, <strong>Typy nádob - zobrazení</strong>.</li><li>Servis <em>Není řešeno v úvodní fázi.</em></li><li>Dovolená <em>Není řešeno v úvodní fázi.</em></li></ul><p>Poznámka: Dostupné <a href="../../../../datove-modely/datovy-78681044.html">Typy aktivit</a> se mohou dále odvíjet od informací získaných na vstupu UC (viz odpovídající popis).</p><h3>Dostupné provozovny</h3><p>V rámci ovládacího prvku je umožněn výběr jedné z nabízených hodnot. K dispozici jsou pak všechny instance entity <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a>, které splňují následující podmínky:</p><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Uživatel má na instanci oprávnění – vyhodnoceno dle oprávnění na instance entity <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> (viz <a href="#" data-page-title="Uživatelská oprávnění a role"></a>).</li></ul><p>Může nastat situace, kdy se na vstupu získaná instance entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> odkazuje na <a href="../../../../datove-modely/datovy-78681044.html">Provozovnu</a> (atribut Provozovna), u které je hodnota atributu Je aktivní nastavena na FALSE. V takovém případě je tato instance entity <a href="../../../../datove-modely/datovy-78681044.html">Provozovna</a> dostupná v rámci nabídky, a to jako první v pořadí.</p><h3>Dostupné barvy aktivit</h3><p>V rámci ovládacího prvku je umožněn výběr jedné z nabízených hodnot. K dispozici jsou pak všechny instance entity <a href="../../../../datove-modely/datovy-78681044.html">Barva aktivity</a>, které splňují následující podmínky:</p><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Typ aktivity</strong> odpovídá hodnotě nastavené v rámci prvku <strong>Typ aktivity</strong> (komponenta <strong>3</strong>).<ul><li><em>Při změně <a href="../../../../datove-modely/datovy-78681044.html">Typu aktivity</a> se tedy mění také dostupné barvy.</em></li></ul></li></ul><p>Získané <a href="../../../../datove-modely/datovy-78681044.html">Barvy aktivity</a> jsou pak předány v pořadí, které je dáno následovně:</p><ul><li>Hodnota atributu <strong>Pořadí</strong> (vzestupně)</li><li>Hodnota interního identifikátoru (vzestupně).<ul><li><em>Pro případ více barev se stejným pořadovým číslem.</em></li></ul></li></ul><p>V případě, kdy byla na vstupu získána <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>, vyhodnotíme, zda odkazuje na platnou <a href="../../../../datove-modely/datovy-78681044.html">Barvu aktivity</a>…</p><ol><li>Systém získá odpovídající <a href="../../../../datove-modely/datovy-78681044.html">Barvu aktivity</a> – atribut <strong>Barva aktivity</strong> získané <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</li><li>Pokud je hodnota atributu <strong>Je aktivní</strong> získané <a href="../../../../datove-modely/datovy-78681044.html">Barvy aktivity</a> (viz krok <strong>1</strong>) nastavena na <strong>FALSE</strong>:<br><ol><li>Systém přidá tuto <a href="../../../../datove-modely/datovy-78681044.html">Barvu aktivity</a> do výsledné kolekce (je vložena jako v pořadí první).</li></ol></li></ol><p>Výsledná kolekce <a href="../../../../datove-modely/datovy-78681044.html">Barev aktivity</a> je pak předána na výstupu algoritmu (situace, kdy není získán žádný záznam, není uvažována).</p><h3>Dostupnost zadání termínu aktivity</h3><p>V rámci formuláře jsou k dispozici pole pro zadání termínu <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (komponenty 7-10), jejich dostupnost je pak dána hned několika kritérii. Ta si nyní popíšeme.</p><ul><li>Pokud jsou splněny vstupní podmínky v rámci alespoň jednoho řádku dále uvedené tabulky, jsou ovládací prvky dostupné pro zadání hodnoty.</li><li>Jinak není nastavení termínu možné, uvedená pole jsou v režimu pro čtení.</li></ul><table><tbody><tr><th>Prováděná akce</th><th>Stručný popis</th><th colspan="1">Vstupní podmínky</th><th colspan="1">Poznámka</th></tr><tr><td><strong>Založení</strong> (viz <a href="702uc04-112559340.html">Založení aktivity</a>, <a href="702uc04-112559340.html">Založení zakázky</a>)</td><td>Při založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> je možné zadat termín v případě, kdy je stisknuto tlačítko pro nastavení termínu.</td><td colspan="1"><ul><li>Na vstupu <strong>nebyla</strong> získána <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>.</li><li>Je stisknuto tlačítko pro nastavení termínu (komponenta 6).</li></ul></td><td colspan="1">–</td></tr><tr><td><strong>Editace</strong> (viz <a href="702uc04-112559340.html">Editace aktivity</a>)</td><td><p>Při editaci <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> je možné zadat termín v případě, kdy formulář <strong>není</strong> v jednom dále uvedených režimů:</p><ul><li>režim pro čtení,</li><li>režim změny pravidla opakování.</li></ul></td><td colspan="1"><ul><li>Na vstupu byla získána <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (vstupní parametr <strong>Aktivita</strong>).</li><li>Nejsou splněny vstupní podmínky ani pro jeden z dále uvedených alternativních toků:<br><ul><li><a href="702uc04-112559340.html">AF01: Režim pro čtení</a>,</li><li><a href="702uc04-112559340.html">AF05: Režim pro změnu pravidla opakování</a>.</li></ul></li></ul></td><td colspan="1">Dochází ke změně termínu konkrétní <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> (bez dopadu na související záznamy stejného pravidla opakování.</td></tr></tbody></table><h3>Dostupnost zadání pravidla opakování</h3><p>V rámci formuláře je k dispozici pole pro zadání <a href="../../../../datove-modely/datovy-78681044.html">Pravidla opakování aktivity</a> (komponenta 12), jeho dostupnost je dána hned několika kritérii. Ta si nyní popíšeme.</p><ul><li>Pokud jsou splněny vstupní podmínky v rámci alespoň jednoho řádku dále uvedené tabulky, je ovládací prvek dostupný pro zadání hodnoty.</li><li>Jinak není nastavení termínu možné, uvedená pole jsou v režimu pro čtení.</li></ul><p>Poznámka: Související chování se pak může lišit dle režimu zobrazení formuláře (viz dále).</p><table><tbody><tr><th>Prováděná akce</th><th>Stručný popis</th><th colspan="1">Vstupní podmínky</th><th colspan="1">Chování</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1"><strong>Založení</strong> (viz <a href="702uc04-112559340.html">Založení aktivity</a>, <a href="702uc04-112559340.html">Založení zakázky</a>)</td><td colspan="1">Při založení <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> je možné zadat pravidlo opakování v případě, kdy je stisknuto tlačítko pro nastavení pravidla opakování.</td><td colspan="1"><ul><li>Jsou splněny vstupní podmínky v rámci <a href="702uc04-112559340.html">AF04: Nastavit pravidlo opakování</a>.</li></ul></td><td colspan="1">Po stisknutí tlačítka dochází ke spuštění <a href="702uc04-112559340.html">AF04: Nastavit pravidlo opakování</a>.</td><td colspan="1">–</td></tr><tr><td colspan="1"><strong>Editace</strong> (viz <a href="702uc04-112559340.html">Editace aktivity</a>)</td><td colspan="1"><p>Při editaci <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> není možné zadat pravidlo opakování…</p><ul><li>buď se jedná o jednorázovou <a href="../../../../datove-modely/datovy-78681044.html">Aktivitu</a> bez pravidla opakování (pravidlo opakování není k dispozici),</li><li>nebo pouze o konkrétní výskyt <a href="../../../../datove-modely/datovy-78681044.html">Aktivity</a> vzniklé pod pravidlem opakování (pracujeme jen s tímto záznamem).</li></ul><p>Výjimku pak může tvořit případ, kdy je formulář zobrazen v režimu pro změnu pravidla opakování. Zde sice můžeme aktualizovat <a href="../../../../datove-modely/datovy-78681044.html">Pravidlo opakování aktivity</a>, reálně však dochází k nahrazení původní pravidla opakování novým.</p></td><td colspan="1"><ul><li>Na vstupu byla získána <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a> (vstupní parametr <strong>Aktivita</strong>).</li><li>Nejsou splněny vstupní podmínky v rámci <a href="702uc04-112559340.html">AF01: Režim pro čtení</a>.</li><li>Jsou splněny vstupní podmínky v rámci <a href="702uc04-112559340.html">AF06: Upravit pravidlo opakování</a>.</li></ul></td><td colspan="1">Po stisknutí tlačítka dochází ke spuštění <a href="702uc04-112559340.html">AF06: Upravit pravidlo opakování</a>.</td><td colspan="1"><p>Režim pro čtení je nadřazen ostatním režimům.</p><p>Editace pravidla opakování je umožněna maximálně jednou.</p></td></tr></tbody></table><h2>Zakázka</h2><p>Popis chování odpovídá <a href="../../../../datove-modely/datovy-78681044.html">Aktivitám</a> typu <strong>Zakázka</strong> (viz <a href="../../../../datove-modely/datovy-78681044.html">Typ aktivity</a>). V rámci skupiny ovládacích prvků tedy pracujeme s entitou <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> – hledáme pak takový záznam, který splňuje všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Aktivita</strong> odpovídá na vstupu získané <a href="../../../../datove-modely/datovy-78681044.html">Aktivitě</a> (vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</li></ul><h3>Drátový diagram</h3><p><img src="702uc04-zobrazit-formular-aktivity-112559340_images/image2022-12-2 10-11-49.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Callout</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Bublinková nápověda</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1.1</td><td colspan="1">Název zákazníka</td><td colspan="1">Název objednavatele*</td><td colspan="1">TextBox</td><td colspan="1">LEGO Production s.r.o.</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> (získána nepřímo na vstupu UC, vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p><p>Pokud nemá uživatel oprávnění na zobrazení <a href="../../../../datove-modely/datovy-78681044.html">Zákazníků</a>, je zobrazen zástupný text: <strong>Chybí oprávnění</strong> (vyhodnoceno dle oprávnění na entity: <strong>Zákazníci - zobrazení</strong>, viz <a href="../../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>).</p><p>Pokud není hodnota k dispozici, je nastavena výchozí hodnota ovládacího prvku.</p></td><td colspan="1">–</td><td colspan="1"><Název objednavatele></td><td colspan="1">–</td><td colspan="1"><p>Pokud formulář <strong>není</strong> v režimu pro čtení (viz <a href="702uc04-112559340.html">AF01: Režim pro čtení</a>).</p><p>Pokud formulář <strong>není</strong> v režimu změny pravidla opakování (viz <a href="702uc04-112559340.html">AF05: Režim pro změnu pravidla opakování</a>).</p></td><td colspan="1">Vždy</td><td colspan="1">Pokud dojde ke změně hodnoty, je zrušen výběr <a href="../../../../datove-modely/datovy-78681044.html">Zákazníka</a> (komponenta 1.2).</td><td colspan="1"><ul><li>Povinný údaj (chybové hlášení: Položka musí být vyplněna).</li><li>Maximálně 255 znaků (chybové hlášení: Počet znaků nesmí být větší než 255).</li></ul></td><td colspan="1">Pokud je vybrán i konkrétní <a href="../../../../datove-modely/datovy-78681044.html">Zákazník</a> (komponenta 1.2),musí obsažený text odpovídat jeho názvu.</td></tr><tr><td colspan="1">1.2</td><td colspan="1">Výběr zákazníka</td><td colspan="1">–</td><td colspan="1"><p>ToggleButton</p><ul><li>V rámci ovládacího prvku je zobrazena ikona: ra-search.</li></ul></td><td colspan="1">–</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Zákazník</a> – atribut Objednavatel entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> (získána nepřímo na vstupu UC, vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p><p>Pokud není hodnota k dispozici, je nastavena výchozí hodnota ovládacího prvku.</p><p><a href="702uc04-112559340.html">Dostupní zákazníci</a></p></td><td colspan="1">–</td><td colspan="1"><p><Objednavatel></p><p>Pokud je hodnota nastavena, je tlačítko stisknuto (v opačném případě stisknuto není).</p><p>Hodnota není přímo zobrazována na UI.</p></td><td colspan="1">–</td><td colspan="1"><p>Pokud formulář <strong>není</strong> v režimu pro čtení (viz <a href="702uc04-112559340.html">AF01: Režim pro čtení</a>).</p><p>Pokud formulář <strong>není</strong> v režimu změny pravidla opakování (viz <a href="702uc04-112559340.html">AF05: Režim pro změnu pravidla opakování</a>).</p></td><td colspan="1">Vždy</td><td colspan="1"><p>Pokud uživatel stiskne tlačítko, dojde k zobrazení dialogu pro výběr <a href="../../../../datove-modely/datovy-78681044.html">Zákazníků</a> (viz <a href="#" data-page-title="700UI05: Výběrové dialogy"></a>).</p><p>Pokud dojde k výběru hodnoty, je aktualizován název zákazníka (komponenta 1.1), a to dle atributu <strong>Název</strong> zvoleného <a href="../../../../datove-modely/datovy-78681044.html">Zákazníka</a>.</p><p>Pokud dojde ke změně hodnoty, je zrušen výběr <a href="../../../../datove-modely/datovy-78681044.html">Místo realizace</a> (komponenta 1.4).</p></td><td colspan="1"><div>–</div></td><td colspan="1">Hodnota je nastavována na pozadí, nemělo by tedy dojít k zadání nevalidní hodnoty.</td></tr><tr><td colspan="1">1.3</td><td colspan="1">Adresa místa realizace</td><td colspan="1">Adresa místa realizace</td><td colspan="1"><p>AddresBox</p><ul><li>Ovládací prvek je použit např. ve formuláři zákazníka (viz <a href="#" data-page-title="500UI03: Formulář zákazníka"></a>).</li></ul></td><td colspan="1">Korunní 44, 120 00 Praha</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> (získána nepřímo na vstupu UC, vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p><p>Pokud nemá uživatel oprávnění na zobrazení <a href="../../../../datove-modely/datovy-78681044.html">Zákazníků</a>, je zobrazen zástupný text: <strong>Chybí oprávnění</strong> (vyhodnoceno dle oprávnění na entity: <strong>Zákazníci - zobrazení</strong>, viz <a href="../../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>).</p><p>Pokud není hodnota k dispozici, je nastavena výchozí hodnota ovládacího prvku.</p></td><td colspan="1">–</td><td colspan="1"><p><Adresa místa realizace></p><p>Zobrazená hodnota je v uvedeném formátu: <a href="../../../../pouzivane-81592337.html">Úplná adresa</a>.</p></td><td colspan="1">–</td><td colspan="1"><p>Pokud formulář <strong>není</strong> v režimu pro čtení (viz <a href="702uc04-112559340.html">AF01: Režim pro čtení</a>).</p><p>Pokud formulář <strong>není</strong> v režimu změny pravidla opakování (viz <a href="702uc04-112559340.html">AF05: Režim pro změnu pravidla opakování</a>).</p><p>Pokud je v rámci odpovídajícího ovládacího prvku nastaven název zákazníka (komponenta 1.1).</p></td><td colspan="1">Vždy</td><td colspan="1">Pokud dojde ke změně hodnoty, je zrušen výběr <a href="../../../../datove-modely/datovy-78681044.html">Místa realizace</a> (komponenta 1.4).</td><td colspan="1">–</td><td colspan="1"><p>Pokud je vybráno i konkrétní <a href="../../../../datove-modely/datovy-78681044.html">Místo realizace</a> (komponenta 1.4), musí obsažená <a href="../../../../datove-modely/datovy-78681044.html">Adresa</a> odpovídat jeho adrese.</p></td></tr><tr><td colspan="1">1.4</td><td colspan="1">Výběr místa realizace</td><td colspan="1">–</td><td colspan="1"><p>ToggleButton</p><ul><li>V rámci ovládacího prvku je zobrazena ikona: ra-search.</li></ul></td><td colspan="1">–</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Místo realizace</a> – atribut Místo realizace entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> (získána nepřímo na vstupu UC, vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p><p>Pokud není hodnota k dispozici, je nastavena výchozí hodnota ovládacího prvku.</p><p><a href="702uc04-112559340.html">Dostupná místa realizace</a></p></td><td colspan="1">–</td><td colspan="1"><p><Místo realizace></p><p>Pokud je hodnota nastavena, je tlačítko stisknuto (v opačném případě stisknuto není).</p><p>Hodnota není přímo zobrazována na UI.</p></td><td colspan="1">–</td><td colspan="1"><p>Pokud formulář <strong>není</strong> v režimu pro čtení (viz <a href="702uc04-112559340.html">AF01: Režim pro čtení</a>).</p><p>Pokud formulář <strong>není</strong> v režimu změny pravidla opakování (viz <a href="702uc04-112559340.html">AF05: Režim pro změnu pravidla opakování</a>).</p><p>Pokud je v rámci odpovídajícího ovládacího prvku nastaven <a href="../../../../datove-modely/datovy-78681044.html">Zákazník</a> (komponenta 1.2).</p></td><td colspan="1">Vždy</td><td colspan="1"><p>Pokud uživatel stiskne tlačítko, dojde k zobrazení dialogu pro výběr <a href="../../../../datove-modely/datovy-78681044.html">Míst realizace</a> (viz <a href="#" data-page-title="700UI05: Výběrové dialogy"></a>).</p><p>Pokud dojde k výběru hodnoty, je aktualizována adresa místa realizace (komponenta 1.3), a to dle atributu <strong>Adresa</strong> zvoleného <a href="../../../../datove-modely/datovy-78681044.html">Místa realizace</a>.</p></td><td colspan="1"><div>–</div></td><td colspan="1">Hodnota je nastavována na pozadí, nemělo by tedy dojít k zadání nevalidní hodnoty.</td></tr><tr><td colspan="1">1.5</td><td colspan="1">Objekt</td><td colspan="1">Vozidlo*</td><td colspan="1">Autocomplete</td><td colspan="1">5AX 1584</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a> – atribut Vozidlo entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> (získána na vstupu UC, vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p><p>Pokud je formulář zobrazen pro založení <a href="../../../../datove-modely/datovy-78681044.html">Zakázky</a>, může být hodnota získána ze vstupního parametru <strong>Vozidlo</strong> (viz <a href="702uc04-112559340.html">Založení zakázky</a>).</p><p>Pokud není hodnota k dispozici, je nastavena výchozí hodnota ovládacího prvku.</p><p><a href="702uc04-112559340.html">Dostupné objekty</a></p></td><td colspan="1">–</td><td colspan="1"><Identifikátor objektu></td><td colspan="1">–</td><td colspan="1">Pokud formulář <strong>není</strong> v režimu pro čtení (viz <a href="702uc04-112559340.html">AF01: Režim pro čtení</a>).</td><td colspan="1">Vždy</td><td colspan="1"><p>Výběr požadovaného <a href="../../../../datove-modely/datovy-78681044.html">Objektu</a> je možné provést 2 způsoby (ty jsou dány použitým ovládacím prvkem):</p><ul><li>Našeptávač – hledání probíhá dle atributu <strong>Identifikátor objektu</strong>.</li><li>Výběrový dialog – rozložení uvedeno samostatně, viz <a href="#" data-page-title="700UI05: Výběrové dialogy"></a>.</li></ul></td><td colspan="1"><ul><li>Povinný údaj (chybové hlášení: Položka musí být vyplněna).</li><li>Pokud je zadána hodnota, musí odpovídat jednomu z dostupných <a href="../../../../datove-modely/datovy-78681044.html">Objektů</a> (chybové hlášení: Není zadána validní hodnota).</li></ul><p><em>Interní poznámka: Chování ovládacího prvku odpovídá jeho aktuálnímu stavu (není řešena validace v případě, kdy uživatel přepíše systémem nastavený text). → <strong>Požadováno uvedené chování – to odpovídá aktuálnímu stavu ve FLWW2.</strong></em></p></td><td colspan="1">–</td></tr><tr><td colspan="1">1.6</td><td colspan="1">Typ nádoby</td><td colspan="1">Typ nádoby</td><td colspan="1">Autocomplete</td><td colspan="1">20 m3, krytý</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Typ nádoby</a> – atribut Typ nádoby entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> (získána na vstupu UC, vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p><p>Pokud nemá uživatel oprávnění na zobrazení <a href="../../../../datove-modely/datovy-78681044.html">Typů nádob</a>, je zobrazen zástupný text: <strong>Chybí oprávnění</strong> (vyhodnoceno dle oprávnění na entity: <strong>Typy nádob - zobrazení</strong>, viz <a href="../../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>).</p><p>Pokud není hodnota k dispozici, je nastavena výchozí hodnota ovládacího prvku.</p><p><a href="702uc04-112559340.html">Dostupné typy nádob</a></p></td><td colspan="1">–</td><td colspan="1"><Název></td><td colspan="1">–</td><td colspan="1"><p>Pokud formulář <strong>není</strong> v režimu pro čtení (viz <a href="702uc04-112559340.html">AF01: Režim pro čtení</a>).</p><p>Pokud formulář <strong>není</strong> v režimu změny pravidla opakování (viz <a href="702uc04-112559340.html">AF05: Režim pro změnu pravidla opakování</a>).</p></td><td colspan="1">Vždy</td><td colspan="1"><p>Výběr požadovaného <a href="../../../../datove-modely/datovy-78681044.html">Typ nádoby</a> je možné provést 2 způsoby (ty jsou dány použitým ovládacím prvkem):</p><ul><li>Našeptávač – hledání probíhá dle atributu <strong>Název</strong>.</li><li>Výběrový dialog – rozložení uvedeno samostatně, viz <a href="#" data-page-title="700UI05: Výběrové dialogy"></a>.</li></ul></td><td colspan="1"><ul><li>Pokud je zadána hodnota, musí odpovídat jednomu z dostupných <a href="../../../../datove-modely/datovy-78681044.html">Typů nádob</a> (chybové hlášení: Není zadána validní hodnota).</li></ul><p><em>Interní poznámka: Chování ovládacího prvku odpovídá jeho aktuálnímu stavu (není řešena validace v případě, kdy uživatel přepíše systémem nastavený text). → <strong>Požadováno uvedené chování – to odpovídá aktuálnímu stavu ve FLWW2.</strong></em></p></td><td colspan="1">–</td></tr><tr><td colspan="1">1.7</td><td colspan="1">Druh odpadu</td><td colspan="1">Druh odpadu</td><td colspan="1">Autocomplete</td><td colspan="1">010202</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Druh odpadu</a> – atribut Druh odpadu entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> (získána na vstupu UC, vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p><p>Pokud není hodnota k dispozici, je nastavena výchozí hodnota ovládacího prvku.</p><p> <a href="702uc04-112559340.html">Dostupné druhy odpadu</a></p></td><td colspan="1">–</td><td colspan="1"><Kód></td><td colspan="1">–</td><td colspan="1"><p>Pokud formulář <strong>není</strong> v režimu pro čtení (viz <a href="702uc04-112559340.html">AF01: Režim pro čtení</a>).</p><p>Pokud formulář <strong>není</strong> v režimu změny pravidla opakování (viz <a href="702uc04-112559340.html">AF05: Režim pro změnu pravidla opakování</a>).</p></td><td colspan="1">Vždy</td><td colspan="1"><p>Výběr požadovaného <a href="../../../../datove-modely/datovy-78681044.html">Druh odpadu</a> je možné provést 2 způsoby (ty jsou dány použitým ovládacím prvkem):</p><ul><li>Našeptávač – hledání probíhá dle atributu <strong>Kód</strong>.</li><li>Výběrový dialog – rozložení uvedeno samostatně, viz <a href="#" data-page-title="700UI05: Výběrové dialogy"></a>.</li></ul></td><td colspan="1"><ul><li>Pokud je zadána hodnota, musí odpovídat jednomu z dostupných <a href="../../../../datove-modely/datovy-78681044.html">Druhů odpadu</a> (chybové hlášení: Není zadána validní hodnota).</li></ul><p><em>Interní poznámka: Chování ovládacího prvku odpovídá jeho aktuálnímu stavu (není řešena validace v případě, kdy uživatel přepíše systémem nastavený text). → <strong>Požadováno uvedené chování – to odpovídá aktuálnímu stavu ve FLWW2.</strong></em></p></td><td colspan="1">–</td></tr><tr><td colspan="1">1.8</td><td colspan="1">Poznámka</td><td colspan="1">Poznámka</td><td colspan="1">TextBox (multiline)</td><td colspan="1">Před realizací potvrdit zakázku se zákazníkem.</td><td colspan="1"><p>Entita <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> (získána na vstupu UC, vstupní parametr <strong>Aktivita</strong>, viz <a href="702uc04-112559340.html">Editace aktivity</a>).</p><p>Pokud není hodnota k dispozici, je nastavena výchozí hodnota ovládacího prvku.</p></td><td colspan="1">–</td><td colspan="1"><Poznámka></td><td colspan="1">–</td><td colspan="1">Pokud formulář <strong>není</strong> v režimu pro čtení (viz <a href="702uc04-112559340.html">AF01: Režim pro čtení</a>).</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1"><ul><li>Maximálně 255 znaků (chybové hlášení: Počet znaků nesmí být větší než 255).</li></ul></td><td colspan="1">Výška ovládacího prvku odpovídá 4 řádkům zadaného textu.</td></tr></tbody></table><h3>Chování</h3><h4>Dostupní zákazníci</h4><p>V rámci ovládacího prvku je umožněn výběr jedné z nabízených hodnot. K dispozici jsou pak všechny instance entity <a href="../../../../datove-modely/datovy-78681044.html">Zákazník</a>, které splňují následující podmínky:</p><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna TRUE.</li></ul><p>Může nastat situace, kdy se na vstupu získaná instance entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> (odvozená od entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>) odkazuje na <a href="../../../../datove-modely/datovy-78681044.html">Zákazníka</a> (atribut Objednavatel), u kterého je hodnota atributu Je aktivní nastavena na FALSE. V takovém případě je tato instance entity <a href="../../../../datove-modely/datovy-78681044.html">Zákazník</a> dostupná v rámci nabídky, a to jako první v pořadí.</p><h4>Dostupná místa realizace</h4><p>V rámci ovládacího prvku je umožněn výběr jedné z nabízených hodnot. K dispozici jsou pak všechny instance entity <a href="../../../../datove-modely/datovy-78681044.html">Místo realizace</a>, které splňují následující podmínky:</p><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Zákazník</strong> odpovídá <a href="../../../../datove-modely/datovy-78681044.html">Zákazníkovi</a>, který je nastaven v rámci formuláře (komponenta 2).</li></ul><p>Může nastat situace, kdy se na vstupu získaná instance entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> (odvozená od entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>) odkazuje na <a href="../../../../datove-modely/datovy-78681044.html">Místo realizace</a> (atribut Místo realizace), u kterého je hodnota atributu Je aktivní nastavena na FALSE. V takovém případě je tato instance entity <a href="../../../../datove-modely/datovy-78681044.html">Místo realizace</a> dostupná v rámci nabídky, a to jako první v pořadí.</p><h4>Dostupné objekty</h4><p>V rámci ovládacího prvku je umožněn výběr jedné z nabízených hodnot. K dispozici jsou pak všechny instance entity <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a>, které splňují následující podmínky:</p><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Typ objektu</strong> je rovna hodnotě <strong>Vozidlo</strong> (viz <a href="../../../../datove-modely/datovy-78681044.html">Typ objektu</a>).</li><li>Hodnota atributu <strong>Provozovna</strong> je k dispozici (je různá od NULL).<br><ul><li>Současně musí být hodnota atributu <strong>Je aktivní</strong> této <a href="../../../../datove-modely/datovy-78681044.html">Provozovny</a> nastavena na <strong>TRUE</strong>.</li></ul></li><li>Uživatel má na instanci oprávnění – vyhodnoceno dle oprávnění na instance entity <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a> (viz <a href="#" data-page-title="Uživatelská oprávnění a role"></a>).</li></ul><p>Může nastat situace, kdy se na vstupu získaná instance entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> (odvozená od entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>) odkazuje na <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a> (atribut Vozidlo), u kterého je hodnota atributu Je aktivní nastavena na FALSE. V takovém případě je tato instance entity <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a> dostupná v rámci nabídky, a to jako první v pořadí.</p><h4>Dostupné typy nádob</h4><p>V rámci ovládacího prvku je umožněn výběr jedné z nabízených hodnot. K dispozici jsou pak všechny instance entity <a href="../../../../datove-modely/datovy-78681044.html">Typ nádoby</a>, které splňují následující podmínky:</p><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li></ul><p>Může nastat situace, kdy se na vstupu získaná instance entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> (odvozená od entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>) odkazuje na <a href="../../../../datove-modely/datovy-78681044.html">Typ nádoby</a> (atribut Typ nádoby), u které je hodnota atributu Je aktivní nastavena na FALSE. V takovém případě je tato instance entity <a href="../../../../datove-modely/datovy-78681044.html">Typ nádoby</a> dostupná v rámci nabídky, a to jako první v pořadí.</p><h4>Dostupné druhy odpadu</h4><p>V rámci ovládacího prvku je umožněn výběr jedné z nabízených hodnot. K dispozici jsou pak všechny instance entity <a href="../../../../datove-modely/datovy-78681044.html">Druh odpadu</a>, které splňují následující podmínky:</p><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li></ul><p>Může nastat situace, kdy se na vstupu získaná instance entity <a href="../../../../datove-modely/datovy-78681044.html">Zakázka</a> (odvozená od entity <a href="../../../../datove-modely/datovy-78681044.html">Aktivita</a>) odkazuje na <a href="../../../../datove-modely/datovy-78681044.html">Druh odpadu</a> (atribut Druh odpadu), u kterého je hodnota atributu Je aktivní nastavena na FALSE. V takovém případě je tato instance entity <a href="../../../../datove-modely/datovy-78681044.html">Druh odpadu</a> dostupná v rámci nabídky, a to jako první v pořadí.</p><h2>Servis</h2><p><em>Není řešeno v úvodní fázi.</em></p><h2>Dovolená</h2><p><em>Není řešeno v úvodní fázi.</em></p><h2>Uživatelská nastavení</h2><p>–</p><h2>Parametry URL</h2><p>–</p><h1>Grafický návrh</h1><p>TODO</p><h1>Revize</h1><h3>11. 8. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="702uc04-112559340.html">Editace aktivity</a></td><td colspan="1">Rozšíření vstupních parametrů pro potřeby režimu změny pravidla opakování (naznačeno modře, doplněno <strong>13. 8. 2024</strong>).</td></tr><tr><td colspan="1"><a href="702uc04-112559340.html">AF05: Režim pro změnu pravidla opakování</a></td><td colspan="1">Doplněn alternativní tok pro potřeby režimu změny pravidla opakování (naznačeno modře, doplněno <strong>13. 8. 2024</strong>).</td></tr><tr><td colspan="1"><a href="702uc04-112559340.html">AF06: Upravit pravidlo opakování</a></td><td colspan="1">Doplněn alternativní tok pro potřeby režimu změny pravidla opakování (naznačeno modře, doplněno <strong>13. 8. 2024</strong>).</td></tr><tr><td colspan="1"><a href="702uc04-112559340.html">Uživatelské rozhraní</a></td><td colspan="1"><p>Doplněn ovládací prvek pro nastavení barvy aktivity (naznačeno modře).</p><p>Revize barvy textu pole s pravidlem opakování v režimu pro čtení (naznačeno modře, doplněno <strong>19. 8. 2024</strong>).</p></td></tr><tr><td colspan="1"><a href="702uc04-112559340.html">Dostupné barvy aktivit</a></td><td colspan="1">Doplněn algoritmus pro získání dostupných barev aktivit (naznačeno modře).</td></tr><tr><td colspan="1"><a href="702uc04-112559340.html">Dostupnost zadání termínu aktivity</a></td><td colspan="1">Chování přesunuto pod samostatný nadpis, doplněno chování související s režimem změny pravidla opakování (naznačeno modře, doplněno <strong>13. 8. 2024</strong>).</td></tr><tr><td colspan="1"><a href="702uc04-112559340.html">Dostupnost zadání pravidla opakování</a></td><td colspan="1">Chování přesunuto pod samostatný nadpis, doplněno chování související s režimem změny pravidla opakování (naznačeno modře, doplněno <strong>13. 8. 2024</strong>).</td></tr><tr><td colspan="1"><a href="702uc04-112559340.html">Zakázka</a></td><td colspan="1"><p>Revize dostupných ovládacích prvků pro režim změny pravidla opakování (naznačeno modře, doplněno <strong>13. 8. 2024</strong>).</p><p>Změna výšky ovládacího prvku pro zadání poznámky (naznačeno modře, doplněno <strong>19. 8. 2024</strong>).</p></td></tr></tbody></table><h3>5. 2. 2024 M. Slivoně</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="702uc04-112559340.html">Dostupné objekty</a></td><td colspan="1">Doplněna kontrola Objektu na aktivitu jeho Provozovny (naznačeno zeleně).</td></tr></tbody></table><h3>6. 3. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="702uc04-112559340.html">AF01: Režim pro čtení</a></td><td colspan="1">Revize chování formuláře pro aktivity v minulosti (naznačeno růžově).</td></tr></tbody></table><h3>15. 1. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="702uc04-112559340.html">AF04: Nastavit pravidlo opakování</a></td><td colspan="1">Doplněn alternativní tok pro nastavení pravidla opakování (naznačeno modře).</td></tr><tr><td colspan="1"><a href="702uc04-112559340.html">Výstupní data</a></td><td colspan="1">Rozšíření výstupních dat o pravidlo opakování (naznačeno modře).</td></tr><tr><td colspan="1"><a href="702uc04-112559340.html">Uživatelské rozhraní</a></td><td colspan="1">Revize možnosti zadat trvání aktivity, doplnění možnosti zadat pravidlo opakování (naznačeno modře).</td></tr></tbody></table>
</div>
</body>
</html>
