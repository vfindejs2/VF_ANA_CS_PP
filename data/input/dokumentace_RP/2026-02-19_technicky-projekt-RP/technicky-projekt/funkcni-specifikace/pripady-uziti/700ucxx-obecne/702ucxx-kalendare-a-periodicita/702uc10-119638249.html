<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>702UC10: Zobrazit vertikální kalendář</title>
</head>
<body>
<div class="wiki-content">
<p><strong>Rozpracov</strong><strong>áno!</strong></p><p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je zobrazení kalendáře, v rámci kterého jsou dílčí položky orientovány vertikálně (svislá časová osa). Jedná se pak o obecnou komponentu, kdy je obsah jednotlivých položek řešen na úrovní konkrétního UC.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="../../../../high-level-concept/akteri-78680673.html">Aktéři</a>.</p><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na zobrazení vertikálního kalendáře, a to jedním z uvedených způsobů:</p><ul><li>Uživatel zadá požadavek na zobrazení souhrnného itineráře denních výkonů (viz <a href="#" data-page-title="206UC10: Zobrazit panel souhrnného itineráře denních výkonů"></a>).</li></ul><h2>Vstupní podmínky</h2><p>Poznámka: Vstupní podmínky jsou řešeny na úrovni nadřazeného UC.</p><h2>Vstupní data</h2><p>–</p><h1>Základní tok událostí</h1><ol><li>Systém zobrazí vertikální kalendář (viz <a href="702uc10-119638249.html">Uživatelské rozhraní</a>).</li><li>Systém zpřístupní dostupné funkčnosti.</li></ol><p>Poznámka: Pro naplnění kalendáře a práci s ním jsou použity veřejné parametry a funkce. Ty jsou volány nadřazeným UC. </p><h1>Alternativní toky událostí</h1><p>–</p><h1>Výjimkové toky událostí</h1><p>–</p><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Uživateli byl zobrazen horizontální kalendář, ten umožňoval spuštění dílčích funkčností.</p><h2>Výstupní data</h2><p>–</p><h1>Algoritmy</h1><p>–</p><h1>Validace</h1><p>–</p><h1>Rozhraní komponenty</h1><h2>Veřejné atributy</h2><h3>Šířka kalendáře</h3><p>V rámci atributu je specifikována šířka v pixelech (px), kterou jsou aktuálně vykresleny dílčí <a href="702uc10-119638249.html">Kalendáře</a>. Ta je k dispozici jak ke čtení, tak pro nastavení z nadřazeného UC.</p><ul><li><strong>Datový typ</strong>: Celé číslo.</li><li><strong>Povinnost</strong>: Ano.</li></ul><p><em>Poznámka: Při inicializaci komponenty dochází k nastavení tohoto atributu.</em></p><h3>Výška hlavičky kalendáře</h3><p>V rámci atributu je specifikována výška v pixelech (px), kterou jsou aktuálně vykresleny hlavičky dílčích <a href="702uc10-119638249.html">Kalendářů</a>. Ta je k dispozici jak ke čtení, tak pro nastavení z nadřazeného UC.</p><ul><li><strong>Datový typ</strong>: Celé číslo.</li><li><strong>Povinnost</strong>: Ano.</li></ul><p><em>Poznámka: Při inicializaci komponenty dochází k nastavení tohoto atributu.</em></p><h3>Dostupnost označování kalendářů</h3><p>V rámci atributu je specifikován režim označování kalendářů – tedy způsob, jakým je možné označovat dostupné <a href="702uc10-119638249.html">Kalendáře</a>.</p><ul><li><strong>Datový typ</strong>: Výčtový typ…<ul><li><strong>Vypnuto</strong> – není možné označovat <a href="702uc10-119638249.html">Kalendáře</a>.</li><li><strong>Jeden záznam</strong> – je možné označit maximálně jeden <a href="702uc10-119638249.html">Kalendář</a>.</li><li><strong>Více záznamů</strong> – je možné označit více jak jeden <a href="702uc10-119638249.html">Kalendář</a>.</li></ul></li><li><strong>Povinnost</strong>: Ano.</li></ul><p><em>Poznámka: Při inicializaci komponenty dochází k nastavení tohoto atributu.</em></p><h3>Označené kalendáře</h3><p>V rámci atributu jsou evidovány všechny aktuálně označené <a href="702uc10-119638249.html">Kalendáře</a>. Ke každému z nich jsou pak k dispozici informace uvedené v tabulce.</p><p>Poznámka: Nemusí být označen ani jeden <a href="702uc10-119638249.html">Kalendář</a>, v takovém případě není v rámci atributu předána žádná hodnota.</p><table><tbody><tr><th>Výstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Identifikátor kalendáře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Identifikátor vloženého kalendáře.</td><td colspan="1">Nastavován v rámci funkce <a href="702uc10-119638249.html">Vložit kalendář</a>.</td></tr></tbody></table><h3>Poslední označený kalendář</h3><p>V rámci atributu je evidován poslední označený <a href="702uc10-119638249.html">Kalendář</a>. K dispozici jsou pak informace uvedené v tabulce.</p><p>Poznámka: Nemusí být označen ani jeden <a href="702uc10-119638249.html">Kalendář</a>, v takovém případě není v rámci atributu předána žádná hodnota.</p><table><tbody><tr><th>Výstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Identifikátor kalendáře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Identifikátor vloženého kalendáře.</td><td colspan="1">Nastavován v rámci funkce <a href="702uc10-119638249.html">Vložit kalendář</a>.</td></tr></tbody></table><h3>Dostupnost Drag&Drop režimu</h3><p>V rámci atributu je specifikován režim, ve kterém je možné pracovat s položkami kalendáře za použití Drag&Drop režimu – tedy způsob, jakým je možné uživatelsky přesouvat <a href="702uc10-119638249.html">Položky kalendáře</a> (v rámci dostupných <a href="702uc10-119638249.html">Kalendářů</a>).</p><ul><li><strong>Datový typ</strong>: Výčtový typ…<br><ul><li><strong>Vypnuto</strong> – Drag&Drop režim není k dispozici.</li><li><strong>Položky kalendáře</strong> – Drag&Drop režim je k dispozici, přichytávání je pak řešeno na úrovni dostupných <a href="702uc10-119638249.html">Položek kalendáře</a>.</li><li><strong>Časové razítko</strong> – Drag&Drop režim je k dispozici, přichytávání je pak řešeno na úrovni konkrétních časů (např. každých 30 minut).</li></ul></li><li><strong>Povinnost</strong>: Ano.</li></ul><p><em>Poznámka: Při inicializaci komponenty dochází k nastavení tohoto atributu.</em></p><h2>Veřejné události</h2><h3>Změna pozice položky kalendáře</h3><p>V rámci vertikálního kalendáře je možné za určitých podmínek měnit pozici jednotlivých <a href="702uc10-119638249.html">Položek kalendáře</a>. Pokud k takové akci dojde, je vyvolána tato událost, předány jsou pak informace uvedené v tabulce.</p><table><tbody><tr><th>Výstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Identifikátor položky objednávky</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Identifikátor položky kalendáře, která je přesouvána.</td><td colspan="1">–</td></tr><tr><td colspan="1">Identifikátor cílového kalendáře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Identifikátor kalendáře, do kterého je položka přesouvána.</td><td colspan="1">–</td></tr><tr><td colspan="1">Identifikátor cílové položky kalendáře</td><td colspan="1">Řetězec</td><td colspan="1">Ne</td><td colspan="1">Identifikátor položky kalendáře, ke kterému je položka přesouvána.</td><td colspan="1"><p>Hodnota nemusí být předána v těchto případech:</p><ul><li>položka je vkládána na prázdný kalendář,</li><li>položka je vkládána na konkrétní čas. <em>Není implementováno.</em></li></ul></td></tr><tr><td colspan="1">Pozice vzhledem k cílové položce kalendáře</td><td colspan="1">Enumerace</td><td colspan="1">Ne</td><td colspan="1"><p>Pozice vzhledem k cílové položce kalendáře:</p><ul><li><strong>Začátek</strong> – položka je vkládána před cílovou položku kalendáře.</li><li><strong>Konec</strong> – položka je vkládána za cílovou položku kalendáře.</li></ul></td><td colspan="1">Hodnota musí bet předána v případě, kdy je nastavena hodnota parametru <strong>Identifikátor cílové položky kalendáře</strong>.</td></tr></tbody></table><h2>Veřejné funkce</h2><h3>Vložit skupinu</h3><p>Po spuštění funkce dojde k načtení informací o <a href="702uc10-119638249.html">Skupině</a>.</p><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1"><p>Identifikátor skupiny</p></td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Identifikátor vkládané skupiny pro následnou práci s ní.</td><td colspan="1">–</td></tr><tr><td colspan="1">Barva skupiny</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Kód barvy, kterou jsou vykresleny prvky související se skupinou kalendáře.</td><td colspan="1"><p>Aktuálně se jedná o výplň a ohraničení skupiny kalendáře (v případě potřeby může být rozšířeno).</p></td></tr><tr><td colspan="1">Obsah panelu</td><td colspan="1">–</td><td colspan="1">Ano</td><td colspan="1">Specifikace toho, co má být zobrazeno ve skupině.</td><td colspan="1">Může se jednat o prostý text, ale také o ovládací prvek.</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Systém vyhodnotí, zda byla daná <a href="702uc10-119638249.html">Skupina</a> do vertikálního kalendáře již vložena – pokud jsou splněny všechny dále uvedené podmínky, je tok událostí předčasně ukončen:<br><ul><li>Je obsažena <a href="702uc10-119638249.html">Skupina</a>, u které se identifikátor rovná hodnotě vstupního parametru <strong>Identifikátor skupiny</strong>.</li></ul></li><li>Systém vloží do vertikálního kalendáře novou <a href="702uc10-119638249.html">Skupinu</a> – provede následující akce:<br><ul><li>Nastaví identifikátor skupiny dle hodnoty vstupního parametru <strong>Identifikátor skupiny</strong>.</li><li>Nastaví barvu skupiny dle hodnoty vstupního parametru <strong>Barva skupiny</strong>.</li><li>Nastaví obsah panelu dle hodnoty vstupního parametru <strong>Obsah panelu</strong>.</li></ul></li></ol><p>Poznámka: Vykreslení kalendáře je provedeno až po zavolání funkce <a href="702uc10-119638249.html">Obnovit data</a>.</p><h4>Výstupní data</h4><p>–</p><h3>Vložit kalendář</h3><p>Po spuštění funkce dojde k načtení informací o <a href="702uc10-119638249.html">Kalendáři</a> (včetně odpovídající <a href="702uc10-119638249.html">Skupiny</a>).</p><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1"><p>Identifikátor kalendáře</p></td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Identifikátor vkládaného kalendáře pro následnou práci s ním.</td><td colspan="1">–</td></tr><tr><td colspan="1">Barva kalendáře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Kód barvy, kterou jsou vykresleny prvky související s kalendářem.</td><td colspan="1">Aktuálně se jedná o ohraničení kalendáře (v případě potřeby může být rozšířeno).</td></tr><tr><td colspan="1">Identifikátor skupiny</td><td colspan="1">Řetězec</td><td colspan="1">Ne</td><td colspan="1">Identifikátor skupiny, do které má být kalendář vložen.</td><td colspan="1">Kalendáře mohou být vkládány i bez skupin.</td></tr><tr><td colspan="1">Obsah panelu</td><td colspan="1">–</td><td colspan="1">Ano</td><td colspan="1">Specifikace toho, co má být zobrazeno v hlavičce kalendáře.</td><td colspan="1">Může se jednat o prostý text, ale také o ovládací prvek.</td></tr><tr><td colspan="1">Dostupnost Drag&Drop režimu</td><td colspan="1">Boolean</td><td colspan="1">Ano</td><td colspan="1">Informace, zda je pro daný kalendář dostupný Drag&Drop režim (pokud ano, je předána hodnota <strong>TRUE</strong>).</td><td colspan="1">Pokud je na úrovni komponenty dostupný Drag&Drop režim, je možné vyjmout některé z vložených kalendářů (funkčnost pro ně nebude dostupná).</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Systém vyhodnotí, zda byl daný <a href="702uc10-119638249.html">Kalendář</a> do vertikálního kalendáře již vložen – pokud jsou splněny všechny dále uvedené podmínky, je tok událostí předčasně ukončen:<br><ul><li>Je obsažen <a href="702uc10-119638249.html">Kalendář</a>, u kterého se identifikátor rovná hodnotě vstupního parametru <strong>Identifikátor kalendáře</strong>.</li></ul></li><li>Systém vloží do vertikálního kalendáře nový <a href="702uc10-119638249.html">Kalendář</a> – provede následující akce:<br><ul><li>Nastaví identifikátor kalendáře dle hodnoty vstupního parametru <strong>Identifikátor kalendáře</strong>.</li><li>Nastaví barvu kalendáře dle hodnoty vstupního parametru <strong>Barva kalendáře</strong>.</li><li>Nastaví obsah hlavičky kalendáře dle hodnoty vstupního parametru <strong>Obsah panelu</strong>.</li><li>Přiřadí kalendář ke <a href="702uc10-119638249.html">Skupině</a>, u které identifikátor odpovídá hodnotě vstupního parametru <strong>Identifikátor skupiny</strong>.<br><ul><li><em>Pokud není hodnota vstupního parametru <strong>Identifikátor skupiny</strong> k dispozici, je <a href="702uc10-119638249.html">Kalendář</a> vykreslen mimo <a href="702uc10-119638249.html">Skupiny</a>.</em><br> </li></ul></li></ul></li></ol><p>Poznámka: Vykreslení kalendáře je provedeno až po zavolání funkce <a href="702uc10-119638249.html">Obnovit data</a>.</p><h4>Výstupní data</h4><p>–</p><h3>Vložit položku kalendáře</h3><p>Po spuštění funkce dojde k načtení informací o <a href="702uc10-119638249.html">Položce kalendáře</a> (včetně odpovídajícího <a href="702uc10-119638249.html">Kalendáře</a>).</p><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1"><p>Identifikátor položky</p></td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Identifikátor vkládané položky pro následnou práci s ní.</td><td colspan="1">–</td></tr><tr><td colspan="1">Identifikátor kalendáře</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Identifikátor kalendáře, do kterého má být položka vložena.</td><td colspan="1">–</td></tr><tr><td colspan="1">Obsah panelu</td><td colspan="1">–</td><td colspan="1">Ano</td><td colspan="1">Specifikace toho, co má být zobrazeno v rámci položky kalendáře.</td><td colspan="1"><p>Může se jednat o prostý text, ale také o ovládací prvek.</p><p>Současně je předáno časové určení panelu a jeho výška (doba trvání).</p></td></tr><tr><td colspan="1">Dostupnost Drag&Drop režimu</td><td colspan="1">Boolean</td><td colspan="1">Ano</td><td colspan="1">Informace, zda je pro danou položku kalendáře dostupný Drag&Drop režim (pokud ano, je předána hodnota <strong>TRUE</strong>).</td><td colspan="1">Pokud je na úrovni komponenty dostupný Drag&Drop režim, je možné vyjmout některé z vložených položek kalendáře (funkčnost pro ně nebude dostupná).</td></tr><tr><td colspan="1">Čas začátku</td><td colspan="1">Datum a čas</td><td colspan="1">Ano</td><td colspan="1">Časové razítko s informací, v jaký čas daná položka začíná.</td><td colspan="1">–</td></tr><tr><td colspan="1">Čas konce</td><td colspan="1">Datum a čas</td><td colspan="1">Ne</td><td colspan="1">Časové razítko s informací, v jaký čas daná položka končí.</td><td colspan="1">–</td></tr><tr><td colspan="1">Úroveň vykreslení</td><td colspan="1">Celé číslo</td><td colspan="1">Ano</td><td colspan="1">Specifikace, na které úrovni má být položka kalendáře vykreslena.</td><td colspan="1">Hodnota <strong>1</strong> znamená, že bude položka vykreslena v popředí.</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Systém vyhodnotí, zda byla daná <a href="702uc10-119638249.html">Položka kalendáře</a> do vertikálního kalendáře již vložena – pokud jsou splněny všechny dále uvedené podmínky, je tok událostí předčasně ukončen:<br><ul><li>Je obsažena <a href="702uc10-119638249.html">Položka kalendáře</a>, u které se identifikátor rovná hodnotě vstupního parametru <strong>Identifikátor položky</strong>.</li></ul></li><li>Systém vloží do vertikálního kalendáře novou <a href="702uc10-119638249.html">Položku kalendáře</a> – provede následující akce:<br><ul><li>Nastaví identifikátor položky kalendáře dle hodnoty vstupního parametru <strong>Identifikátor položky</strong>.</li><li>Nastaví obsah položky kalendáře dle hodnoty vstupního parametru <strong>Obsah panelu</strong>.</li><li>Nastaví začátek položky kalendáře dle hodnoty vstupního parametru <strong>Čas začátku</strong> (vzhledem k <a href="702uc10-119638249.html">Časové ose</a>).</li><li>Nastaví konec položky kalendáře dle hodnoty vstupního parametru <strong>Čas konce</strong> (vzhledem k <a href="702uc10-119638249.html">Časové ose</a>).</li><li>Nastaví úroveň vykreslení položky kalendáře dle hodnoty vstupního parametru <strong>Úroveň vykreslení</strong>.</li><li>Přiřadí položku kalendáře ke <a href="702uc10-119638249.html">Kalendáři</a>, u které identifikátor odpovídá hodnotě vstupního parametru <strong>Identifikátor kalendáře</strong>.</li></ul></li></ol><p>Poznámka: Vykreslení kalendáře je provedeno až po zavolání funkce <a href="702uc10-119638249.html">Obnovit data</a>.</p><h4>Výstupní data</h4><p>–</p><h3>Odebrat data</h3><p>Po spuštění funkce dojde k odebrání veškerých dosud načtených dat (vyčištění kalendáře).</p><h4>Vstupní data</h4><p>–</p><h4>Tok událostí</h4><ol><li>Systém odebere data získaná v rámci veřejné funkce <a href="702uc10-119638249.html">Vložit položku kalendáře</a>.</li><li>Systém odebere data získaná v rámci veřejné funkce <a href="702uc10-119638249.html">Vložit kalendář</a>.</li><li>Systém odebere data získaná v rámci veřejné funkce <a href="702uc10-119638249.html">Vložit skupinu</a>.</li></ol><p>Poznámka: Vykreslení kalendáře je provedeno až po zavolání funkce <a href="702uc10-119638249.html">Obnovit data</a>.</p><h4>Výstupní data</h4><p>–</p><h3>Obnovit data</h3><p>Po spuštění funkce dojde k překreslení kalendáře, současně dochází k získání aktuálních informací v rámci obsažených referencí (např. odkazovaný <a href="../../../../datove-modely/datovy-78681044.html">Objekt</a> představující vozidlo).</p><h4>Vstupní data</h4><p>–</p><h4>Tok událostí</h4><ol><li>Systém aktualizuje zobrazení informací načtených v kalendáři (viz <a href="702uc10-119638249.html">Vertikální kalendář</a>).<br><ul><li><em>Vzhledem k aktuálnímu nastavení <a href="702uc10-119638249.html">časové osy</a>.</em></li></ul></li></ol><h4>Výstupní data</h4><p>–</p><h1>Uživatelské rozhraní</h1><h2>Drátový diagram</h2><p><img src="702uc10-zobrazit-vertikalni-kalendar-119638249_images/image2024-9-18 11-47-12.png" data-attachment="true"></p><h2>Přehled UI komponent</h2><table><tbody><tr><th>Prvek</th><th>Stručný popis</th><th>Poznámka</th></tr><tr><td colspan="1"><a href="702uc10-119638249.html">Časová osa</a></td><td colspan="1">Časová osa umožňuje nastavení zobrazené části dne.</td><td colspan="1">Součásti časové osy je také rastr zobrazený pod dostupnými kalendáři.</td></tr><tr><td colspan="1"><a href="702uc10-119638249.html">Vertikální kalendář</a></td><td colspan="1">Plocha kalendáře, v rámci které jsou zobrazeny dílčí prvky.</td><td colspan="1">Prvky dílčího kalendáře jsou pak zobrazeny pod sebou (svislá časová osa).</td></tr></tbody></table><h2>Časová osa</h2><p>Prvek slouží k zobrazení časové osy, která je doplněna o rastr. Umožněna je pak také změna zobrazeného období.</p><ul><li>V rámci časové osy je zobrazeno období 1 dne, ve výchozím stavu je pak zobrazen celý den.</li><li>Nastavené období si systém typicky pamatuje, to je ovšem řešeno až v rámci nadřazeného UC.</li><li>Rozložení a chování časové osy je naznačeno na obrázku, vychází pak z <a href="#" data-page-title="700UI08: Časová osa"></a>.</li></ul><p>Poznámka: Po změně zobrazeného období dochází k okamžitému překreslení informací ve <a href="702uc10-119638249.html">vertikálním kalendáři</a>.</p><p><img src="702uc10-zobrazit-vertikalni-kalendar-119638249_images/image2024-9-19 11-22-29.png" data-attachment="true"></p><h2>Vertikální kalendář</h2><p>Prvek slouží k zobrazení informací, které jsou dány dobou trvání (nebo alespoň časovým razítkem). Ty jsou zobrazovány pod sebou vzhledem k časové ose. Strukturu si nyní popíšeme.</p><h3>Drátový diagram</h3><p><img src="702uc10-zobrazit-vertikalni-kalendar-119638249_images/image2024-9-20 8-37-19.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Prvek</th><th>Stručný popis</th><th>Poznámka</th></tr><tr><td colspan="1"><a href="702uc10-119638249.html">Skupina</a></td><td colspan="1">Prvek umožňuje sloučení dílčích kalendářů do skupin.</td><td colspan="1">Dílčí kalendář je možné zobrazit bez zařazení do skupiny.</td></tr><tr><td colspan="1"><a href="702uc10-119638249.html">Kalendář</a></td><td colspan="1">Prvek představuje samotný kalendář, v rámci kterého jsou zobrazovány jeho položky.</td><td colspan="1">Součástí kalendáře je také hlavička, v rámci které je možné zobrazit základní informace o daném kalendáři.</td></tr><tr><td colspan="1"><a href="702uc10-119638249.html">Položka kalendáře</a></td><td colspan="1">Konkrétní položka kalendáře, která má typicky určitou dobu trvání.</td><td colspan="1">Položky, které nemají dobu trvání, jsou vykresleny konstantní velikostí.</td></tr></tbody></table><h3>Skupina</h3><p>Jednotlivé kalendáře mohou být členěny do skupin, kterým se nyní budeme věnovat. Jedná se o grafické odlišení vedle sebe umístěných kalendářů.</p><ul><li>Skupina představuje panel, který je vykreslen nad odpovídajícími kalendáři (kalendáři dané skupiny).</li><li>Pokud jsou vedle sebe alespoň 2 kalendáře stejné skupiny, je vykreslen souvislý panel (viz Skupina 1).</li><li>Skupinu je pak možné konfigurovat (na úrovni jednotlivých skupin), k dispozici jsou dále uvedené parametry:<br><ul><li><strong>Barva ohraničení</strong> – barva, kterou je vykresleno ohraničení panelu.</li><li><strong>Barva výplně</strong> – barva, kterou je vykreslena výplň panelu (včetně průhlednosti).</li><li><strong>Obsah panelu</strong> – obsah zobrazený v rámci panelu, typicky se pak jedná o text (včetně barvy).</li></ul></li></ul><p><em>Dostupné parametry mohou být dále rozšiřovány (např. síla čáry ohraničení), to však bude řešeno až v případě potřeby. V těchto případech bude použita pevně daná hodnota.</em></p><p><img src="702uc10-zobrazit-vertikalni-kalendar-119638249_images/image2024-9-20 8-53-43.png" data-attachment="true"></p><h3>Kalendář</h3><p>Informace, které chceme v rámci kalendáře zobrazit můžeme dělit do 2 skupin (viz obrázek), tomu odpovídá také struktura jednotlivých kalendářů:</p><ol><li><strong>Informace o kalendáři</strong> – souhrnné informace související s daným kalendářem (např. informace o vozidle a jeho posádce).</li><li><strong>Položky kalendáře</strong> – prostor, v rámci kterého zobrazujeme dílčí položky kalendáře (např. zakázky daného vozidla).</li></ol><p><img src="702uc10-zobrazit-vertikalni-kalendar-119638249_images/image2024-9-20 9-35-42.png" data-attachment="true"></p><p>Jednotlivé kalendáře jsou umisťovány vedle sebe, vykreslení probíhá následovně:</p><ul><li><strong>Šířka kalendáře</strong> – dáno veřejným atributem <a href="702uc10-119638249.html">Šířka kalendáře</a> (při změně hodnoty je potřeba provést překreslení).</li><li><strong>Výška hlavičky kalendáře</strong> (komponenta 1) – dáno veřejným atributem <a href="702uc10-119638249.html">Výška hlavičky kalendáře</a> (při změně hodnoty je potřeba provést překreslení).</li></ul><p>Kalendář je pak možné konfigurovat (na úrovni jednotlivých kalendářů), k dispozici jsou dále uvedené parametry:</p><ul><li><strong>Barva ohraničení</strong> – barva, kterou je vykresleno ohraničení kalendáře.</li><li><strong>Informace o kalendáři</strong> – specifikace panelu se souhrnnými informacemi.</li><li><strong>Položky kalendáře</strong> – specifikace dostupných <a href="702uc10-119638249.html">Položek kalendáře</a> (viz dále).</li></ul><p>Kalendář jako takový je možné označit (viz <a href="702uc10-119638249.html">Označení kalendáře</a>), v takovém případě dochází k jeho grafickému odlišení…</p><ul><li><strong>Barva pozadí</strong> – barva, kterou je vykresleno ohraničení kalendáře (průhlednost nastavena na <strong>5 %</strong>).</li></ul><p><img src="702uc10-zobrazit-vertikalni-kalendar-119638249_images/image2024-10-7 11-16-26.png" data-attachment="true"><br></p><p><em>Dostupné parametry mohou být dále rozšiřovány (např. barva výplně), to však bude řešeno až v případě potřeby. V těchto případech bude použita pevně daná hodnota.</em></p><h3>Položka kalendáře</h3><p>V kalendáři zobrazujeme informace, které jsou dány dobou trvání (případně alespoň časovým razítkem). Ty jsou vkládány jako položky jednotlivých kalendářů.</p><ul><li><strong>Položky dané dobou trvání</strong> – výška panelu odpovídá získané době trvání (vzhledem k nastavení časové osy).</li><li><strong>Položky dan časovým razítkem</strong> – výška panelu je pevně dána (typicky se jedná o horizontální čáru dané tloušťky).</li></ul><p>U každé položky kalendáře tedy potřebujeme znát následující informace…</p><ul><li><strong>Okamžik začátku dané položky</strong> – časové razítko s informací, v jaký čas daná položka začíná.</li><li><strong>Okamžik konce dané položky</strong> – časové razítko s informací, v jaký čas daná položka končí.<ul><li><em>Nejedná se pak o povinný údaj, potřebujeme ho pouze u položek daných dobou trvání.</em></li></ul></li></ul><p>Při vkládání položky do kalendáře pak pracujeme s úrovněmi vykreslení, ty fungují následovně…</p><ul><li>Každá položka má svou úroveň zobrazení, ta říká, v jaké vrstvě bude položka vykreslena.</li><li>Čím nižší úroveň, tím je položka vykreslena níže (úroveň 3 je vykreslována pod úrovní 2).</li><li>To, jakým způsobem se budou kolizní položky překrývat, je tedy dáno úrovní vykreslení.</li><li>Kolizní položky stejné úrovně jsou vykreslovány postupně, nahoře je ta „později“ vykreslená.</li><li>Počet úrovní vykreslení není omezen, pracujeme tedy v rozsahu <strong>1..N</strong> (pouze celá čísla).</li></ul><p><img src="702uc10-zobrazit-vertikalni-kalendar-119638249_images/image2024-9-20 10-21-40.png" data-attachment="true"></p><h2>Chování</h2><h3>Označení kalendáře</h3><p>Komponenta vertikálního kalendáře umožňuje označení dílčích <a href="702uc10-119638249.html">Kalendářů</a>, to je podmíněno nastavením atributu <a href="702uc10-119638249.html">Dostupnost označování kalendářů</a> (viz dále). Samotné označení je pak možné provést několika způsoby…</p><ul><li><strong>Označení uživatelem</strong> – uživatel může kliknutím na <a href="702uc10-119638249.html">Kalendář</a> provést jeho označení (včetně možnosti označení více záznamů).</li><li><strong>Označení nadřazeným UC</strong> – označené <a href="702uc10-119638249.html">Kalendáře</a> je možné provést pomocí veřejných atributů (zajištění interakcí).</li></ul><p>Poznámka: Aktuálně označené <a href="702uc10-119638249.html">Kalendáře</a> jsou graficky odlišeny.</p><h4>Označení kalendáře uživatelem</h4><p>Uživatel může označit <a href="702uc10-119638249.html">Kalendář</a> (resp. jejich množinu), pokud je to na úrovni komponenty povoleno. Vyhodnocujeme pak hodnotu veřejného atributu <a href="702uc10-119638249.html">Dostupnost označování kalendářů</a>. Samotné chování je popsáno v tabulce.</p><ul><li>Při označení <a href="702uc10-119638249.html">Kalendáře</a> je současně prováděna aktualizace dále uvedených veřejných atributů: <a href="702uc10-119638249.html">Označené kalendáře</a>, <a href="702uc10-119638249.html">Poslední označený kalendář</a>.</li><li>Nastavení uvedených atributu tedy vždy odpovídá aktuálnímu stavu vertikálního kalendáře. </li></ul><table><tbody><tr><th>Dostupnost označování kalendářů</th><th>Chování</th><th>Poznámka</th></tr><tr><td><p>Vypnuto</p></td><td>Není možné označit <a href="702uc10-119638249.html">Kalendář</a>, kliknutí na něj neprovede jeho výběr.</td><td>–</td></tr><tr><td>Jeden záznam</td><td><p>Je možné označit maximálně jeden <a href="702uc10-119638249.html">Kalendář</a>.</p><ul><li>Samotné označení jak pak provedeno kliknutím na <a href="702uc10-119638249.html">Kalendář</a> levým tlačítkem myši.</li><li>Označení jednoho <a href="702uc10-119638249.html">Kalendáře</a> zruší případné označení ostatních <a href="702uc10-119638249.html">Kalendářů</a> (bez ohledu na režim). </li></ul></td><td>Případné stisknutí klávesy <strong>Ctrl</strong> nemá vliv na uvedené chování. </td></tr><tr><td>Více záznamů</td><td><p>Je možné označit libovolné množství <a href="702uc10-119638249.html">Kalendářů</a>.</p><ul><li>Samotné označení je pak provedeno kliknutím na <a href="702uc10-119638249.html">Kalendář</a> levým tlačítkem myši při současném stisknutí klávesy <strong>Ctrl</strong>.</li><li>Pokud v tomto případě uživatel klikne na již označený <a href="702uc10-119638249.html">Kalendář</a>, dojde ke zrušení jeho označení.</li></ul></td><td><p>Kliknutí na <a href="702uc10-119638249.html">Kalendář</a> bez stisknutí klávesy <strong>Ctrl</strong> zruší označení zbývajících <a href="702uc10-119638249.html">Kalendářů</a>.</p></td></tr></tbody></table><h4>Označení kalendáře nadřazeným UC</h4><p>Označení <a href="702uc10-119638249.html">Kalendáře</a> je možné provést také v rámci nadřazeného UC. To je typicky způsobeno nějakou interakcí, např. označením záznamu v jiném panelu dané obrazovky. Samotné chování je popsáno v tabulce.</p><table><tbody><tr><th>Dostupnost označování kalendářů</th><th>Chování</th><th>Poznámka</th></tr><tr><td><p>Vypnuto</p></td><td>Není možné označit <a href="702uc10-119638249.html">Kalendář</a>, hodnota veřejného atributu <a href="702uc10-119638249.html">Označené kalendáře</a> je ignorována.</td><td>–</td></tr><tr><td>Jeden záznam</td><td><p>Je možné označit maximálně jeden <a href="702uc10-119638249.html">Kalendář</a>.</p><ul><li>Samotné označení je provedeno dle hodnoty veřejného atributu <a href="702uc10-119638249.html">Označené kalendáře</a>.</li><li>Pokud je obsažena identifikace více jak jednoho <a href="702uc10-119638249.html">Kalendáře</a>, pracujeme s tou v pořadí první.</li></ul></td><td>Při označování je tedy uvažován maximálně jeden ze získaných <a href="702uc10-119638249.html">Kalendář</a>.</td></tr><tr><td>Více záznamů</td><td><p>Je možné označit libovolné množství <a href="702uc10-119638249.html">Kalendářů</a>.</p><ul><li>Samotné označení je provedeno dle hodnoty veřejného atributu <a href="702uc10-119638249.html">Označené kalendáře</a>.</li><li>Pokud je tedy obsažena identifikace více jak jednoho <a href="702uc10-119638249.html">Kalendáře</a>, pracujeme s celou množinou.</li></ul></td><td><p>–</p></td></tr></tbody></table><h3>Označení položky kalendáře</h3><p>TODO</p><h3>Drag&Drop režim</h3><p>Komponenta vertikálního kalendáře umožňuje změnu pozice jednotlivých <a href="702uc10-119638249.html">Položek kalendáře</a> přetažením (tzv. Drag&Drop režim). To je podmíněno nastavením atributu <a href="702uc10-119638249.html">Dostupnost Drag&Drop režimu</a> (viz dále). Samotné provedení změny pozice je pak možné provést několika způsoby…</p><ul><li><strong>Není k dispozici</strong> – chování související s Drag&Drop režimem je možné potlačit (vypnout na úrovni použití daného vertikálního kalendáře).</li><li><strong>Dle položek kalendáře</strong> – místa, na která je možné umístit <a href="702uc10-119638249.html">Položku kalendáře</a>, jsou dána množinou dostupných položek obsažených <a href="702uc10-119638249.html">Kalendářů</a>.</li><li><strong>Dle časového určení</strong> – místa, na která je možné umístit <a href="702uc10-119638249.html">Položku kalendáře</a>, jsou dána specifikací konkrétních časů (např. každých 30 minut). <em>Není implementováno.</em> </li></ul><h4>Drag&Drop režim není k dispozici</h4><p>Tento režim je spuštěn v případě, kdy je hodnota veřejného atributu <a href="702uc10-119638249.html">Dostupnost Drag&Drop režimu</a> nastavena na hodnotu <strong>Vypnuto</strong>.</p><ul><li>Chování související s Drag&Drop režimem není dostupné.</li><li>Uživatel tedy nemůže přesouvat <a href="702uc10-119638249.html">Položky kalendáře</a>.</li></ul><h4>Drag&Drop režim dle položek kalendáře</h4><p>Tento režim je spuštěn v případě, kdy je hodnota veřejného atributu <a href="702uc10-119638249.html">Dostupnost Drag&Drop režimu</a> nastavena na hodnotu <strong>Položky kalendáře</strong>.</p><ul><li>Chování související s Drag&Drop režimem je dostupné.</li><li>Cílová místa v rámci kalendáře odpovídají dostupným položkám.</li><li>Drag&Drop režim je možné potlačit na úrovni jednotlivých kalednářů.</li></ul><p>Samotné chování si nyní popíšeme…</p><ol><li>Uživatel stiskne a drží levé tlačítko myši nad požadovanou <a href="702uc10-119638249.html">Položkou kalendáře</a>.<br><ul><li>Pokud není pro odpovídající <a href="702uc10-119638249.html">Kalendář</a> a danou <a href="702uc10-119638249.html">Položku kalendáře</a> dostupný Drag&Drop režim, tok událostí předčasně končí (není provedena žádná akce).</li><li>Drag&Drop režim je pro <a href="702uc10-119638249.html">Kalendář</a> dostupný v případě, že byla v rámci metody <a href="702uc10-119638249.html">Vložit kalendář</a> pro atribut <strong>Dostupnost Drag&Drop režimu</strong> předána hodnota <strong>TRUE</strong>.</li><li>Drag&Drop režim je pro <a href="702uc10-119638249.html">Položku kalendáře</a> dostupný v případě, že byla v rámci metody <a href="702uc10-119638249.html">Vložit položku kalendáře</a> pro atribut <strong>Dostupnost Drag&Drop režimu</strong> předána hodnota <strong>TRUE</strong>.<br></li></ul></li><li>Systém spustí Drag&Drop režim – zobrazí cílová místa pro umístění <a href="702uc10-119638249.html">Položky kalendáře</a>, ta se mohou lišit na úrovni jednotlivých <a href="702uc10-119638249.html">Kalendářů</a> následovně (bližší popis viz dále):<br><ul><li><strong>Celý kalendář</strong> – pro <a href="702uc10-119638249.html">Kalendáře</a>, které neobsahují ani jednu <a href="702uc10-119638249.html">Položku kalendáře</a>.</li><li><strong>Jednotlivé položky</strong> – pro <a href="702uc10-119638249.html">Kalendáře</a>, které obsahují alespoň jednu <a href="702uc10-119638249.html">Položku kalendáře</a>.</li><li><strong>Nejsou k dispozici</strong> – pro <a href="702uc10-119638249.html">Kalendáře</a>, u kterých není dostupný Drag&Drop režim.</li></ul></li><li>Uživatel umístí <a href="702uc10-119638249.html">Položku kalendáře</a> na požadované místo (uvolní levé tlačítko myši):<br><ol><li>Pokud je <a href="702uc10-119638249.html">Položka kalendáře</a> vložena na cílové místo:<ol><li>Systém vyvolá veřejnou událost <a href="702uc10-119638249.html">Změna pozice položky kalendáře</a>, výstupní parametry jsou nastaveny následovně:<br><ul><li><strong>Identifikátor položky objednávky</strong> – identifikátor <a href="702uc10-119638249.html">Položky kalendáře</a>, kterou uživatel přesouval (viz krok <strong>1</strong>).</li><li><strong>Identifikátor cílového kalendáře</strong> – identifikátor <a href="702uc10-119638249.html">Kalendáře</a>, na kterou byla položka vložena (viz krok <strong>3.a</strong>).</li><li><strong>Identifikátor cílové položky kalendáře</strong> – identifikátor <a href="702uc10-119638249.html">Položky kalendáře</a>, ke které byla položka vložena (viz krok <strong>3.a</strong>).<br><ul><li><em>Nemusí být předána žádná hodnota, jedná se o případ, kdy je zvolen prázdný <a href="702uc10-119638249.html">Kalendář</a>.</em></li></ul></li><li><strong>Pozice vzhledem k cílové položce kalendáře</strong> – pozice, vzhledem k cílové <a href="702uc10-119638249.html">Položce kalendáře</a>…<br><ul><li><strong>Začátek</strong> – položka byla vložena před cílovou <a href="702uc10-119638249.html">Položku kalendáře</a>.</li><li><strong>Konec</strong> – položka byla vložena za cílovou <a href="702uc10-119638249.html">Položku kalendáře</a>.</li><li><strong>NULL</strong> – cílová <a href="702uc10-119638249.html">Položka kalendáře</a> není k dispozici.</li></ul></li></ul></li><li>Tok událostí končí – Drag&Drop režim je ukončen.</li></ol></li><li>Jinak je <a href="702uc10-119638249.html">Položka kalendáře</a> vložena mimo cílové místo:<br><ol><li>Tok událostí předčasně končí – Drag&Drop režim je ukončen (není provedena žádná akce).<ul><li><em>Může se jednat také o <a href="702uc10-119638249.html">Kalendář</a>, u kterého není povolen Drag&Drop režim.</em></li><li><em>Uvedeného chování je možné docílit také stisknutím klávesy <strong>Esc</strong>.</em></li></ul></li></ol></li></ol></li></ol><p>Na obrázku je pak naznačen způsob vykreslení cílových ploch v závislosti na konkrétním kalendáři…</p><ol><li><strong>Celý kalendář</strong> – pro <a href="702uc10-119638249.html">Kalendáře</a>, které neobsahují ani jednu <a href="702uc10-119638249.html">Položku kalendáře</a>.</li><li><strong>Jednotlivé položky</strong> – pro <a href="702uc10-119638249.html">Kalendáře</a>, které obsahují alespoň jednu <a href="702uc10-119638249.html">Položku kalendáře</a>.</li><li><strong>Nejsou k dispozici</strong> – pro <a href="702uc10-119638249.html">Kalendáře</a>, u kterých není dostupný Drag&Drop režim.</li></ol><p><img src="702uc10-zobrazit-vertikalni-kalendar-119638249_images/image2024-10-8 11-35-13.png" data-attachment="true"></p><h4>Drag&Drop režim dle časového určení</h4><p>Tento režim je spuštěn v případě, kdy je hodnota veřejného atributu <a href="702uc10-119638249.html">Dostupnost Drag&Drop režimu</a> nastavena na hodnotu <strong>Časové razítko</strong>. <em>Není implementováno.</em></p><h2>Uživatelská nastavení</h2><p>V rámci obrazovky jsou použita <a href="../../../persistence-stavu-ui/uzivatelska-86149256.html">Uživatelská nastavení klienta</a>. Prvky, u kterých je ukládáno uživatelské nastavení, jsou uvedeny ve formě tabulky. Jejich výchozí hodnota pak odpovídá popisu uživatelského rozhraní.</p><table><tbody><tr><th>Funkční celek</th><th>Ukládaná hodnota</th><th>Poznámka</th></tr><tr><td colspan="1"><a href="702uc10-119638249.html">Časová osa</a></td><td colspan="1"><p>Nastavení časové osy.</p></td><td colspan="1">Ukládáno v rámci nadřazeného UC, tedy samostatně pro každé použití komponenty.</td></tr></tbody></table><h2>Parametry URL</h2><p>–</p><h1>Grafický návrh</h1><p>TODO</p><h1>Revize</h1><h2>4. 10. 2024: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></div></div></div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></div></div></div></th></tr><tr><td colspan="1"><a href="702uc10-119638249.html">Veřejné atributy</a></td><td colspan="1">Doplněny nové veřejné atributy (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="702uc10-119638249.html">Veřejné události</a></td><td colspan="1">Doplněny nové veřejné události (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="702uc10-119638249.html">Vložit kalendář</a></td><td colspan="1">Revize vstupních parametrů veřejné funkce (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="702uc10-119638249.html">Vložit položku kalendáře</a></td><td colspan="1">Revize vstupních parametrů veřejné funkce (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="702uc10-119638249.html">Kalendář</a></td><td colspan="1">Doplněno nastavení výšky hlavičky kalendáře a způsob zvýraznění označených záznamů (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="702uc10-119638249.html">Označení kalendáře</a></td><td colspan="1">Doplněno chování související s označováním kalendářů (naznačeno růžově).</td></tr></tbody></table>
</div>
</body>
</html>
