<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>207UC01: Agregovat objednané služby denního výkonu dle místa realizace</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je zpracování denního výkonu, kdy dochází k agregaci v něm obsažených objednaných služeb dle jejich místa realizace (a potažmo tedy i zákazníka). Získaná data pak mohou být použita následovně:</p><ul><li>Generování itineráře při odeslání trasy denního výkonu do FOB, viz <a href="#" data-page-title="602UC09: Přijmout požadavek na získání konkrétních částí trasy z FOB"></a>.</li><li>Generování itineráře při odeslání zjednodušeného itineráře trasy denního výkonu do FOB, viz <a href="#" data-page-title="602UC12: Přijmout požadavek na získání konkrétních částí souhrnného itineráře trasy z FOB"></a>.</li></ul><p>Poznámka: Samotná agregace pak vychází z požadavků zákazníka MPG SK, konkrétně z tiskové sestavy řešené v rámci <a href="#" data-page-title="200UI17: Potvrzení o výkonu objednané služby (HNK, RNK, Valník)"></a>.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="../../../high-level-concept/akteri-78680673.html">Aktéři</a>.</p><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na agregaci objednaných služeb denního výkonu, a to jedním z uvedených způsobů:</p><ul><li>Uživatel zadá (nepřímo) požadavek na generování zjednodušeného itineráře trasy denního výkonu (viz  <a href="#" data-page-title="205UC10: Generovat souhrnný itinerář trasy denního výkonu"></a>).</li></ul><h2>Vstupní podmínky</h2><p>Ke spuštění případu užití jsou nutná následující oprávnění na typ entit (viz <a href="#" data-page-title="Uživatelská oprávnění a role"></a>):</p><ul><li>Alespoň jedno z uvedených oprávnění: Denní výkony - zobrazení, Denní výkony - zobrazení a modifikace.</li><li>Alespoň jedno z uvedených oprávnění: Likvidační místa - zobrazení, Likvidační místa - zobrazení a modifikace.</li><li>Alespoň jedno z uvedených oprávnění: Objednávky - zobrazení, Objednávky - zobrazení a modifikace.</li><li>Alespoň jedno z uvedených oprávnění: Objednané služby - zobrazení, Objednané služby - zobrazení a modifikace.</li><li>Alespoň jedno z uvedených oprávnění: Zákazníci - zobrazení, Zákazníci - zobrazení a modifikace.</li><li>Alespoň jedno z uvedených oprávnění: Organizační složky - zobrazení, Organizační složky - zobrazení a modifikace.</li><li>Oprávnění: Typy nádob - zobrazení.<br></li></ul><h2>Vstupní data</h2><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Denní výkon</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a></td><td colspan="1">Ano</td><td colspan="1">Denní výkon, v rámci kterého je požadována agregace objednaných služeb.</td><td colspan="1">Nedochází k žádným změnám na úrovni daného denního výkonu.</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Systém vytvoří prázdný záznam typu <a href="207uc01-115608590.html">Agregované informace o denním výkonu</a>, s kterým dále pracuje (viz <a href="207uc01-115608590.html">Datové struktury</a>).</li><li>Systém získá informace o <a href="../../../datove-modely/datovy-78681044.html">Denním výkonu</a> (viz <a href="207uc01-115608590.html">ALG01: Získat informace o denním výkonu</a>).</li><li>Systém získá informace o přívěsech přiřazených k <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> (viz <a href="207uc01-115608590.html">ALG02: Získat informace o přívěsech</a>).</li><li>Systém získá informace o objednaných službách <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (viz <a href="207uc01-115608590.html">ALG03: Získat informace o objednaných službách</a>).</li><li>Systém předá na výstupu UC připravený záznam typu <a href="207uc01-115608590.html">Agregované informace o denním výkonu</a> (výstupní parametr <strong>Agregované informace o denním výkonu</strong>).</li></ol><p>Poznámka: V rámci tohoto UC pracujeme s pomocnou datovou strukturou, která slouží pro uchování agregovaných informací a která je předávána na výstupu (viz <a href="207uc01-115608590.html">Agregované informace o denním výkonu</a>).</p><h1>Alternativní toky událostí</h1><p>–</p><h1>Výjimkové toky událostí</h1><p>–</p><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Byl zpracován na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>), výsledkem je pak struktura s <a href="207uc01-115608590.html">Agregovanými informacemi o denním výkonu</a> (výstupní parametr <strong>Agregované informace o denním výkonu</strong>). </p><h2>Výstupní data</h2><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Agregované informace o denním výkonu</td><td colspan="1"><a href="207uc01-115608590.html">Agregované informace o denním výkonu</a></td><td colspan="1">Ano</td><td colspan="1">Informace o agregovaných objednaných službách denního výkonu.</td><td colspan="1">Jedná se o pomocnou datovou strukturu, která slouží čistě k předání informací mezi jednotlivými UC.</td></tr></tbody></table><h1>Algoritmy</h1><h2>ALG01: Získat informace o denním výkonu</h2><p>Cílem algoritmu je vyhodnocení na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr <strong>Denní výkon</strong>), konkrétně informací přímo o něm. Pracujeme tedy s pomocnou datovou strukturou <a href="http://Informace o denním výkonu">Informace o denním výkonu</a> (viz <a href="207uc01-115608590.html">Datové struktury</a>).</p><ol><li>Systém vytvoří záznam typu <a href="http://xn--informace%20o%20dennm%20vkonu-9xc51c/">Informace o denním výkonu</a> a provede jeho nastavení.<br><ul><li><strong>Provozovna</strong>: hodnota atributu <strong>Provozovna</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li><strong>Vozidlo</strong>: hodnota atributu <strong>Vozidlo</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li><strong>Datum realizace</strong>: hodnota atributu <strong>Datum realizace</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li><strong>Ujetá vzdálenost</strong>: hodnota atributu <strong>Ujetá vzdálenost celkem</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li><strong>Doba jízdy</strong>: hodnota atributu <strong>Doba jízdy celkem</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ul></li></ol><p>Poznámka: Jedná se o záznam, na který jsou navázány všechny dále získané informace o <a href="../../../datove-modely/datovy-78681044.html">Denním výkonu</a>.</p><h2>ALG02: Získat informace o přívěsech</h2><p>Cílem algoritmu je vyhodnocení přívěsů přiřazených k <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> získanému na vstupu (vstupní parametr <strong>Denní výkon</strong>). Pracujeme tedy s pomocnou datovou strukturou <a href="207uc01-115608590.html">Informace o přívěsu</a> (viz <a href="207uc01-115608590.html">Datové struktury</a>).</p><ol><li>Systém nalezne takové <a href="../../../datove-modely/datovy-78681044.html">Přívěsy denního výkonu</a>, které splňují všechny dále uvedené podmínky zároveň:<ul><li>Hodnota atributu <strong>Přívěs</strong> odpovídá na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a>.</li></ul></li><li>Pro všechny nalezené <a href="../../../datove-modely/datovy-78681044.html">Přívěsy denního výkonu</a> (viz krok <strong>1</strong>):<ol><li>Systém vytvoří záznam typu <a href="207uc01-115608590.html">Informace o přívěsu</a> a provede jeho nastavení:<ul><li><strong>Informace o denním výkonu</strong>: založený záznam typu <a href="http://xn--informace%20o%20dennm%20vkonu-9xc51c/">Informace o denním výkonu</a> (viz krok <strong>2</strong> základního toku událostí).<br></li><li><strong>Přívěs</strong>: hodnota atributu <strong>Přívěs</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Přívěsu denního výkonu</a>.</li></ul></li></ol></li></ol><p>Poznámka: Pokud není nalezen žádný <a href="../../../datove-modely/datovy-78681044.html">Přívěs denního výkonu</a>, není vytvořen ani žádný záznam typu <a href="207uc01-115608590.html">Informace o přívěsu</a>.</p><h2>ALG03: Získat informace o objednaných službách</h2><p>Cílem algoritmu je vyhodnocení <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a> (jejich agregace) naplánovaných na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> získaný na vstupu (vstupní parametr <strong>Denní výkon</strong>). Pracujeme tedy s pomocnou strukturou <a href="207uc01-115608590.html">Informace o agregované objednané službě</a> (viz <a href="207uc01-115608590.html">Datové struktury</a>).</p><ol><li>Systém nalezne takové <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a>, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Denní výkon</strong> odpovídá na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a>.</li><li>Hodnota atributu <strong>Typ položky</strong> je nastavena na <strong>Objednaná služba</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Typ položky denního výkonu</a>).</li></ul></li><li>Systém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (při současném „odebrání“ duplicit):<br><ol><li>Pro všechny nalezené <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> (viz krok <strong>1</strong>):<br><ol><li>Systém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a> (atribut <strong>Objednaná služba</strong> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a>).</li><li>Systém vyhodnotí, zda byla právě zkoumaná <a href="../../../datove-modely/datovy-78681044.html">Objednaná službu</a> již předána ke zpracování (z pohledu dělení objednaných služeb):<br><ol><li>Pokud je splněna alespoň jedna z dále uvedených podmínek, již <strong>došlo</strong> k předání <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> ke zpracování (ignorujeme ji).<br><ul><li>Hodnota atributu <strong>Předchozí </strong><strong>objednaná služba</strong> odkazuje na některou z <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a>, která již byla předána ke zpracování.</li><li>Hodnota atributu <strong>Následující objednaná služba</strong> odkazuje na některou z <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a>, která již byla předána ke zpracování.</li><li><em>Poznámka: V obou případech se může jednat o „kaskádu“ referencí, pokračujeme tedy do doby, kdy narazíme na její konec (vícenásobně dělení služeb).</em></li></ul></li><li>Jinak k předání <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> ke zpracování zatím <strong>nedošlo</strong>.<br><ol><li>Systém předá právě zkoumanou <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a> ke zpracování.<br><ul><li><em>Taková <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> bude řešena v rámci kroku <strong>3</strong>, a to v pořadí, ve kterém byla „poprvé“ předána ke zpracování.</em></li><li><em>Pořadí, ve kterém jsou <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> předávány ke zpracování, tedy odpovídá prvnímu výskytu v rámci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</em></li></ul></li></ol></li></ol></li></ol></li></ol></li><li>Pro všechny získané <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (viz krok <strong>2</strong>):<br><ol><li>Systém nalezne takový záznam s <a href="207uc01-115608590.html">Informací o agregované objednané službě</a>, který splňuje všechny dále uvedené podmínky (umožňuje sloučení s právě zkoumanou <a href="../../../datove-modely/datovy-78681044.html">Objednanou službou</a>):<br><ul><li>Hodnota atributu <strong>Zákazník</strong> odpovídá <a href="../../../datove-modely/datovy-78681044.html">Zákazníkovi</a>, pro kterého byla založena právě zkoumaná <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> (viz <a href="207uc01-115608590.html">ALG04: Získat zákazníka objednané služby</a>).</li><li>Hodnota atributu <strong>Adresa místa realizace</strong> odpovídá <a href="../../../datove-modely/datovy-78681044.html">Adrese</a> daného <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (viz <a href="207uc01-115608590.html">ALG05: Získat adresu místa realizace</a>).<br><ul><li>Vyhodnoceno na úrovni jednotlivých atributů entity <a href="../../../datove-modely/datovy-78681044.html">Adresa</a> (viz <a href="207uc01-115608590.html">ALG06: Porovnat textovou identifikaci adresy</a>).</li><li>V případě, kdy není <a href="../../../datove-modely/datovy-78681044.html">Adresa</a> k dispozici, vzniká „skupina“ takových objednaných služeb (viz <a href="207uc01-115608590.html">ALG05: Získat adresu místa realizace</a>).</li></ul></li></ul></li><li>Pokud nebyl nalezen záznam s <a href="207uc01-115608590.html">Informacemi o agregované objednané službě</a> (viz krok <strong>3.a</strong>):<br><ol><li>Systém vytvoří záznam typu <a href="207uc01-115608590.html">Informace o agregované objednané službě</a> a provede jeho nastavení.<br><ul><li><strong>Informace o denním výkonu</strong>: založený záznam typu <a href="http://xn--informace%20o%20dennm%20vkonu-9xc51c/">Informace o denním výkonu</a> (viz krok <strong>2</strong> základního toku událostí)</li><li><strong>Pořadí</strong>: pořadové číslo (počítadlo je platné na úrovni celého UC, první vložený záznam má pořadové číslo 1, u dalších dochází k jeho inkrementaci).</li><li><strong>Zákazník</strong>: odpovídající <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a>, pro kterého byla založena právě zkoumaná <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> (viz <a href="207uc01-115608590.html">ALG04: Získat zákazníka objednané služby</a>).</li><li><strong>Adresa místa realizace</strong>: odpovídající <a href="../../../datove-modely/datovy-78681044.html">Adresa</a> daného <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (viz <a href="207uc01-115608590.html">ALG05: Získat adresu místa realizace</a>).<br><ul><li>Pokud není <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> k dispozici, není předána ani jeho <a href="../../../datove-modely/datovy-78681044.html">Adresa</a> (nastaveno NULL).</li></ul></li></ul></li></ol></li><li>Pokud je k dispozici <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (resp. jeho <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>, viz <a href="207uc01-115608590.html">ALG05: Získat adresu místa realizace</a>):<br><ol><li>Systém získá informace o místu realizace, které odpovídají právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané službě</a> (viz <a href="207uc01-115608590.html">ALG07: Získat informace o místu realizace</a>).</li></ol></li><li>Systém získá informace o <a href="../../../datove-modely/datovy-78681044.html">Objednané nádobě</a>, která odpovídá právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané službě</a> (viz <a href="207uc01-115608590.html">ALG08: Získat informace o objednané nádobě</a>).</li><li>Systém získá informace o <a href="../../../datove-modely/datovy-78681044.html">Likvidačních místech</a>, která odpovídají právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané službě</a> (viz <a href="207uc01-115608590.html">ALG10: Získat informace o likvidačních místech</a>).</li></ol></li></ol><p>Poznámka: Pokud není nalezena žádná <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>, není vytvořen ani žádný záznam typu <a href="207uc01-115608590.html">Informace o agregované objednané službě</a>. V opačném případě zpracujeme obsažené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, ty rozdělené pak řešíme jako celek (jako kdyby rozděleny vůbec nebyly).</p><h2>ALG04: Získat zákazníka objednané služby</h2><p>Při práci s <a href="../../../datove-modely/datovy-78681044.html">Objednanými službami</a> mj. vyhodnocujeme konkrétního <a href="../../../datove-modely/datovy-78681044.html">Zákazníka</a>, pro kterého je odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> založena. Získáme ho následovně:</p><ul><li>Atribut <strong>Objednavatel</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> – atribut <strong>Objednávka</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> – atribut <strong>Položka objednávky</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a> – atribut <strong>Objednaná nádoba</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> – atribut <strong>Objednaný úkon</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</li></ul><h2>ALG05: Získat adresu místa realizace</h2><p>Při práci s <a href="../../../datove-modely/datovy-78681044.html">Objednanými službami</a> mj. vyhodnocujeme <a href="../../../datove-modely/datovy-78681044.html">Adresu</a> konkrétního <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a>, na kterém je umístěna nádoba. Získáme ji následovně:</p><ol><li>Systém vyhodnotí <a href="../../../datove-modely/datovy-78681044.html">Typ úkonu</a> (atribut <strong>Typ úkonu</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> – atribut <strong>Objednaný úkon</strong> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>):<br><ol><li><strong>Přistavení</strong>, <strong>Vývoz</strong>, <strong>Výměna</strong>, <strong>Odvoz</strong>, <strong>Sběr</strong>, <strong>Rozvoz</strong>, <strong>Manipulace</strong>, <strong>Přeprava</strong>: přechod na krok <strong>2</strong>.</li><li><strong>Vývoz mezi LM</strong>: přechod na krok <strong>3</strong> (nehledáme <a href="../../../datove-modely/datovy-78681044.html">Adresu</a> pro <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a>).</li></ol></li><li>Systém nalezne takovou <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a>, která splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Objednaná služba</strong> odpovídá jedné z dále uvedených <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a>:<br><ul><li>právě zkoumaná <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> (ta, pro kterou byl algoritmus spuštěn),</li><li>atribut <strong>Předchozí objednaná služba</strong> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (část rozdělené služby; vyhodnocena celá kaskáda),</li><li>atribut <strong>Následující objednaná služba</strong> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (část rozdělené služby; vyhodnocena celá kaskáda).</li></ul></li><li>Hodnota atributu <strong>Typ lokace</strong> je nastavena na <strong>Místo realizace</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Typ lokace objednané služby</a>).</li><li>Hodnota atributu <strong>Pořadí</strong> je vyhodnocena dle odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Typu úkonu</a> (atribut <strong>Typ úkonu</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> – atribut <strong>Objednaný úkon</strong> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>):<br><ul><li><p><strong>Přistavení</strong>, <strong>Vývoz</strong>, <strong>Výměna</strong>, <strong>Odvoz</strong>, <strong>Sběr</strong>, <strong>Rozvoz</strong>, <strong>Manipulace</strong>: hodnota atributu <strong>Pořadí</strong> je nejnižší.</p></li><li><p><strong>Přeprava</strong>: hodnota atributu <strong>Pořadí</strong> je nejvyšší (jako cíl je použito místo realizace zadané v rámci formuláře objednávky).</p></li><li><strong>Vývoz mezi LM</strong>: při tomto <a href="../../../datove-modely/datovy-78681044.html">Typu úkonu</a> není obsažena reference na <a href="../../../datove-modely/datovy-78681044.html">Místo realizace</a> (v takovém případě je tento krok algoritmu přeskočen).</li><li><em>Poznámka: Pokud je <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> rozdělena, probíhá vyhodnocení na úrovni dílčích <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a> (všech jejich částí).</em><br><ul><li><em>Začínáme u <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, která v rámci atributu <strong>Předchozí objednaná služba</strong> nemá nastavenou hodnotu (1. část).</em></li><li><em>Končíme u <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, která v rámci atributu <strong>Následující objednaná služba</strong> nemá nastavenou hodnotu (poslední část).</em></li><li><em>Tím získáme v pořadí první (případně poslední) <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> daného typu na úrovni <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> jako celku.</em></li></ul></li></ul></li></ul></li><li>Systém předá na výstupu algoritmu požadovanou <a href="../../../datove-modely/datovy-78681044.html">Adresu</a>:<br><ol><li>Pokud byla nalezena odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>: atribut <strong>Adresa</strong> nalezené <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>, viz krok <strong>2</strong>).</li><li>Jinak odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> nalezena nebyla: není předána žádná hodnota (NULL).</li></ol></li></ol><p>Poznámka: Na úrovni tohoto případu užití pracujeme s <a href="../../../datove-modely/datovy-78681044.html">Objednanou službou</a> jako celkem (bez ohledu na to, zda je rozdělena). Nemůže tedy nastat situace, kdy bychom v rámci uvedeného algoritmu nenalezli <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> požadovaného typu.</p><h2>ALG06: Porovnat textovou identifikaci adresy</h2><p>Cílem algoritmu je porovnání <a href="../../../datove-modely/datovy-78681044.html">Míst realizace</a> z pohledu jejich adresy. Jednotlivá <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> pak mohou mít stejnou adresu, lišit se však mohou v zadaných souřadnicích. Porovnání pomocí identifikátoru dané <a href="../../../datove-modely/datovy-78681044.html">Adresy</a> tedy nemusí být dostačující, může se jednat o různé instance se stejnou adresou. Proto vyhodnocujeme textovou reprezentaci dané <a href="../../../datove-modely/datovy-78681044.html">Adresy</a>, samotné porovnání probíhá následovně:</p><ul><li>Pokud je splněna alespoň jedna z dále uvedených podmínek, porovnávané <a href="../../../datove-modely/datovy-78681044.html">Adresy</a> si <strong>odpovídají</strong> (jsou shodné).<br><ul><li>Interní identifikátor porovnávaných <a href="../../../datove-modely/datovy-78681044.html">Adres</a> je shodný (jedná se o stejnou instanci).</li><li>Hodnoty všech dále uvedených atributů porovnávaných <a href="../../../datove-modely/datovy-78681044.html">Adres</a> se rovnají:<br><ul><li>Ulice,</li><li>Číslo popisné,</li><li>Číslo orientační,</li><li>Město,</li><li>PSČ,</li><li>Stát.</li></ul></li></ul></li><li>Jinak si porovnávané adresy <strong>neodpovídají</strong> (jsou různé).</li></ul><p>Poznámka: Může nastat situace, kdy na úrovni záznamu typu <a href="207uc01-115608590.html">Informace o agregované objednané službě</a> není <a href="../../../datove-modely/datovy-78681044.html">Adresa</a> odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Místa realizace</a> k dispozici.</p><ul><li>Pokud není <a href="../../../datove-modely/datovy-78681044.html">Adresa</a> k dispozici ani na jednom záznamu uvedeného typu, porovnávané záznamy si <strong>odpovídají</strong>.</li><li>Pokud je <a href="../../../datove-modely/datovy-78681044.html">Adresa</a> k dispozici pouze na jednom ze záznamů uvedeného typu, porovnávané záznamy si <strong>neodpovídají</strong>.</li><li>Pokud je <a href="../../../datove-modely/datovy-78681044.html">Adresa</a> k dispozici na obou záznamech uvedeného typu, probíhá porovnání dle popsané logiky.</li></ul><h2>ALG07: Získat informace o místu realizace</h2><p>Cílem algoritmu je vyhodnocení informací o místu realizace právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>. Výsledkem pak může být provedení jedné z dále uvedených akcí…</p><ul><li>Založení nového záznamu s <a href="207uc01-115608590.html">Informacemi o místu realizace</a> (viz <a href="207uc01-115608590.html">Datové struktury</a>) v případě, kdy nejsou získané informace zatím obsaženy.</li><li>Použití již existujícího záznamu s <a href="207uc01-115608590.html">Informacemi o místu realizace</a> (viz <a href="207uc01-115608590.html">Datové struktury</a>) v případě, kdy záznam se získanými informacemi již existuje.</li></ul><p>Tomu odpovídá také chování algoritmu, které si nyní popíšeme.</p><ol><li>Systém získá <a href="../../../datove-modely/datovy-78681044.html">Položku objednávky</a>, které odpovídá právě zkoumaná <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>:<ul><li>Atribut <strong>Položka objednávky</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a> – atribut <strong>Objednaná nádoba</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> – atribut <strong>Objednaný úkon</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.<br></li></ul></li><li>Systém nalezne takový záznam s <a href="207uc01-115608590.html">Informacemi o místu realizace</a>, který splňuje všechny dále uvedené podmínky zároveň (umožňuje sloučení):<ul><li>Hodnota atributu <strong>Informace o agregované objednané službě</strong> odpovídá právě zkoumanému záznamu s <a href="207uc01-115608590.html">Informacemi o agregované objednané službě</a>.<br><ul><li><em>Záznam je získán v rámci kroku <strong>3.a</strong> (resp. <strong>3.b</strong>) algoritmu <a href="207uc01-115608590.html">ALG03: Získat informace o objednaných službách</a>. který tento algoritmus spouští.</em><br></li></ul></li><li>Hodnota atributu <strong>Kontakt v místě realizace</strong> je rovna hodnotě atributu <strong>Kontakt v místě realizace</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> (viz krok <strong>1</strong>).</li><li>Hodnota atributu <strong>Poznámka k místu realizace</strong> je rovna hodnotě atributu <strong>Poznámka k místu realizace</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> (viz krok <strong>1</strong>).</li></ul></li><li>Pokud nebyl nalezen záznam s <a href="207uc01-115608590.html">Informacemi o místu realizace</a> (viz krok <strong>2</strong>):<ol><li>Systém vytvoří záznam typu <a href="207uc01-115608590.html">Informace o místu realizace</a> a provede jeho nastavení.<br><ul><li><strong>Informace o agregované objednané službě</strong>: právě zkoumaný záznam s <a href="207uc01-115608590.html">Informacemi o agregované objednané službě</a>.<ul><li><em>Záznam je získán v rámci kroku <strong>3.a</strong> (resp. <strong>3.b</strong>) algoritmu <a href="207uc01-115608590.html">ALG03: Získat informace o objednaných službách</a>. který tento algoritmus spouští.</em><br></li></ul></li><li><strong>Kontakt v místě realizace</strong>: hodnota atributu <strong>Kontakt v místě realizace</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> (viz krok <strong>1</strong>).</li><li><strong>Poznámka k místu realizace</strong>: hodnota atributu <strong>Poznámka k místu realizace</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Položky objednávky</a> (viz krok <strong>1</strong>).</li></ul></li></ol></li></ol><p>Poznámka: Při vyhodnocení informací o místu realizace nepracujeme přímo s daným <a href="../../../datove-modely/datovy-78681044.html">Místem realizace</a>. Požadované informace jsou totiž zadány v kontextu konkrétní <a href="../../../datove-modely/datovy-78681044.html">Objednávky</a> (při jejím zakládání).</p><h2>ALG08: Získat informace o objednané nádobě</h2><p>Cílem algoritmu je vyhodnocení informací o <a href="../../../datove-modely/datovy-78681044.html">Objednané nádobě</a>, které odpovídá právě zkoumaná <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>. Výsledkem pak může být provedení jedné z dále uvedených akcí…</p><ul><li>Založení nového záznamu s <a href="207uc01-115608590.html">Informacemi o objednané nádobě</a> (viz <a href="207uc01-115608590.html">Datové struktury</a>) v případě, kdy nejsou získané informace zatím obsaženy.</li><li>Použití již existujícího záznamu s <a href="207uc01-115608590.html">Informacemi o objednané nádobě</a> (viz <a href="207uc01-115608590.html">Datové struktury</a>) v případě, kdy záznam se získanými informacemi již existuje.</li></ul><p>Tomu odpovídá také chování algoritmu, které si nyní popíšeme.</p><ol><li>Systém získá <a href="../../../datove-modely/datovy-78681044.html">Objednanou nádobu</a>, které odpovídá právě zkoumaná <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>:<br><ul><li>Atribut <strong>Objednaná nádoba</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> – atribut <strong>Objednaný úkon</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</li></ul></li><li>Systém nalezne takový záznam s <a href="207uc01-115608590.html">Informacemi o objednané nádobě</a>, který splňuje všechny dále uvedené podmínky zároveň (umožňuje sloučení):<br><ul><li>Hodnota atributu <strong>Informace o agregované objednané službě</strong> odpovídá právě zkoumanému záznamu s <a href="207uc01-115608590.html">Informacemi o agregované objednané službě</a>.<br><ul><li><em>Záznam je získán v rámci kroku <strong>3.a</strong> (resp. <strong>3.b</strong>) algoritmu <a href="207uc01-115608590.html">ALG03: Získat informace o objednaných službách</a>. který tento algoritmus spouští.</em><br></li></ul></li><li>Hodnota atributu <strong>Typ úkonu</strong> odpovídá <a href="../../../datove-modely/datovy-78681044.html">Typu úkonu</a> získané <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a> (atribut <strong>Typ úkonu</strong>, viz krok <strong>1</strong>).</li><li>Hodnota atributu <strong>Typ nádoby</strong> odpovídá <a href="../../../datove-modely/datovy-78681044.html">Typu nádoby</a> získané <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a> (atribut <strong>Typ nádoby</strong>, viz krok <strong>1</strong>).</li><li>Hodnota atributu <strong>Vlastní nádoba</strong> je rovna hodnotě atributu <strong>Vlastní nádoba</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a> (viz krok <strong>1</strong>).<br></li><li>Množství a složení odkazovaných <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadů</a> si odpovídá (viz <a href="207uc01-115608590.html">ALG09: Porovnání druhů odpadu objednané nádoby</a>).<br><ul><li><em>Porovnáváme <a href="207uc01-115608590.html">Informace o druhu odpadu objednané nádoby</a> právě zkoumaného záznamu s <a href="207uc01-115608590.html">Informacemi o objednané nádobě</a> oproti <a href="../../../datove-modely/datovy-78681044.html">Vývozům na likvidační místa</a> získané <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a> (viz krok <strong>1</strong>).</em></li></ul></li></ul></li><li>Pokud nebyl nalezen záznam s <a href="207uc01-115608590.html">Informacemi o objednané nádobě</a> (viz krok <strong>2</strong>):<br><ol><li>Systém vytvoří záznam typu <a href="207uc01-115608590.html">Informace o objednané nádobě</a> a provede jeho nastavení.<br><ul><li><strong>Informace o agregované objednané službě</strong>: právě zkoumaný záznam s <a href="207uc01-115608590.html">Informacemi o agregované objednané službě</a>.<br><ul><li><em>Záznam je získán v rámci kroku <strong>3.a</strong> (resp. <strong>3.b</strong>) algoritmu <a href="207uc01-115608590.html">ALG03: Získat informace o objednaných službách</a>, který tento algoritmus spouští.</em></li></ul></li><li><strong>Typ úkonu</strong>: hodnota atributu <strong>Typ úkonu</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a> (viz krok <strong>1</strong>).</li><li><strong>Počet nádob</strong>: hodnota atributu <strong>Počet nádob</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a> (viz krok <strong>1</strong>).</li><li><strong>Typ nádoby</strong>: hodnota atributu <strong>Typ nádoby</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a> (viz krok <strong>1</strong>).</li><li><strong>Vlastní nádoba</strong>: hodnota atributu <strong>Vlastní nádoba</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a> (viz krok <strong>1</strong>).</li></ul></li><li>Systém získá takové <a href="../../../datove-modely/datovy-78681044.html">Vývozy na likvidační místa</a>, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Objednaná nádoba</strong> odpovídá získané <a href="../../../datove-modely/datovy-78681044.html">Objednané nádobě</a> (viz krok <strong>1</strong>).<br></li></ul></li><li>Pro všechny získané <a href="../../../datove-modely/datovy-78681044.html">Vývozy na likvidační místa</a> (viz krok <strong>3.b</strong>):<ol><li>Systém vytvoří záznam typu <a href="207uc01-115608590.html">Informace o druhu odpadu objednané nádoby</a> a provede jeho nastavení.<ul><li><strong>Informace o objednané nádobě</strong>: založený záznam s <a href="207uc01-115608590.html">Informacemi o objednané nádobě</a> (viz krok <strong>3.a</strong>).<br></li><li><strong>Druh odpadu</strong>: hodnota atributu <strong>Druh odpadu</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Vývozu na likvidační místo</a>.</li></ul></li></ol></li></ol></li><li>Jinak záznam s <a href="207uc01-115608590.html">Informacemi o objednané nádobě</a> nalezen byl (provedeme sloučení):<br><ol><li>Systém aktualizuje hodnoty dále uvedených atributů nalezeného záznamu s <a href="207uc01-115608590.html">Informacemi o objednané nádobě</a> (viz krok <strong>2</strong>):<br><ul><li><strong>Počet nádob</strong>: je přičtena hodnota atributu <strong>Počet nádob</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Objednané nádoby</a> (viz krok <strong>1</strong>).</li></ul></li></ol></li></ol><h2>ALG09: Porovnání druhů odpadu objednané nádoby</h2><p>Cílem algoritmu je porovnání záznamu s <a href="207uc01-115608590.html">Informacemi o objednané nádobě</a> oproti konkrétní <a href="../../../datove-modely/datovy-78681044.html">Objednané nádobě</a>. Vyhodnocujeme pak počet a složení obsažených <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu</a>.</p><ol><li>Systém nalezne takové záznamy s <a href="207uc01-115608590.html">Informacemi o druhu odpadu objednané nádoby</a>, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Informace o objednané nádobě</strong> odpovídá právě zkoumanému záznamu s <a href="207uc01-115608590.html">Informacemi o objednané nádobě</a>.<br><ul><li><em>Záznam je získán v rámci porovnávání během kroku <strong>2</strong> algoritmu <a href="207uc01-115608590.html">ALG08: Získat informace o objednané nádobě</a>, který tento algoritmus spouští.</em></li></ul></li></ul></li><li>Systém získá všechny <a href="../../../datove-modely/datovy-78681044.html">Druhy odpadu</a> obsažené v rámci nalezených záznamů s <a href="207uc01-115608590.html">Informacemi o druhu odpadu objednané nádoby</a> (atribut <strong>Druh odpadu</strong>, viz krok <strong>1</strong>).<br><ul><li><em>Každý <a href="../../../datove-modely/datovy-78681044.html">Druh odpadu</a> je obsažen maximálně jednou (dochází k jejich slučování).</em></li></ul></li><li>Systém nalezne takové <a href="../../../datove-modely/datovy-78681044.html">Vývozy na likvidační místa</a>, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Objednaná nádoba</strong> odpovídá právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané nádobě</a>.<br><ul><li><em>Záznam je získán v rámci kroku <strong>1</strong> algoritmu <a href="207uc01-115608590.html">ALG08: Získat informace o objednané nádobě</a>, který tento algoritmus spouští.</em></li></ul></li></ul></li><li>Systém získá všechny <a href="../../../datove-modely/datovy-78681044.html">Druhy odpadu</a> obsažené v rámci nalezených <a href="../../../datove-modely/datovy-78681044.html">Vývozů na likvidační místa</a> (atribut <strong>Druh odpadu</strong>, viz krok <strong>3</strong>).<ul><li><em>Každý <a href="../../../datove-modely/datovy-78681044.html">Druh odpadu</a> bude předán maximálně jednou (pro potřeby algoritmu bude provedeno jejich sloučení).</em><br></li></ul></li><li>Pokud si dále uvedené hodnoty nejsou rovny, je výsledek kontroly <strong>negativní</strong> (množství odkazovaných <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu</a> se liší – <strong>algoritmus končí</strong>):<br><ul><li>počet <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu</a> odkazovaných v rámci nalezených záznamů s <a href="207uc01-115608590.html">Informacemi o druhu odpadu objednané nádoby</a> (viz krok <strong>2</strong>),</li><li>počet <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu</a> odkazovaných v rámci nalezených <a href="../../../datove-modely/datovy-78681044.html">Vývozů na likvidační místa</a> (viz krok <strong>4</strong>).</li></ul></li><li>Pro všechny získané <a href="../../../datove-modely/datovy-78681044.html">Druhy odpadu</a> odkazované v rámci nalezených záznamů s <a href="207uc01-115608590.html">Informacemi o druhu odpadu objednané nádoby</a> (viz krok <strong>2</strong>):<ol><li>Pokud není právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Druh odpadu</a> obsažen v rámci nalezených <a href="../../../datove-modely/datovy-78681044.html">Vývozů na likvidační místa</a> (viz krok <strong>4</strong>):<ol><li>Výsledek kontroly je <strong>negativní</strong> (složení odkazovaných <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu</a> se liší – <strong>algoritmus končí</strong>).</li></ol></li></ol></li><li>Výsledek kontroly je <strong>pozitivní</strong> (algoritmus nebyl předčasně ukončen – množství i složení odkazovaných <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu</a> si odpovídá).</li></ol><h2>ALG10: Získat informace o likvidačních místech</h2><p>Cílem algoritmu je vyhodnocení informací o <a href="../../../datove-modely/datovy-78681044.html">Likvidačních místech</a> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>. Výsledkem pak může být provedení jedné z dále uvedených akcí…</p><ul><li>Založení nového záznamu s <a href="207uc01-115608590.html">Informacemi o likvidačním místu</a> (viz <a href="207uc01-115608590.html">Datové struktury</a>) v případě, kdy nejsou získané informace zatím obsaženy.</li><li>Použití již existujícího záznamu s <a href="207uc01-115608590.html">Informacemi o likvidačním místu</a> (viz <a href="207uc01-115608590.html">Datové struktury</a>) v případě, kdy záznam se získanými informacemi již existuje.</li></ul><p>Tomu odpovídá také chování algoritmu, které si nyní popíšeme.</p><ol><li>Systém nalezne takové <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>, která splňují všechny dále uvedené podmínky zároveň (umožňují sloučení):<br><ul><li>Hodnota atributu <strong>Objednaná služba</strong> odpovídá jedné z dále uvedených <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a>:<br><ul><li>právě zkoumaná <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> (ta, pro kterou byl algoritmus spuštěn),</li><li>atribut <strong>Předchozí objednaná služba</strong> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (část rozdělené služby; vyhodnocena celá kaskáda),</li><li>atribut <strong>Následující objednaná služba</strong> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (část rozdělené služby; vyhodnocena celá kaskáda).</li></ul></li><li>Hodnota atributu <strong>Typ lokace</strong> je nastavena na <strong>Likvidační místo</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Typ lokace objednané služby</a>).<br><ul><li><em>Poznámka: Aktuálně nejsou řešena <a href="../../../datove-modely/datovy-78681044.html">Likvidační místa</a> obsažená v <a href="../../../datove-modely/datovy-78681044.html">Lokacích objednané služby</a> typu <strong>Výchozí likvidační místo</strong>.</em></li></ul></li></ul></li><li>Pro všechny nalezené <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (viz krok <strong>1</strong>):<br><ol><li>Systém nalezne takový záznam s <a href="207uc01-115608590.html">Informacemi o likvidačním místu</a>, který splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Informace o agregované objednané službě</strong> odpovídá právě zkoumanému záznamu s <a href="207uc01-115608590.html">Informacemi o agregované objednané službě</a>.<br><ul><li><em>Záznam je získán v rámci kroku <strong>3.a</strong> (resp. <strong>3.b</strong>) algoritmu <a href="207uc01-115608590.html">ALG03: Získat informace o objednaných službách</a>. který tento algoritmus spouští.</em></li></ul></li><li>Hodnota atributu <strong>Likvidační místo</strong> odpovídá <a href="../../../datove-modely/datovy-78681044.html">Likvidačnímu místu</a> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (atribut <strong>Likvidační místo</strong>).  </li><li>Hodnota atributu <strong>Je paušál</strong> je rovna hodnotě atributu <strong>Fakturace</strong> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>. <em>Na rozdíl od POVOS zde není řešeno.</em><br></li><li>Množství a složení odkazovaný <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadů</a> si odpovídá (viz <a href="207uc01-115608590.html">ALG11: Porovnání druhů odpadu likvidačního místa</a>).<br><ul><li><em>Porovnáváme <a href="207uc01-115608590.html">Informace o druhu odpadu likvidačního místa</a> právě zkoumaného záznamu s <a href="207uc01-115608590.html">Informacemi o likvidačním místu</a> oproti <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</em><br></li></ul></li></ul></li><li>Pokud nebyl nalezen záznam s <a href="207uc01-115608590.html">Informacemi o likvidačním místu</a> (viz krok <strong>2.a</strong>):<br><ol><li>Systém vytvoří záznam typu <a href="207uc01-115608590.html">Informace o likvidačním místu</a> a provede jeho nastavení.<br><ul><li><strong>Informace o agregované objednané službě</strong>: právě zkoumaný záznam s <a href="207uc01-115608590.html">Informacemi o agregované objednané službě</a>.<br><ul><li> <em>Záznam je získán v rámci kroku <strong>3.a</strong> (resp. <strong>3.b</strong>) algoritmu <a href="207uc01-115608590.html">ALG03: Získat informace o objednaných službách</a>. který tento algoritmus spouští.</em></li></ul></li><li><strong>Likvidační místo</strong>: hodnota atributu <strong>Likvidační místo</strong> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>.</li><li><strong>Je paušál</strong>: hodnota atributu <strong>Fakturace</strong> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>. <em>Na rozdíl od POVOS zde není řešeno.</em></li></ul></li><li>Pro všechny <a href="../../../datove-modely/datovy-78681044.html">Druhy odpadu</a> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (atribut <strong>Druhy odpadu</strong>):<br><ol><li>Systém vytvoří záznam typu <a href="207uc01-115608590.html">Informace o druhu odpadu likvidačního místa</a> a provede jeho nastavení.<br><ul><li><strong>Informace o likvidačním místu</strong>: založený záznam typu <a href="207uc01-115608590.html">Informace o likvidačním místu</a> (viz krok <strong>2.b.i</strong>).</li><li><strong>Druh odpadu</strong>: právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Druhy odpadu</a>.</li></ul></li></ol></li></ol></li></ol></li></ol><p>Poznámka: Na úrovni tohoto případu užití pracujeme s <a href="../../../datove-modely/datovy-78681044.html">Objednanou službou</a> jako celkem (bez ohledu na to, zda je rozdělena).</p><h2>ALG11: Porovnání druhů odpadu likvidačního místa</h2><p>Cílem algoritmu je porovnání záznamů s <a href="207uc01-115608590.html">Informacemi o druhu odpadu likvidačního místa</a> oproti konkrétní <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a>. Vyhodnocujeme pak počet a složení obsažených <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu</a>.</p><ol><li>Systém nalezne takové záznamy s <a href="207uc01-115608590.html">Informacemi o druhu odpadu likvidačního místa</a>, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Informace o likvidačním místu</strong> odpovídá právě zkoumanému záznamu s <a href="207uc01-115608590.html">Informacemi o likvidačním místu</a>.<br><ul><li><em>Záznam je získán v rámci porovnávání během kroku <strong>2.a</strong> algoritmu <a href="207uc01-115608590.html">ALG10: Získat informace o likvidačních místech</a>, který tento algoritmus spouští.</em></li></ul></li></ul></li><li>Systém získá všechny <a href="../../../datove-modely/datovy-78681044.html">Druhy odpadu</a> obsažené v rámci nalezených záznamů s <a href="207uc01-115608590.html">Informacemi o druhu odpadu likvidačního místa</a> (atribut <strong>Druh odpadu</strong>, viz krok <strong>1</strong>).<br><ul><li><em>Každý <a href="../../../datove-modely/datovy-78681044.html">Druh odpadu</a> je obsažen maximálně jednou (dochází k jejich slučování).</em></li></ul></li><li>Systém získá všechny <a href="../../../datove-modely/datovy-78681044.html">Druhy odpadu</a> obsažené v rámci právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (atribut <strong>Druhy odpadu</strong>).<br><ul><li><em>Každý <a href="../../../datove-modely/datovy-78681044.html">Druh odpadu</a> bude předán maximálně jednou (pro potřeby algoritmu bude provedeno jejich sloučení).</em></li></ul></li><li>Pokud si dále uvedené hodnoty nejsou rovny, je výsledek kontroly <strong>negativní</strong> (množství odkazovaných <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu</a> se liší – <strong>algoritmus končí</strong>):<br><ul><li>počet <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu</a> odkazovaných v rámci nalezených záznamů s <a href="207uc01-115608590.html">Informacemi o druhu odpadu likvidačního místa</a> (viz krok <strong>2</strong>),</li><li>počet <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu</a> odkazovaných v rámci právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (viz krok <strong>3</strong>).</li></ul></li><li>Pro všechny získané <a href="../../../datove-modely/datovy-78681044.html">Druhy odpadu</a> odkazované v rámci nalezených záznamů s <a href="207uc01-115608590.html">Informacemi o druhu odpadu likvidačního místa</a> (viz krok <strong>2</strong>):<br><ol><li>Pokud není právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Druh odpadu</a> obsažen v rámci právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (viz krok <strong>3</strong>):<br><ol><li>Výsledek kontroly je <strong>negativní</strong> (složení odkazovaných <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu</a> se liší – <strong>algoritmus končí</strong>).</li></ol></li></ol></li><li>Výsledek kontroly je <strong>pozitivní</strong> (algoritmus nebyl předčasně ukončen – množství i složení odkazovaných <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu</a> si odpovídá).</li></ol><h1>Datové struktury</h1><h2>Agregované informace o denním výkonu</h2><p>Při zpracování objednaných služeb pracujeme s pomocnou datovou strukturou, která slouží pro uchování získaných informací. Obsažena jsou nejen data získaná agregací, k dispozici máme také další informace. Ve stejné struktuře data předáváme na výstupu UC.</p><h3>Informace o denním výkonu</h3><p>Jako první jsou uvedeny informace společné na úrovni celého denního výkonu (k dispozici <strong>právě 1</strong> záznam).</p><table><tbody><tr><th>Atribut</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Provozovna</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Provozovna</a></td><td colspan="1">Ano</td><td colspan="1">Provozovna, v rámci které je denní výkon realizován.</td><td colspan="1">–</td></tr><tr><td colspan="1">Vozidlo</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Objekt</a></td><td colspan="1">Ne</td><td colspan="1">Vozidlo, které provádí realizaci denního výkonu.</td><td colspan="1">–</td></tr><tr><td colspan="1">Datum realizace</td><td colspan="1">Datum</td><td colspan="1">Ano</td><td colspan="1">Datum, na které je plánována realizace denního výkonu.</td><td colspan="1">–</td></tr><tr><td colspan="1">Ujetá vzdálenost</td><td colspan="1">Celé číslo</td><td colspan="1">Ano</td><td colspan="1">Předpokládaná ujetá vzdálenost v metrech.</td><td colspan="1"><em>Nově přidáno oproti <a href="#" data-page-title="200UI17: Potvrzení o výkonu objednané služby (HNK, RNK, Valník)"></a>.</em></td></tr><tr><td colspan="1">Doba jízdy</td><td colspan="1">Celé číslo</td><td colspan="1">Ano</td><td colspan="1">Předpokládaná doba jízdy ve vteřinách.</td><td colspan="1"><em>Nově přidáno oproti <a href="#" data-page-title="200UI17: Potvrzení o výkonu objednané služby (HNK, RNK, Valník)"></a>.</em></td></tr></tbody></table><h3>Informace o přívěsu</h3><p>V rámci denního výkonu může být použit přívěs, jejich přehled je pak uchován v této struktuře (k dispozici <strong>0..N</strong> záznamů).</p><table><tbody><tr><th>Atribut</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Informace o denním výkonu</td><td colspan="1"><a href="207uc01-115608590.html">Informace o denním výkonu</a></td><td colspan="1">Ano</td><td colspan="1">Denní výkon (resp. informace o něm), v rámci kterého je přívěs použit.</td><td colspan="1">–</td></tr><tr><td colspan="1">Přívěs</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Objekt</a></td><td colspan="1">Ano</td><td colspan="1">Přívěs, který má být použit při realizaci denního výkonu.</td><td colspan="1">–</td></tr></tbody></table><h3>Informace o agregované objednané službě</h3><p>V rámci denního výkonu jsou obvykle obsaženy také objednané služby, které se v tomto UC snažíme agregovat. Jejich přehled je pak uchován v této struktuře (k dispozici <strong>0..N</strong> záznamů).</p><table><tbody><tr><th>Atribut</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Informace o denním výkonu</td><td colspan="1"><a href="207uc01-115608590.html">Informace o denním výkonu</a></td><td colspan="1">Ano</td><td colspan="1">Denní výkon (resp. informace o něm), v rámci kterého je objednaná služba obsažena (resp. její agregovaná podoba).</td><td colspan="1">–</td></tr><tr><td colspan="1">Pořadí</td><td colspan="1">Celé číslo</td><td colspan="1">Ano</td><td colspan="1">Pořadí, ve kterém byl záznam o agregaci objednaných služeb získán.</td><td colspan="1">Odpovídá prvnímu výskytu odpovídající objednané služby v denním výkonu.</td></tr><tr><td colspan="1">Zákazník</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Zákazník</a></td><td colspan="1">Ano</td><td colspan="1">Zákazník, který si objednal realizaci objednané služby (resp. jejich množiny).</td><td colspan="1"> </td></tr><tr><td colspan="1">Adresa místa realizace</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Adresa</a></td><td colspan="1">Ne Ano</td><td colspan="1">Adresa, na které se vyskytuje odpovídající místo realizace.</td><td colspan="1"><p>Stejná adresa může v systému existovat vícekrát (např. z důvodu různé polohy nádob v rámci areálu), proto je vyhodnocení prováděno dle její textové reprezentace.</p><p>Může nastat situace, kdy není místo realizace k dispozici vůbec (např. úkon typu Vývoz mezi LM).</p></td></tr></tbody></table><h3>Informace o místu realizace</h3><p>V rámci objednané služby může být je vždy obsaženo místo realizace, případné informace o něm se pak snažíme uchovat i po její agregaci. Jejich přehled je pak uchován v této struktuře (k dispozici <strong>0..N</strong> záznamů).</p><p>Poznámka: Vždy je obsažena alespoň jedna z informací o místu realizace (atributy <strong>Kontakt v místě realizace</strong> a <strong>Poznámka k místu realizace</strong>), jinak by nedošlo k založení tohoto záznamu.</p><table><tbody><tr><th>Atribut</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Informace o agregované objednané službě</td><td colspan="1"><a href="207uc01-115608590.html">Informace o agregované objednané službě</a></td><td colspan="1">Ano</td><td colspan="1">Objednaná služba (resp. její agregovaná podoba), v rámci které je místo realizace obsaženo.</td><td colspan="1">–</td></tr><tr><td colspan="1">Kontakt v místě realizace</td><td colspan="1">Řetězec</td><td colspan="1">Ne</td><td colspan="1">Kontakt k danému místu realizace.</td><td colspan="1">–</td></tr><tr><td colspan="1">Poznámka k místu realizace</td><td colspan="1">Řetězec</td><td colspan="1">Ne</td><td colspan="1">Poznámka k danému místu realizace.</td><td colspan="1"><em>Nově přidáno oproti <a href="#" data-page-title="200UI17: Potvrzení o výkonu objednané služby (HNK, RNK, Valník)"></a>.</em></td></tr></tbody></table><h3>Informace o objednané nádobě</h3><p>V rámci objednané služby je vždy obsažena nádoba, která je obsluhována. Jejich přehled je pak uchován v této struktuře (k dispozici <strong>1..N</strong> záznamů).</p><table><tbody><tr><th>Atribut</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Informace o agregované objednané službě</td><td colspan="1"><a href="207uc01-115608590.html">Informace o agregované objednané službě</a></td><td colspan="1">Ano</td><td colspan="1">Objednaná služba (resp. její agregovaná podoba), v rámci které je objednaná nádoba obsažena.</td><td colspan="1">–</td></tr><tr><td colspan="1">Typ úkonu</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Typ úkonu</a></td><td colspan="1">Ano</td><td colspan="1">Typ úkonu, který je v rámci objednané služby proveden s nádobou.</td><td colspan="1">–</td></tr><tr><td colspan="1">Počet nádob</td><td colspan="1">Celé číslo</td><td colspan="1">Ano</td><td colspan="1">Počet nádob, který je proveden v rámci objednané služby (resp. jejich množině).</td><td colspan="1">Při slučování objednaných nádob představuje součet pro odpovídající záznamy.</td></tr><tr><td colspan="1">Typ nádoby</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Typ nádoby</a></td><td colspan="1">Ne</td><td colspan="1">Typ nádoby, který je v rámci objednané služby použit.</td><td colspan="1">–</td></tr><tr><td colspan="1">Vlastní nádoba</td><td colspan="1">Boolean</td><td colspan="1">Ano</td><td colspan="1">Informace, zda je odpovídající nádoba majetkem organizace.</td><td colspan="1">–</td></tr></tbody></table><h3>Informace o druhu odpadu objednané nádoby</h3><p>V rámci objednané nádoby může být specifikován obsažený druh odpadu. Jejich přehled je pak uchován v této struktuře (k dispozici <strong>0..N</strong> záznamů).</p><table><tbody><tr><th>Atribut</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Informace o objednané nádobě</td><td colspan="1"><a href="207uc01-115608590.html">Informace o objednané nádobě</a></td><td colspan="1">Ano</td><td colspan="1">Objednaná nádoba, v rámci které je druh odpadu obsažen.</td><td colspan="1">–</td></tr><tr><td colspan="1">Druh odpadu</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Druh odpadu</a></td><td colspan="1">Ano</td><td colspan="1">Druh odpadu, který je obsažen v rámci odpovídající objednané nádoby.</td><td colspan="1">–</td></tr></tbody></table><h3>Informace o likvidačním místu</h3><p>V rámci objednané služby může být navštíveno likvidační místo. Jejich přehled je pak uchován v této struktuře (k dispozici <strong>0..N</strong> záznamů).</p><table><tbody><tr><th>Atribut</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Informace o agregované objednané službě</td><td colspan="1"><a href="207uc01-115608590.html">Informace o agregované objednané službě</a></td><td colspan="1">Ano</td><td colspan="1">Objednaná služba (resp. její agregovaná podoba), v rámci které je likvidační místo navštíveno.</td><td colspan="1">–</td></tr><tr><td colspan="1">Likvidační místo</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a></td><td colspan="1">Ano</td><td colspan="1">Likvidační místo, které je navštíveno v rámci odpovídající objednané služby (resp. jejich množině).</td><td colspan="1">–</td></tr><tr><td colspan="1">Je paušál</td><td colspan="1">Boolean</td><td colspan="1">Ano</td><td colspan="1">Informace, zda je vývoz na likvidační místo dán paušálem.</td><td colspan="1"><em>Na rozdíl od POVOS zde není řešeno.</em></td></tr></tbody></table><h3>Informace o druhu odpadu likvidačního místa</h3><p>V rámci vývozu na likvidační místo je specifikován vyvážený druh odpadu. Jejich přehled je pak uchován v této struktuře (k dispozici <strong>1..N</strong> záznamů).</p><table><tbody><tr><th>Atribut</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Informace o likvidačním místu</td><td colspan="1"><a href="207uc01-115608590.html">Informace o likvidačním místu</a></td><td colspan="1">Ano</td><td colspan="1">Likvidační místo, na které je daný druh odpadu vyvážen.</td><td colspan="1">–</td></tr><tr><td colspan="1">Druh odpadu</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Druh odpadu</a></td><td colspan="1">Ano</td><td colspan="1">Druh dopadu, který je vyvážen na odpovídající likvidační místo.</td><td colspan="1">–</td></tr></tbody></table><h1>Validace</h1><p>–</p><h1>Uživatelské rozhraní</h1><p>–</p><h1>Grafický návrh</h1><p>–</p><h1>Revize</h1><h3>11. 5. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="207uc01-115608590.html">ALG03: Získat informace o objednaných službách</a></td><td colspan="1">Změny související se zrušením povinnosti místa realizace (naznačeno modře).</td></tr><tr><td colspan="1"><a href="207uc01-115608590.html">ALG05: Získat adresu místa realizace</a></td><td colspan="1">Změny související se zrušením povinnosti místa realizace a přidáním nových typů úkonu (naznačeno modře).</td></tr><tr><td colspan="1"><a href="207uc01-115608590.html">ALG06: Porovnat textovou identifikaci adresy</a></td><td colspan="1">Změny související se zrušením povinnosti místa realizace (naznačeno modře).</td></tr><tr><td colspan="1"><a href="207uc01-115608590.html">ALG10: Získat informace o likvidačních místech</a></td><td colspan="1">Doplněna poznámka související s novým typem lokace objednané služby (naznačeno modře).</td></tr><tr><td colspan="1"><a href="207uc01-115608590.html">Informace o agregované objednané službě</a></td><td colspan="1"><p>Zrušení povinnosti místa realizace (naznačeno modře).</p></td></tr><tr><td colspan="1"><a href="207uc01-115608590.html">Informace o místu realizace</a></td><td colspan="1">Zrušení povinnosti místa realizace (naznačeno modře).</td></tr></tbody></table>
</div>
</body>
</html>
