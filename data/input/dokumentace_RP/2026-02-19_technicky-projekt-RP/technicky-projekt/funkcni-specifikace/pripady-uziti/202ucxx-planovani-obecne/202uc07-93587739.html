<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>202UC07: Generovat denní výkony pro plánované období</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl UC</h1><p>Případ užití zajišťuje provedení 2 důležitých akci nad denními výkony:</p><ul><li>generování denních výkonů pro plánované období (období, na které jsou denní výkony generovány systémem),</li><li>kontrola aktuálnosti denních výkonů oproti vozovému parku (pro všechna aktivní vozidla existuje denní výkon a pro všechny denní výkony existuje aktivní vozidlo).</li></ul><p>Oba úkony pak probíhají automaticky v režii systému, a to každý den po půlnoci, tedy ve chvíli, kdy již proběhlo ukončení realizace schválených denních výkonů. Druhý z úkonů, kontrola aktuálnosti denních výkonů, může pro určitý den spustit i přímo uživatel.</p><p>Poznámka: Případ užití nahrazuje <a href="#" data-page-title="200UC54: Přegenerovat denní výkony"></a>.</p><p>Generování a kontrola denních výkonů pak probíhá na úrovni celé flotily vozidel, zkoumané období je vyhodnoceno dle aktéra, který UC spouští. Zahrnuty jsou pak následující denní výkony:</p><ul><li>pro všechna vozidla,</li><li>pro období, na které jsou denní výkony generovány systémem (v případě spuštění uživatelem pro zvolené datum realizace).</li></ul><p>Období, které je možné získat na vstupu UC, dělíme na několik částí. Jednotlivé skupiny jsou popsány a následně barevně naznačeny na obrázku:</p><ul><li>šedá – datum v minulosti,</li><li>červená – dnešní datum (plánované období),</li><li>modrá – datum, pro které jsou systémem automaticky generovány denní výkony (plánované období; délka dána konfigurační hodnotou, na obrázku uveden příklad s délkou období 7 dní),</li><li>fialová – datum, pro které již nejsou systémem automaticky generovány denní výkony. </li></ul><p><img src="202uc07-generovat-denni-vykony-pro-planovane-obdobi-93587739_images/image2021-2-6 10-34-42.png" data-attachment="true"></p><p>Pod náhledem jsou pak naznačeny možné kombinace na vstupu získaného období, na kterých si stručně popíšeme prováděné akce nad denními výkony.</p><ul><li>a) Období v minulosti – nejsou prováděny žádné akce. Denní výkony v tomto období již není možné editovat.</li><li>b) Období začínající v minulosti – datum od je nastaveno na dnešní datum. Pokračujeme jednou z dále uvedených možností.</li><li>c) Celé období se vyskytuje v blízkém období – je provedena kontrola existujících denních výkonů oproti aktivním vozidlům, která je doplněna o případné generování chybějících denních výkonů</li><li>d) Období se vyskytuje v blízkém i vzdáleném období – provedené akce nad denními výkony se liší dle data realizace konkrétního denního výkonu, viz možnosti c) a e).</li><li>e) Celé období se vyskytuje ve vzdáleném období – je provedena pouze kontrola existujících denních výkonů oproti aktivním vozidlům.</li></ul><p>Poznámka: Možnost vygenerovat denní výkony nad rámec plánovaného období je zajištěna v rámci <a href="#" data-page-title="202UC08: Generovat denní výkony mimo plánované období">202UC08: Generovat denní výkony mimo plánované období</a>.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th>Popis</th><th colspan="1">Typická role</th></tr><tr><td colspan="1">Čas</td><td colspan="1">Komponenta systému RoadPlan, která dle nastavených parametrů spouští v požadovaném čase danou úlohu.</td><td colspan="1">–</td></tr><tr><td>Uživatel</td><td><p>Jedná se o uživatele aplikace RoadPlan, který musí mít oprávnění spouštět tento UC.</p></td><td colspan="1"><p>–</p></td></tr></tbody></table><h1>Spuštění případu užití</h1><p>Nastane čas pro spuštění UC – začátek aktuálního dne.</p><p>Uživatel zadá požadavek na generování denních výkonů pro plánované období, a to jedním z uvedených způsobů:</p><ul><li>Uživatel zadá požadavek na generování denních výkonů pro plánované období na obrazovce plánování denních výkonů (viz <a href="#" data-page-title="206UC01: Zobrazit obrazovku plánování denních výkonů"></a>).</li></ul><h1>Vstupní podmínky</h1><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na moduly a UC</a>:</p><ul><li>Plánování denních výkonů.</li></ul><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na typ entit</a>:</p><ul><li>Denní výkony - zobrazení a modifikace,</li><li>Objednané služby - zobrazení a modifikace.</li></ul><h3>Vstupní data</h3><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Datum od</td><td colspan="1">Datum</td><td colspan="1">Ano</td><td colspan="1">Datum, od kterého má být provedena kontrola denních výkonů včetně.</td><td colspan="1">–</td></tr><tr><td colspan="1">Datum do</td><td colspan="1">Datum</td><td colspan="1">Ano</td><td colspan="1">Datum, do kterého má být provedena kontrola denních výkonů včetně.</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Pokud má být akce provedena pouze pro jeden konkrétní den, jsou hodnoty parametrů Datum od a Datum do shodné.</p><h1>Základní tok událostí</h1><ol><li>Systém vyhodnotí na vstupu získané období a případně provede jeho modifikaci, viz:<br><ul><li><a href="202uc07-93587739.html">EF01: Zadané období není validní</a>,</li><li><a href="202uc07-93587739.html">EF02: Zadané období se vyskytuje v minulosti</a>,</li><li><a href="202uc07-93587739.html">AF01: Zadané období se částečně vyskytuje v minulosti</a>.</li></ul></li><li>Systém nalezne takové <a href="../../../datove-modely/datovy-78681044.html">Objekty</a>, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Typ objektu</strong> je nastavena na <strong>Vozidlo</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Typ objektu</a>).</li><li>Hodnota atributu <strong>Provozovna</strong> je k dispozici (různá od NULL) a tato <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> je aktivní (hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong>).</li><li>K danému <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> je přiřazen <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> (viz <a href="202uc07-93587739.html">ALG07: Získat typ dopravy vozidla</a>).</li></ul></li><li>Pro každý den ze získaného období (dle vstupních parametrů <strong>Datum od</strong>, <strong>Datum do</strong>):<br><ol><li>Systém nalezne takové <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Datum realizace</strong> je nestavena na právě zkoumané datum.</li></ul></li><li>Pokud není nalezen žádný <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>:<br><ol><li>Pokud se právě zkoumané datum vyskytuje v plánovaném období – je větší nebo rovno dnešnímu datu a zároveň je menší nebo rovno součtu dnešního data a délky plánovaného období (generateDailyRoutesHorizon, viz <a href="#" data-page-title="Konfigurační hodnoty"></a>):<br><ol><li>Dochází ke generování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> – viz <a href="202uc07-93587739.html">ALG01: Generovat denní výkony pro plánované období</a>, na vstup algoritmu jsou předány následující informace:<br><ul><li><strong>Datum realizace</strong>: právě zkoumané datum.</li><li><strong>Vozidla</strong>: <a href="../../../datove-modely/datovy-78681044.html">Objekty</a> získané v rámci kroku <strong>2</strong>.</li></ul></li></ol></li><li>Jinak se právě zkoumané datum vyskytuje mimo plánované období – je větší než součet dnešního data a délky plánovaného období (generateDailyRoutesHorizon, viz <a href="#" data-page-title="Konfigurační hodnoty"></a>):<br><ol><li><strong>Přechod na krok 3</strong> (pro právě zkoumané datum není generován žádný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>).</li></ol></li></ol></li><li>Jinak je nalezen alespoň jeden <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a><br><ol><li>Pokud se právě zkoumané datum vyskytuje v plánovaném období – je větší nebo rovno dnešnímu datu a zároveň je menší nebo rovno součtu dnešního data a délky plánovaného období (generateDailyRoutesHorizon, viz <a href="#" data-page-title="Konfigurační hodnoty"></a>):<br><ol><li>Dochází ke kontrole aktuálnosti <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> v plánovaném období – viz <a href="202uc07-93587739.html">ALG02: Provést kontrolu aktuálnosti denních výkonů pro plánované období</a>, na vstup algoritmu jsou předány následující informace:</li></ol><ul><li><ul><li><strong>Datum realizace</strong>: právě zkoumané datum.</li><li><strong>Vozidla</strong>: <a href="../../../datove-modely/datovy-78681044.html">Objekty</a> získané v rámci kroku <strong>2</strong>.</li><li><strong>Denní výkony</strong>: <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> získané v rámci kroku <strong>3.a</strong>.</li></ul></li></ul></li><li>Jinak se právě zkoumané datum vyskytuje mimo plánované období – je větší než součet dnešního data a délky plánovaného období (generateDailyRoutesHorizon, viz <a href="#" data-page-title="Konfigurační hodnoty"></a>):<br><ol><li>Dochází ke kontrole aktuálnosti <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> mimo plánovaném období – viz <a href="202uc07-93587739.html">ALG03: Provést kontrolu aktuálnosti denních výkonů mimo plánované období</a>, na vstup algoritmu jsou předány následující informace:<br><ul><li><strong>Vozidla</strong>: <a href="../../../datove-modely/datovy-78681044.html">Objekty</a> získané v rámci kroku <strong>2</strong>.</li><li><strong>Denní výkony</strong>: <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> získané v rámci kroku <strong>3.a</strong>.</li></ul></li></ol></li></ol></li></ol></li></ol><h1>Alternativní toky událostí</h1><h3>AF01: Zadané období se částečně vyskytuje v minulosti</h3><h4>Vstupní podmínky</h4><ul><li>Na vstupu zadané období (vstupní parametry <strong>Datum od</strong>, <strong>Datum do</strong>) se částečně vyskytuje v minulosti – jsou splněny všechny dále uvedené podmínky zároveň:<ul><li>Hodnota vstupního parametru <strong>Datum od</strong> je menší než dnešní datum.<br></li><li>Hodnota vstupního parametru <strong>Datum do</strong> je větší nebo rovna dnešnímu datu.</li></ul></li></ul><h4>Tok událostí</h4><ol><li>Alternativní tok událostí začíná krokem <strong>1</strong> základního toku událostí.</li><li>Systém nastaví hodnotu vstupního parametru <strong>Datum </strong><strong>od</strong> na dnešní datum.</li><li>Systém pokračuje v základním toku událostí. </li></ol><h4>Výstupní podmínky</h4><ul><li>Na vstupu zadané období bylo modifikováno.</li></ul><h1>Výjimkové toky událostí</h1><h3>EF01: Zadané období není validní</h3><h4>Vstupní podmínky</h4><ul><li>Na vstupu zadané období (vstupní parametry <strong>Datum od</strong>, <strong>Datum do</strong>) není validní – je splněna alespoň jedna z uvedených podmínek:<br><ul><li>Není zadána hodnota pro alespoň jeden z parametrů.</li><li>Hodnota vstupního parametru <strong>Datum od</strong> je větší než hodnota vstupního parametru <strong>Datum do</strong>.</li></ul></li></ul><h4>Tok událostí</h4><ol><li>Výjimkový tok událostí začíná krokem <strong>1</strong> základního toku událostí.</li><li>Systém předá na výstupu UC chybové hlášení (MSG_ERR_INVALID_TIME_RANGE, viz <a href="#" data-page-title="Systémové hlášky">Systémové hlášky</a>).</li><li>Případ užití končí.</li></ol><h4>Výstupní podmínky</h4><ul><li>Nedošlo k modifikaci žádného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ul><h3>EF02: Zadané období se vyskytuje v minulosti</h3><h4>Vstupní podmínky</h4><ul><li>Hodnota vstupního vstupního parametru <strong>Datum do</strong> je menší než dnešní datum.</li></ul><h4>Tok událostí</h4><ol><li>Výjimkový tok událostí začíná krokem <strong>1</strong> základního toku událostí.</li><li>Systém předá na výstupu UC chybové hlášení (MSG_ERR_TIME_RANGE_IN_PAST, viz <a href="#" data-page-title="Systémové hlášky">Systémové hlášky</a>).</li><li>Případ užití končí.</li></ol><h4>Výstupní podmínky</h4><ul><li>Nedošlo k modifikaci žádného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ul><h1>Výstupní podmínky</h1><p><a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> v zadaném období odpovídají aktuálnímu stavu vozového parku k okamžiku spuštění případu užití.</p><h3>Výstupní data</h3><table><tbody><tr><th>Výstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Chybové hlášení</td><td colspan="1">–</td><td colspan="1">Ne</td><td colspan="1">V podstatě se jedná o kód chyby, kvůli které nemohl být dokončen UC.</td><td colspan="1"><p>Informace je předána pouze v případě, kdy nebyly splněny výstupní podmínky tohoto UC.</p></td></tr></tbody></table><h1>Validace</h1><p>–</p><h1>Algoritmy</h1><h3>ALG01: Generovat denní výkony pro plánované období</h3><p>Algoritmus slouží k vygenerování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> v případě, kdy se jedná o datum realizace v rámci plánovaného období, pro který zatím žádný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> neexistuje. <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> jsou generovány následovně:</p><ul><li>pro odpovídající datum realizace,</li><li>pro všechna vozidla.</li></ul><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Datum realizace</td><td colspan="1">Datum</td><td colspan="1">Ano</td><td colspan="1">Datum, pro které mají být generovány denní výkony.</td><td colspan="1">–</td></tr><tr><td colspan="1">Vozidla</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Objekt</a> (kolekce)</td><td colspan="1">Ano</td><td colspan="1">Objekty, pro které mají být generovány denní výkony.</td><td colspan="1">–</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Pro všechny na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Objekty</a> (vstupní parametr <strong>Vozidla</strong>):<ol><li>Pokud mají být pro právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> generovány <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (viz <a href="202uc07-93587739.html">ALG08: Generovat pro objekt denní výkon dle období zařazení</a>):<br><ol><li>Systém pro daný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> založí <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> – spustí <a href="../200ucxx-planovani-denni-vykony/200uc01-83266874.html">200UC01: Přidat denní výkon</a>, na vstup jsou předány následující informace:</li></ol><ul><li><ul><li><strong>Provozovna</strong>: <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (atribut <strong>Provozovna</strong>).</li><li><strong>Datum realizace</strong>: na vstupu získané datum realizace (vstupní parametr <strong>Datum realizace</strong>).</li><li><strong>Typ dopravy</strong>: <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (viz <a href="202uc07-93587739.html">ALG07: Získat typ dopravy vozidla</a>).</li><li><strong>Vozidlo</strong>: právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>.</li><li><strong>Vytvořen uživatelem</strong>: předána hodnota <strong>FALSE</strong>.</li></ul></li></ul></li></ol></li></ol><h4>Výstupní data</h4><p>–</p><h3>ALG02: Provést kontrolu aktuálnosti denních výkonů pro plánované období</h3><p>Algoritmus slouží ke kontrole existujících <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> v případě, kdy se jedná o datum realizace v rámci plánovaného období. Může docházet k vytváření, modifikaci i odebírání <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a>. Akce je pak provedena nad všemi <a href="../../../datove-modely/datovy-78681044.html">Provozovnami</a> a celým vozovým parkem.</p><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Datum realizace</td><td colspan="1">Datum</td><td colspan="1">Ano</td><td colspan="1">Datum, v rámci kterého je prováděna kontrola aktuálnosti denních výkonů.</td><td colspan="1">–</td></tr><tr><td colspan="1">Vozidla</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Objekt</a> (kolekce)</td><td colspan="1">Ano</td><td colspan="1">Objekty, pro které mají být kontrolovány denní výkony.</td><td colspan="1">–</td></tr><tr><td colspan="1">Denní výkony</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (kolekce)</td><td colspan="1">Ano</td><td colspan="1">Denní výkony, které mají být kontrolovány.</td><td colspan="1">–</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Pro všechny na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Objekty</a> (vstupní parametr <strong>Vozidla</strong>):<br><ol><li>Systém v na vstupu získané kolekci <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> (vstupní parametr <strong>Denní výkony</strong>) nalezne takové záznamy, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Vozidlo</strong> odpovídá právě zkoumanému <a href="../../../datove-modely/datovy-78681044.html">Objektu</a>.</li></ul></li><li>Pokud není nalezen žádný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>:<br><ol><li>Pokud mají být pro právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> generovány <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (viz <a href="202uc07-93587739.html">ALG08: Generovat pro objekt denní výkon dle období zařazení</a>):<br><ol><li>Systém pro právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> založí <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> – spustí <a href="../200ucxx-planovani-denni-vykony/200uc01-83266874.html">200UC01: Přidat denní výkon</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Provozovna</strong>: <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (atribut <strong>Provozovna</strong>).</li><li><strong>Datum realizace</strong>: na vstupu získané datum realizace (vstupní parametr <strong>Datum realizace</strong>).</li><li><strong>Typ dopravy</strong>: <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (viz <a href="202uc07-93587739.html">ALG07: Získat typ dopravy vozidla</a>).</li><li><strong>Vozidlo</strong>: právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>.</li><li><strong>Vytvořen uživatelem</strong>: předána hodnota <strong>FALSE</strong>.</li></ul></li></ol></li></ol></li><li>Pokud je nalezen právě jeden <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>:<br><ol><li>Systém provede kontrolu tohoto <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> oproti právě zkoumanému <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> – spustí <a href="202uc07-93587739.html">ALG04: Provést kontrolu denního výkonu oproti vozidlu</a>, na vstup algoritmu jsou předány následující informace:<br><ul><li><strong>Datum realizace</strong>: na vstupu získané datum realizace (vstupní parametr <strong>Datum realizace</strong>).</li><li><strong>Vozidlo</strong>: právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>.</li><li><strong>Denní výkon</strong>: nalezený <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (viz kroku <strong>1.a</strong>).</li></ul></li><li>Systém označí tento <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> jako zkontrolovaný (pokud nebyl odebrán).</li></ol></li><li>Jinak je nalezen více jak jeden <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>:<br><ol><li>Systém provede kontrolu těchto <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> oproti právě zkoumanému <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> – spustí <a href="202uc07-93587739.html">ALG05: Provést kontrolu denních výkonů oproti vozidlu</a>, na vstup algoritmu jsou předány následující informace:<br><ul><li><strong>Datum realizace</strong>: na vstupu získané datum realizace (vstupní parametr <strong>Datum realizace</strong>).</li><li><strong>Vozidlo</strong>: právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>.</li><li><strong>Denní výkony</strong>: nalezené <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (viz kroku <strong>1.a</strong>).</li></ul></li><li>Systém označí tyto <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> jako zkontrolované (pokud nebyly odebrány).</li></ol></li></ol></li><li>Pro všechny na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (vstupní parametr <strong>Denní výkony</strong>), které nebyly v rámci toku událostí odebrány či označeny jako zkontrolované:<br><ol><li>Systém vyhodnotí způsob odebrání právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> a akci provede (viz <a href="202uc07-93587739.html">ALG09: Provést odebrání denního výkonu</a>).</li></ol></li></ol><h4>Výstupní data</h4><p>–</p><h3>ALG03: Provést kontrolu aktuálnosti denních výkonů mimo plánované období</h3><p>Algoritmus slouží ke kontrole existujících <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> v případě, kdy se jedná o datum realizace mimo plánovaného období. Může docházet k vytváření, modifikaci i odebírání <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a>. Akce je pak provedena nad <a href="../../../datove-modely/datovy-78681044.html">Provozovnami</a>, pro které již existují <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, a tedy pouze nad odpovídající podmnožinou vozového parku.</p><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Datum realizace</td><td colspan="1">Datum</td><td colspan="1">Ano</td><td colspan="1">Datum, v rámci kterého je prováděna kontrola aktuálnosti denních výkonů.</td><td colspan="1">–</td></tr><tr><td colspan="1">Vozidla</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Objekt</a> (kolekce)</td><td colspan="1">Ano</td><td colspan="1">Objekty, pro které mají být kontrolovány denní výkony.</td><td colspan="1">–</td></tr><tr><td colspan="1">Denní výkony</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (kolekce)</td><td colspan="1">Ano</td><td colspan="1">Denní výkony, které mají být kontrolovány.</td><td colspan="1">–</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Systém si připraví pomocnou kolekci <a href="../../../datove-modely/datovy-78681044.html">Provozoven</a>.</li><li>Pro všechny na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (vstupní parametr <strong>Denní výkony</strong>):<br><ol><li>Pokud není v rámci pomocné kolekce <a href="../../../datove-modely/datovy-78681044.html">Provozoven</a> vložena <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut <strong>Provozovna</strong>):<br><ol><li>Systém vloží tuto <a href="../../../datove-modely/datovy-78681044.html">Provozovnu</a> do pomocné kolekce <a href="../../../datove-modely/datovy-78681044.html">Provozoven</a>.</li></ol></li></ol></li><li>Systém si připraví pomocnou kolekci <a href="../../../datove-modely/datovy-78681044.html">Objektů</a>.</li><li>Pro všechny na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Objekty</a> (vstupní parametr <strong>Vozidla</strong>):<br><ol><li>Pokud právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> patří pod jednu z <a href="../../../datove-modely/datovy-78681044.html">Provozoven</a> v rámci pomocné kolekce (atribut <strong>Provozovna</strong>):<br><ol><li>Systém vloží tento <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> do pomocné kolekce <a href="../../../datove-modely/datovy-78681044.html">Objektů</a>.</li></ol></li></ol></li><li>Pro všechny <a href="../../../datove-modely/datovy-78681044.html">Objekty</a> v pomocné kolekci <a href="../../../datove-modely/datovy-78681044.html">Objektů</a>:<br><ol><li>Systém v na vstupu získané kolekci <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> (vstupní parametr <strong>Denní výkony</strong>) nalezne takové <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Vozidlo</strong> odpovídá právě zkoumanému <a href="../../../datove-modely/datovy-78681044.html">Objektu</a>.</li></ul></li><li>Pokud není nalezen žádný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>:<br><ol><li>Pokud mají být pro právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> generovány <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (viz <a href="202uc07-93587739.html">ALG08: Generovat pro objekt denní výkon dle období zařazení</a>):<br><ol><li>Systém pro právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> založí <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> – spustí <a href="../200ucxx-planovani-denni-vykony/200uc01-83266874.html">200UC01: Přidat denní výkon</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Provozovna</strong>: <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (atribut <strong>Provozovna</strong>).</li><li><strong>Datum realizace</strong>: na vstupu získané datum realizace (vstupní parametr <strong>Datum realizace</strong>).</li><li><strong>Typ dopravy</strong>: <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (viz <a href="202uc07-93587739.html">ALG07: Získat typ dopravy vozidla</a>).</li><li><strong>Vozidlo</strong>: právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>.</li><li><strong>Vytvořen uživatelem</strong>: předána hodnota <strong>FALSE</strong>.</li></ul></li></ol></li></ol></li><li>Pokud je nalezen právě jeden <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>:<br><ol><li>Systém provede kontrolu tohoto <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> oproti právě zkoumanému <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> – spustí <a href="202uc07-93587739.html">ALG04: Provést kontrolu denního výkonu oproti vozidlu</a>, na vstup algoritmu jsou předány následující informace:<br><ul><li><strong>Datum realizace</strong>: na vstupu získané datum realizace (vstupní parametr <strong>Datum realizace</strong>).</li><li><strong>Vozidlo</strong>: právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>.</li><li><strong>Denní výkon</strong>: nalezený <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (viz kroku <strong>5.a</strong>).</li></ul></li><li>Systém označí tento <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> jako zkontrolovaný (pokud nebyl odebrán).</li></ol></li><li>Jinak je nalezen více jak jeden <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>:<br><ol><li>Systém provede kontrolu těchto <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> oproti právě zkoumanému <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> – spustí <a href="202uc07-93587739.html">ALG05: Provést kontrolu denních výkonů oproti vozidlu</a>, na vstup algoritmu jsou předány následující informace:<br><ul><li><strong>Datum realizace</strong>: na vstupu získané datum realizace (vstupní parametr <strong>Datum realizace</strong>).</li><li><strong>Vozidlo</strong>: právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>.</li><li><strong>Denní výkony</strong>: nalezené <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (viz kroku <strong>5.a</strong>).</li></ul></li><li>Systém označí tyto <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> jako zkontrolované (pokud nebyly odebrány).</li></ol></li></ol></li><li>Pro všechny na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (vstupní parametr <strong>Denní výkony</strong>), které nebyly v rámci toku událostí odebrány či označeny jako zkontrolované:<ol><li>Systém vyhodnotí způsob odebrání právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> a akci provede (viz <a href="202uc07-93587739.html">ALG09: Provést odebrání denního výkonu</a>).</li></ol></li></ol><h4>Výstupní data</h4><p>–</p><h3>ALG04: Provést kontrolu denního výkonu oproti vozidlu</h3><p>Algoritmus slouží ke kontrole, zda parametry zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> korespondují s parametry odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>. Dle získaných informací jsou následně prováděny další akce.</p><p>Poznámka: Algoritmus můžeme použít pro kontrolu v rámci plánovaného období i mimo něj – v obou případech pracujeme pouze s <a href="../../../datove-modely/datovy-78681044.html">Objekty</a>, pro které mají být generovány <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>.</p><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Datum realizace</td><td colspan="1">Datum</td><td colspan="1">Ano</td><td colspan="1">Datum, v rámci kterého je prováděna kontrola.</td><td colspan="1">–</td></tr><tr><td colspan="1">Vozidlo</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Objekt</a></td><td colspan="1">Ano</td><td colspan="1">Objekt, pro který mají být kontrolovány denní výkony.</td><td colspan="1">–</td></tr><tr><td colspan="1">Denní výkon</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a></td><td colspan="1">Ano</td><td colspan="1">Denní výkon, který má být kontrolován.</td><td colspan="1">–</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Pokud mají být pro na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> generovány <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (viz <a href="202uc07-93587739.html">ALG08: Generovat pro objekt denní výkon dle období zařazení</a>):<br><ol><li>Systém vyhodnotí na vstupu získané hodnoty – pokud jsou splněny všechny dále uvedené podmínky zároveň, je kontrola <strong>pozitivní</strong>:<br><ul><li>Oba záznamy patří pod stejnou <a href="../../../datove-modely/datovy-78681044.html">Provozovnu</a> – hodnota atributu <strong>Provozovna </strong>na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> odpovídá hodnotě atributu <strong>Provozovna</strong> kontrolovaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li>Oba záznamy jsou stejného <a href="../../../datove-modely/datovy-78681044.html">Typu dopravy</a> – nalezený <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (viz <a href="202uc07-93587739.html">ALG07: Získat typ dopravy vozidla</a>) odpovídá hodnotě atributu <strong>Typ dopravy</strong> kontrolovaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.<br></li></ul></li><li>Pokud je výsledek kontroly <strong>pozitivní</strong>:<br><ol><li>Pokud je na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> vytvořen uživatelem (atribut <strong>Vytvořen uživatelem</strong> nabývá hodnoty <strong>TRUE</strong>):<br><ol><li>Systém u na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> nastaví atribut <strong>Vytvořen uživatelem</strong> na hodnotu <strong>FALSE</strong> (uživatel již nemůže <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> odebrat).</li></ol></li><li>Systém provede kontrolu způsobu vyhodnocení realizace – spustí <a href="202uc07-93587739.html">ALG11: Provést kontrolu aktuálnosti nastaveného způsobu vyhodnocení realizace</a>, na vstup algoritmu jsou předány následující informace:<br><ul><li><strong>Denní výkon</strong>: na vstupu algoritmu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>).</li><li><strong>Objekt</strong>: na vstupu algoritmu získaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> (vstupní parametr <strong>Vozidlo</strong>).</li></ul></li><li>Systém provede kontrolu aktuálnosti přívěsů, které jsou přiřazeny k na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> – spustí <a href="202uc07-93587739.html">ALG10: Provést kontrolu přívěsů denního výkonu</a>, na vstup algoritmu jsou předány následující informace:<br><ul><li><strong>Denní výkon</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul></li><li>Systém provede kontrolu aktuálnosti stanoviště – spustí <a href="202uc07-93587739.html">ALG12: Provést kontrolu aktuálnosti nastaveného stanoviště denního výkonu</a>, na vstup algoritmu jsou předány následující informace:<br><ul><li><strong>Denní výkon</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.<br></li></ul></li><li>Systém provede kontrolu aktuálnosti dle nastavení objektu – spustí <a href="202uc07-93587739.html">ALG13: Provést kontrolu aktuálnosti denního výkonu dle nastavení objektu</a>, na vstup algoritmu jsou předány následující informace:<br><ul><li><strong>Denní výkon</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul></li></ol></li><li>Jinak je výsledek kontroly <strong>negativní</strong>:<br><ol><li>Systém vyhodnotí způsob odebrání na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> a akci provede (viz <a href="202uc07-93587739.html">ALG09: Provést odebrání denního výkonu</a>).</li><li>Systém pro na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Vozidlo</a> založí <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> – spustí <a href="../200ucxx-planovani-denni-vykony/200uc01-83266874.html">200UC01: Přidat denní výkon</a>, na vstup jsou předány následující informace:</li></ol><ul><li><ul><li><strong>Provozovna</strong>: <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (atribut <strong>Provozovna</strong>).</li><li><strong>Datum realizace</strong>: na vstupu získané datum realizace (vstupní parametr <strong>Datum realizace</strong>).</li><li><strong>Typ dopravy</strong>: <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (viz <a href="202uc07-93587739.html">ALG07: Získat typ dopravy vozidla</a>).</li><li><strong>Vozidlo</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>(vstupní parametr <strong>Objekt</strong>).</li><li><strong>Vytvořen uživatelem</strong>: předána hodnota <strong>FALSE</strong>.<br></li></ul></li></ul></li></ol></li><li>Jinak pro na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> nemají být generovány <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>:<br><ol><li>Systém vyhodnotí způsob odebrání na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> a akci provede (viz <a href="202uc07-93587739.html">ALG09: Provést odebrání denního výkonu</a>).<br></li></ol></li></ol><h4>Výstupní data</h4><p>–</p><h3>ALG05: Provést kontrolu denních výkonů oproti vozidlu</h3><p>Algoritmus slouží k provedení určitých opatření v případě, kdy zkoumanému <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> odpovídá více jak jeden <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> v rámci jednoho dne.</p><p>Poznámka: Algoritmus můžeme použít pro kontrolu v rámci plánovaného období i mimo něj – v obou případech pracujeme pouze s <a href="../../../datove-modely/datovy-78681044.html">Objekty</a>, pro které mají být generovány <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>. Chování pak vychází z předpokladu, že tento případ může nastat pouze v uvedených případech (vypůjčení <a href="../../../datove-modely/datovy-78681044.html">Objektu</a>):</p><ul><li><a href="#" data-page-title="200UC01: Přidat denní výkon"></a> (viz <a href="../200ucxx-planovani-denni-vykony/200uc01-83266874.html">AF01: Vypůjčené vozidlo</a>),</li><li><a href="#" data-page-title="200UC04: Přiřadit vozidlo dennímu výkonu"></a> (viz <a href="../200ucxx-planovani-denni-vykony/200uc04-83266905.html">AF01: Vypůjčené vozidlo</a>),</li><li><a href="#" data-page-title="200UC05: Změnit vozidlo denního výkonu"></a> (je volán <a href="#" data-page-title="200UC04: Přiřadit vozidlo dennímu výkonu"></a>).</li></ul><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Datum realizace</td><td colspan="1">Datum</td><td colspan="1">Ano</td><td colspan="1">Datum, v rámci kterého je prováděna kontrola.</td><td colspan="1">–</td></tr><tr><td colspan="1">Vozidlo</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Objekt</a></td><td colspan="1">Ano</td><td colspan="1">Objekt, pro který mají být kontrolovány denní výkony.</td><td colspan="1">–</td></tr><tr><td colspan="1">Denní výkony</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (kolekce)</td><td colspan="1">Ano</td><td colspan="1">Denní výkony, které mají být kontrolovány.</td><td colspan="1">–</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Pokud mají být pro na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> generovány <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (viz <a href="202uc07-93587739.html">ALG08: Generovat pro objekt denní výkon dle období zařazení</a>):<br><ol><li>Systém vyhodnotí na vstupu získané hodnoty – pokud je splněna alespoň jedna z dále uvedených podmínek, je kontrola <strong>negativní</strong>:</li></ol><br><ul><li><ul><li>V na vstupu získané kolekci <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> není obsažen ani jeden záznam, u kterého <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> (atribut Provozovna) odpovídá <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (atribut <strong>Provozovna</strong>).</li><li>V na vstupu získané kolekci <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> je obsažen alespoň jeden záznam, u kterého <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> (atribut <strong>Typ dopravy</strong>) neodpovídá <a href="../../../datove-modely/datovy-78681044.html">Typu dopravy</a> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (viz <a href="202uc07-93587739.html">ALG07: Získat typ dopravy vozidla</a>).</li></ul></li></ul><br><ol><li>Pokud je výsledek kontroly <strong>negativní</strong>:<br><ol><li>Pro všechny na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>:<br><ol><li>Systém vyhodnotí způsob odebrání na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> a akci provede (viz <a href="202uc07-93587739.html">ALG09: Provést odebrání denního výkonu</a>).<br></li></ol></li><li>Systém pro na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> založí <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> – spustí <a href="../200ucxx-planovani-denni-vykony/200uc01-83266874.html">200UC01: Přidat denní výkon</a>, na vstup jsou předány následující informace:</li></ol><br><ul><li><ul><li><strong>Provozovna</strong>: <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (atribut <strong>Provozovna</strong>).</li><li><strong>Datum realizace</strong>: na vstupu získané datum realizace (vstupní parametr <strong>Datum realizace</strong>).</li><li><strong>Typ dopravy</strong>: <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (viz <a href="202uc07-93587739.html">ALG07: Získat typ dopravy vozidla</a>).</li><li><strong>Vozidlo</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> (vstupní parametr <strong>Objekt</strong>).</li><li><strong>Vytvořen uživatelem</strong>: předána hodnota <strong>FALSE</strong>.</li></ul></li></ul></li><li>Jinak je výsledek kontroly <strong>pozitivní</strong>:<br><ol><li>Pro všechny na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>:<br><ol><li>Pokud je právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> ve stavu <strong>Vypůjčený</strong> (atribut <strong>Stav</strong>, viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>):<br><ol><li>Pokud na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> patří pod jinou <a href="../../../datove-modely/datovy-78681044.html">Provozovnu</a> (atribut <strong>Provozovna</strong>) než právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (atribut <strong>Provozovna</strong>):<br><ol><li>Systém odebere právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (na <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> ve stavu <strong>Vypůjčený</strong> není možná plánovat, proto ho můžeme rovnou odebrat).<br></li></ol></li></ol></li><li>Jinak je právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> v jiném stavu:<br><ol><li>Pokud na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> patří pod stejnou <a href="../../../datove-modely/datovy-78681044.html">Provozovnu</a>(atribut <strong>Provozovna</strong>) jako právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (atribut <strong>Provozovna</strong>):<br><ol><li>Pokud byl právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> vytvořen uživatelem – hodnota atributu <strong>Vytvo</strong><strong>řen uživatelem</strong> je rovna <strong>TRUE</strong>:<br><ol><li>Systém nastaví u právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> hodnotu atributu <strong>Vytvořen uživatelem</strong> na <strong>FALSE</strong> (uživatel nemůže <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> odebrat).</li></ol></li></ol></li><li>Systém provede kontrolu způsobu vyhodnocení realizace – spustí <a href="202uc07-93587739.html">ALG11: Provést kontrolu aktuálnosti nastaveného způsobu vyhodnocení realizace</a>, na vstup algoritmu jsou předány následující informace:<br><ul><li><strong>Denní výkon</strong>: právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>).</li><li><strong>Objekt</strong>: na vstupu algoritmu získaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> (vstupní parametr <strong>Vozidlo</strong>).</li></ul></li><li>Systém provede kontrolu aktuálnosti přívěsů, které jsou přiřazeny k na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> – spustí <a href="202uc07-93587739.html">ALG10: Provést kontrolu přívěsů denního výkonu</a>, na vstup algoritmu jsou předány následující informace:<br><ul><li><strong>Denní výkon</strong>: právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.<br></li></ul></li><li>Systém provede kontrolu aktuálnosti stanoviště – spustí <a href="202uc07-93587739.html">ALG12: Provést kontrolu aktuálnosti nastaveného stanoviště denního výkonu</a>, na vstup algoritmu jsou předány následující informace:<br><ul><li><strong>Denní výkon</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul></li><li>Systém provede kontrolu aktuálnosti dle nastavení objektu – spustí <a href="202uc07-93587739.html">ALG13: Provést kontrolu aktuálnosti denního výkonu dle nastavení objektu</a>, na vstup algoritmu jsou předány následující informace:<ul><li><strong>Denní výkon</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.<br></li></ul></li></ol></li></ol></li></ol></li></ol></li><li>Jinak pro na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> nemají být generovány <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>:<br><ol><li>Pro všechny na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>:<br><ol><li>Systém vyhodnotí způsob odebrání na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> a akci provede (viz <a href="202uc07-93587739.html">ALG09: Provést odebrání denního výkonu</a>).<br></li></ol></li></ol></li></ol><h4>Výstupní data</h4><p>–</p><h3>ALG06: Odebrat vozidlo z denního výkonu</h3><p>Algoritmus slouží k odebrání <a href="../../../datove-modely/datovy-78681044.html">Vozidla</a> z konkrétního <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</p><p>Poznámka: Chování vychází z <a href="#" data-page-title="200UC06: Odebrat vozidlo denního výkonu">200UC06: Odebrat vozidlo denního výkonu</a>.</p><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Denní výkon</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a></td><td colspan="1">Ano</td><td colspan="1">Denní výkon, u kterého má být odebrán přiřazený objekt.</td><td colspan="1">–</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Systém nastaví u na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> hodnotu atributu <strong>Vozidlo</strong> na <strong>NULL</strong>.</li><li>Systém nastaví u na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> hodnotu atributu <strong>Textová identifikace vozidla</strong> na <strong>NULL</strong>.</li><li>Pokud je na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> ve stavu <strong>Plněný</strong> (atribut <strong>Stav</strong>, viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>), jdou provedeny následující akce:<br><ol><li>Systém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Realizaci denního výkonu</a> – jedná se o <a href="../../../datove-modely/datovy-78681044.html">Realizaci denního výkonu</a>, která se odkazuje na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> získaný na vstupu (atribut <strong>Denní výkon</strong>).</li><li>Systém odebere všechny <a href="../../../datove-modely/datovy-78681044.html">Obsluhy lokace objednané služby</a>, které se odkazují na získanou <a href="../../../datove-modely/datovy-78681044.html">Realizaci denního výkonu</a>(atribut <strong>Realizace denního výkonu</strong>).</li><li>Systém nalezne všechny <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, které se odkazují na získanou <a href="../../../datove-modely/datovy-78681044.html">Realizaci denního výkonu</a>(atribut <strong>Realizace denního výkonu</strong>).</li><li>Pro všechny nalezené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>:<br><ol><li>Systém nastaví hodnotu atributu <strong>Realizace denního výkonu</strong> na <strong>NULL</strong>.<br></li></ol></li><li>Systém odebere získanou <a href="../../../datove-modely/datovy-78681044.html">Realizaci denního výkonu</a>.</li></ol></li><li>Systém nastaví u na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> hodnotu atributu <strong>Způsob vyhodnocení realizace</strong> na <strong>defaultVehicleRealizationType</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty"></a>).</li></ol><p>Poznámka: Neměla by nastat situace, kdy pro <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> v uvedeném stavu nebude existovat odpovídající <a href="../../../datove-modely/datovy-78681044.html">Realizace denního výkonu</a>.</p><h4>Výstupní data</h4><p>–</p><h3>ALG07: Získat typ dopravy vozidla</h3><p>Algoritmus slouží k nalezení <a href="../../../datove-modely/datovy-78681044.html">Typu dopravy</a>, který je přiřazen k odpovídajícímu <a href="../../../datove-modely/datovy-78681044.html">Objektu</a>.</p><p>Poznámka: Algoritmus je určen pro <a href="../../../datove-modely/datovy-78681044.html">Objekty</a> typu <strong>Vozidlo</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Typ objektu</a>).</p><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Vozidlo</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Objekt</a></td><td colspan="1">Ano</td><td colspan="1">Objekt, pro který má být nalezen odpovídající typ dopravy.</td><td colspan="1">–</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Systém nalezne takový <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy objektu</a>, který splňuje všechny dále uvedené podmínky zároveň (hledá pak pouze první výskyt):<br><ul><li>Hodnota atributu <strong>Objekt</strong> odkazuje na právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>.</li></ul></li><li>Pokud je nalezen <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy objektu</a> (viz krok <strong>1</strong>), systém nastaví hodnotu výstupního parametru <strong>Typ dopravy</strong>:<br><ul><li>Hodnota atributu <strong>Typ dopravy</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Typu dopravy objektu</a> (viz krok <strong>1</strong>).</li></ul></li></ol><p>Poznámka: K jednomu <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> může být přiřazeno více <a href="../../../datove-modely/datovy-78681044.html">Typů dopravy</a> zároveň. Pro vozidla by však měl být aktuálně nastaven maximálně jeden <a href="../../../datove-modely/datovy-78681044.html">Typu dopravy</a>, tomu odpovídá také chování tohoto algoritmu.</p><h4>Výstupní data</h4><table><tbody><tr><th>Výstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Typ dopravy</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a></td><td colspan="1">Ne</td><td colspan="1">V pořadí první získaný typ dopravy přiřazený k danému objektu.</td><td colspan="1">–</td></tr></tbody></table><h3>ALG08: Generovat pro objekt denní výkon dle období zařazení</h3><p>Algoritmus slouží k vyhodnocení, zda může být pro odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> generován <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (z pohledu zařazení daného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> do evidence).</p><p>Poznámka: Algoritmus je určen pro <a href="../../../datove-modely/datovy-78681044.html">Objekty</a> typu <strong>Vozidlo</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Typ objektu</a>).</p><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Datum realizace</td><td colspan="1">Datum</td><td colspan="1">Ano</td><td colspan="1">Datum, ke kterému má být vyhodnocena možnost generovat denní výkon.</td><td colspan="1">–</td></tr><tr><td colspan="1">Vozidlo</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Objekt</a></td><td colspan="1">Ano</td><td colspan="1">Objekt, pro který má být vyhodnocena možnost generovat denní výkon.</td><td colspan="1">–</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Pokud je u na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (vstupní parametr <strong>Vozidlo</strong>) splněna alespoň jedna z dále uvedených podmínek, je na výstupu algoritmu předána hodnota <strong>FALSE</strong> (výstupní parametr <strong>Generovat denní výkon</strong>):<br><ul><li>Hodnota atributu <strong>Datum zařazení</strong> není k dispozici (NULL) a současně je konfigurační hodnota <strong>generateDailyRoutesIsInsertionDateCompulsory</strong> nastavena na <strong>TRUE</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty"></a>).</li><li>Hodnota atributu <strong>Datum zařazení</strong> je větší než na vstupu získané datum realizace (vstupní parametr <strong>Datum realizace</strong>; pokud není hodnota k dispozici, není podmínka vyhodnocována).</li><li>Hodnota atributu <strong>Datum vyřazení</strong> je menší než na vstupu získané datum realizace (vstupní parametr <strong>Datum realizace</strong>; pokud není hodnota k dispozici, není podmínka vyhodnocována).</li></ul></li><li>Jinak je na výstupu algoritmu předána hodnota <strong>TRUE</strong> (výstupní parametr <strong>Generovat denní výkon</strong>).</li></ol><p>Poznámka: Pokud není na úrovni daného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> k dispozici hodnota pro ani jeden z uvedených atributů (Datum zařazení, Datum vyřazení), je na výstupu algoritmu předána hodnota <strong>TRUE</strong> (generování není omezeno obdobím zařazení <a href="../../../datove-modely/datovy-78681044.html">Objektu</a>). Výjimku tvoří situace, kdy je zadání hodnoty atributu <strong>Datum zařazení</strong> povinné, v takovém případě by bylo vráceno <strong>FALSE</strong> (vyhodnocováno dle konfigurační hodnoty <strong>generateDailyRoutesIsInsertionDateCompulsory</strong>, viz <a href="#" data-page-title="Konfigurační hodnoty"></a>).</p><h4>Výstupní data</h4><table><tbody><tr><th>Výstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Generovat denní výkon</td><td colspan="1">Boolean</td><td colspan="1">Ano</td><td colspan="1">Informace, zda může být pro daný objekt generován denní výkon.</td><td colspan="1">Pokud je na výstupu předána hodnota <strong>TRUE</strong>, znamená to, že mají být pro objekt generovány denní výkony.</td></tr></tbody></table><h3>ALG09: Provést odebrání denního výkonu</h3><p>Algoritmus slouží k odebrání již nepotřebného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, samotný způsob odebrání je pak dán tím, zda je na tento <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> něco naplánováno…</p><ul><li>pokud ano, je pouze odebrán přiřazený <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> (dispečer nepřichází o připravený plán vozidla).</li><li>pokud ne, dochází k odebrání tohoto <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (není dále potřeba).</li></ul><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Denní výkon</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a></td><td colspan="1">Ano</td><td colspan="1">Denní výkon, který má být odebrán.</td><td colspan="1">To, zda bude denní výkon skutečně odebrán, závisí na jeho aktuálním stavu.</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Systém vyhodnotí, zda na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>) obsahuje alespoň jednu <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> – tedy zda existuje alespoň jedna <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>, která splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Denní výkon</strong> odkazuje na získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li><li>Nejedná se o <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> odkazovanou v rámci atributu <strong>Počáteční položka denního výkonu</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li>Nejedná se o <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> odkazovanou v rámci atributu <strong>Koncová položka denního výkonu</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ul></li><li>Pokud na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> obsahuje alespoň jednu <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a>:<br><ol><li>Systém u na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> odebere přiřazený <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> – spustí <a href="202uc07-93587739.html">ALG06: Odebrat vozidlo z denního výkonu</a>, na vstup algoritmu jsou předány následující informace:<br><ul><li><strong>Denní výkon</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul></li><li>Systém u na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> nastaví atribut <strong>Vytvořen uživatelem</strong> na hodnotu <strong>TRUE</strong> (uživatel může <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> odebrat).</li><li>Systém provede kontrolu aktuálnosti přívěsů, které jsou přiřazeny k na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> – spustí <a href="202uc07-93587739.html">ALG10: Provést kontrolu přívěsů denního výkonu</a>, na vstup algoritmu jsou předány následující informace:<br><ul><li><strong>Denní výkon</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul></li></ol></li><li>Jinak na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> neobsahuje ani jednu <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a>:<br><ol><li>Systém odebere na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ol></li></ol><h4>Výstupní data</h4><p>–</p><h3>ALG10: Provést kontrolu přívěsů denního výkonu</h3><p>Algoritmus slouží k vyhodnocení, zda jsou všechny přívěsy přiřazené k <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> aktuální (nebyly odebrány či vyřazeny).</p><p>Poznámka: Akce je prováděna pouze pro takové <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, u kterých se datum realizace nevyskytuje v minulosti.</p><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Denní výkon</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a></td><td colspan="1">Ano</td><td colspan="1">Denní výkon, u kterého má být provedena kontrola aktuálnosti přiřazených přívěsů.</td><td colspan="1">–</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Systém nalezne takové <a href="../../../datove-modely/datovy-78681044.html">Přívěsy denního výkonu</a>, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Denní výkon</strong> odpovídá na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a>.</li></ul></li><li>Pokud je nalezen alespoň jeden <a href="../../../datove-modely/datovy-78681044.html">Přívěs denního výkonu</a> (viz krok <strong>1</strong>), systém provede kontrolu každého z nich:<br><ol><li>Systém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> představující přívěs – hodnota atributu <strong>Přívěs</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Přívěsu denního výkonu</a>.</li><li>Systém vyhodnotí získaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> (viz krok <strong>2.a</strong>) – pokud jsou splněny všechny dále uvedené podmínky, je přiřazení přívěsu <strong>aktuální</strong>:<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Typ objektu</strong> je nastavena na <strong>Přívěs</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Typ objektu</a>).</li><li>Pro daný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> existuje takový <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy objektu</a>, který splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Objekt</strong> odpovídá právě zkoumanému <a href="../../../datove-modely/datovy-78681044.html">Objektu</a>.</li><li>Hodnota atributu <strong>Typ dopravy</strong> odpovídá <a href="../../../datove-modely/datovy-78681044.html">Typu dopravy</a> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut <strong>Typ dopravy</strong>).<br></li></ul></li><li>Hodnota atributu <strong>Datum zařazení</strong> je k dispozici.<br><ul><li><em>Pokud je konfiguračního hodnota <strong>generateDailyRoutesIsInsertionDateCompulsory</strong> <em>(viz <a href="#" data-page-title="Konfigurační hodnoty"></a>) </em>nastavena na <strong>FALSE</strong>, není podmínka vyhodnocována.</em></li></ul></li><li>Hodnota atributu <strong>Datum zařazení</strong> je menší nebo rovna datu realizace na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut <strong>Datum realizace</strong>).<br><ul><li><em>Pokud není hodnota k dispozici, není podmínka vyhodnocována.</em></li></ul></li><li>Hodnota atributu <strong>Datum vyřazení</strong> je větší nebo rovna datu realizace na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut <strong>Datum realizace</strong>).<br><ul><li><em>Pokud není hodnota k dispozici, není podmínka vyhodnocována.</em></li></ul></li></ul></li><li>Pokud není přiřazení přívěsu <strong>aktuální</strong> (viz krok <strong>2.b</strong>), systém smaže právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Přívěs denního výkonu</a>.<br><ul><li><em>Jinak je tento <a href="../../../datove-modely/datovy-78681044.html">Přívěs denního výkonu</a> zachován.</em></li></ul></li></ol></li></ol><p>Poznámka: Jako přívěs může být k <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> přiřazen <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> typu <strong>Přívěs</strong> (atribut <strong>Typ objektu</strong>, viz <a href="../../../datove-modely/datovy-78681044.html">Typ objektu</a>).</p><h4>Výstupní data</h4><p>–</p><h3>ALG11: Provést kontrolu aktuálnosti nastaveného způsobu vyhodnocení realizace</h3><p>Algoritmus slouží k provedení kontroly aktuálně nastaveného způsobu vyhodnocení realizace daného <a href="../../../datove-modely/datovy-78681044.html">Denního výkon</a>. Porovnání pak probíhá oproti odpovídajícímu <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (resp. vozidlu), v rámci kterého je specifikována aktuální hodnota. Pokud hodnota aktuální není, je v rámci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> provedena její aktualizace (pokud jsou splněny další podmínky). Dle této hodnoty se pak odvíjí zdroj dat, který je využit při vyhodnocení realizace tohoto <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</p><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Denní výkon</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a></td><td colspan="1">Ano</td><td colspan="1">Denní výkon, u kterého má být provedena kontrola.</td><td colspan="1">–</td></tr><tr><td colspan="1">Objekt</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Objektu</a></td><td colspan="1">Ano</td><td colspan="1">Objekt, u kterého má být provedena kontrola.</td><td colspan="1">–</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Pokud je na vstupu algoritmu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>) v jednom z dále uvedených stavů (atribut <strong>Stav</strong>): <strong>Plánovaný</strong>, <strong>Schválený</strong>, <strong>Vypůjčený</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>):<br><ol><li>Systém vyhodnotí aktuálnost nastaveného způsobu vyhodnocení realizace – nastavení je aktuální, pokud si odpovídají všechny dále uvedené hodnoty:<br><ul><li>hodnota atributu <strong>Způsob vyhodnocení realizace</strong> na vstupu algoritmu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr <strong>Denní výkon</strong>).<br></li><li>hodnota atributu <strong>Způsob vyhodnocení realizace</strong> na vstupu algoritmu získaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (vstupní parametr <strong>Objekt</strong>).</li></ul></li><li>Pokud aktuálně nastavený způsob vyhodnocení realizace není aktuální (viz krok <strong>1.a</strong>):<br><ol><li>Systém provede aktualizaci na vstupu algoritmu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr <strong>Denní výkon</strong>):<br><ul><li><strong>Způsob vyhodnocení realizace</strong>: hodnota atributu <strong>Způsob vyhodnocení realizace</strong> na vstupu algoritmu získaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (vstupní parametr <strong>Objekt</strong>).</li></ul></li></ol></li></ol></li></ol><p>Poznámka: Pokud je <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> v jednom z uvedených stavů, neměla by změna <a href="../../../datove-modely/datovy-78681044.html">Způsobu vyhodnocení realizace</a> způsobit žádné komplikace (zatím neexistují žádné informace o realizaci).</p><h4>Výstupní data</h4><p>–</p><h3>ALG12: Provést kontrolu aktuálnosti nastaveného stanoviště denního výkonu</h3><p>Algoritmus slouží k provedení kontroly začátku a konce <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> oproti <a href="../../../datove-modely/datovy-78681044.html">Stanovišti</a> odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (resp. vozidla).</p><ul><li>Pokud došlo ke změně <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> daného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (resp. vozidla), aktualizujeme počáteční i cílový bod <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li>V opačném případě není nutné provádět žádné další akce související se <a href="../../../datove-modely/datovy-78681044.html">Stanovištěm</a> odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (resp. vozidla).</li></ul><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Denní výkon</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a></td><td colspan="1">Ano</td><td colspan="1">Denní výkon, u kterého má být provedena kontrola.</td><td colspan="1">–</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Pokud je na vstupu algoritmu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>) v jednom z dále uvedených stavů (atribut <strong>Stav</strong>): <strong>Plánovaný</strong>, <strong>Schválený</strong>, <strong>Vypůjčený</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>):<br><ol><li>Systém nalezne takové <a href="../../../datove-modely/datovy-78681044.html">Přiřazení objektu ke stanovišti</a>, které splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Objekt</strong> odpovídá <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> přiřazenému k na vstupu algoritmu získanému <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> (atribut <strong>Vozidlo</strong>; vstupní parametr <strong>Denní výkon</strong>).</li><li>Hodnota atributu <strong>Platnost od</strong> je menší nebo rovna hodnotě atributu <strong>Datum realizace</strong> u na vstupu algoritmu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vyhodnocováno jako datum, bez části s časem).</li><li>Hodnota atributu <strong>Platnost do</strong> je větší nebo rovna hodnotě atributu <strong>Datum realizace</strong> u na vstupu algoritmu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vyhodnocováno jako datum, bez části s časem).<ul><li><em>Pokud není hodnota k dispozici, není podmínka vyhodnocována – jedná se o neomezené období.</em></li></ul></li><li><em>Poznámka: Měl by existovat maximálně jeden takový záznam. Pokud bychom jich nalezli více, pracujeme s tím s nejvyšším interním ID.</em><br></li></ul></li><li>Pokud bylo nalezeno alespoň jedno <a href="../../../datove-modely/datovy-78681044.html">Přiřazení objektu ke stanovišti</a> (viz krok 1.a):<br><ol><li>Systém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> – hodnota atributu <strong>Stanoviště</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Přiřazení objektu ke stanovišti</a> (viz krok <strong>1.a</strong>).</li><li>Pokud získané <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> (viz krok 1.b) splňuje všechny dále uvedené podmínky – pokračujeme v kontrole aktuálnosti (přechod na krok <strong>1.c</strong>).<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Adresa</strong> je k dispozici.</li><li>Hodnota atributu <strong>Zeměpisná šířka</strong> je k dispozici.</li><li>Hodnota atributu <strong>Zeměpisná délka</strong> je k dispozici.<br></li></ul></li><li>Jinak získané <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> uvedené podmínky nesplňuje – <strong>algoritmus předčasně končí</strong> (kontrola aktuálnosti není provedena).<br></li></ol></li><li>Systém vyhodnotí aktuálnost nastavení počáteční <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a>:<br><ol><li>Systém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> – atribut <strong>Lokace objednané služby</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>  – atribut <strong>Počáteční položka denního výkonu</strong> na vstupu algoritmu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr <strong>Denní výkon</strong>).</li><li>Systém vyhodnotí aktuálnost nastaveného stanoviště – porovná získanou počáteční <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> (viz krok <strong>1.c.i</strong>) a získané <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> (viz krok <strong>1.b.i</strong>) → viz dále uvedená tabulka.</li><li>Pokud se liší hodnota alespoň v jednom z atributů, dochází k její aktualizaci – dle <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> je nastavena daná <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>.</li></ol></li><li>Systém vyhodnotí aktuálnost nastavení koncové <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a>:<br><ol><li>Systém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> – atribut <strong>Lokace objednané služby</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>  – atribut <strong>Koncová položka denního výkonu</strong> na vstupu algoritmu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr <strong>Denní výkon</strong>).</li><li>Systém vyhodnotí aktuálnost nastaveného stanoviště – porovná získanou koncovou <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> (viz krok <strong>1.d.i</strong>) a získané <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> (viz krok <strong>1.b.i</strong>) → viz dále uvedená tabulka.</li><li>Pokud se liší hodnota alespoň v jednom z atributů, dochází k její aktualizaci – dle <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> je nastavena daná <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>.</li></ol></li><li>Systém provede aktualizaci trasy <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> – spustí <a href="../200ucxx-planovani-denni-vykony/200uc29-83267154.html">200UC29: Získat trasu denního výkonu</a>, na vstup jsou předány následující informace:<ul><li><strong>Denní výkon</strong>: na vstupu tohoto algoritmu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul></li></ol></li></ol><p>V rámci toku událostí porovnáváme získané <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> oproti <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> představující počáteční či cílový bod <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>. Samotné porovnání pak probíhá dle v tabulce uvedených atributů.</p><table><tbody><tr><th>Stanoviště</th><th>Lokace objednané služby</th><th colspan="1">Poznámka</th></tr><tr><td>Adresa</td><td>Adresa</td><td colspan="1">Porovnáváme dílčí hodnoty odkazované instance entity <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>. Při aktualizaci hodnoty pak vzniká nová <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>.</td></tr><tr><td>Zeměpisná šířka</td><td>Zeměpisná šířka</td><td colspan="1">–</td></tr><tr><td>Zeměpisná délka</td><td>Zeměpisná délka</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Změna počáteční či cílové <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> uživatelem nemá vliv na provedení této akce.</p><h4>Výstupní data</h4><p>–</p><h3>ALG13: Provést kontrolu aktuálnosti denního výkonu dle nastavení objektu</h3><p>Algoritmu slouží k provedené kontroly aktuálnosti <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> dle parametrů získaných na úrovni <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (viz <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a>).</p><ul><li>Pokud došlo ke změně některého z odpovídajících parametrů, aktualizujeme také daný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li><li>V opačném případě není nutné provádět žádné další akce související s <a href="../../../datove-modely/datovy-78681044.html">Nastavením objektu pro denní výkon</a>.</li></ul><h4>Vstupní data</h4><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Denní výkon</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a></td><td colspan="1">Ano</td><td colspan="1">Denní výkon, u kterého má být provedena kontrola.</td><td colspan="1">–</td></tr></tbody></table><h4>Tok událostí</h4><ol><li>Pokud je na vstupu algoritmu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>) v jednom z dále uvedených stavů (atribut <strong>Stav</strong>): <strong>Plánovaný</strong>, <strong>Schválený</strong>, <strong>Vypůjčený</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>):<br><ol><li>Systém nalezne takové <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a>, které splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Objekt</strong> odpovídá <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> u na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut <strong>Vozidlo</strong>, vstupní parametr <strong>Denní výkon</strong>).</li><li>Hodnota atributu <strong>Platnost od</strong> je menší nebo rovna datu realizace u na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut <strong>Datum realizace</strong>, vstupní parametr <strong>Denní výkon</strong>).</li><li>Hodnota atributu <strong>Platnost do</strong> je větší nebo rovna datu realizace u na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut <strong>Datum realizace</strong>, vstupní parametr <strong>Denní výkon</strong>).<br><ul><li><em>Pokud není hodnota atributu <strong>Platnost do</strong> k dispozici, není tato podmínka vyhodnocována.</em></li></ul></li><li>Hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong>.</li></ul></li><li>Systém vyhodnotí aktuálnost nastavení barvy <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (viz <a href="202uc07-93587739.html">Vyhodnocení aktuálnosti nastavení barvy denního výkonu</a>).</li><li>Systém vyhodnotí aktuálnost nastavení provozní doby <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (viz <a href="202uc07-93587739.html">Vyhodnocení aktuálnosti nastavení provozní doby denního výkonu</a>).</li></ol></li></ol><p>Poznámka: Pokud je získáno více záznamů entity <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a> současně, pracujeme s tím s nejvyšší hodnotou interního ID. Uvedená situace by však neměla nastat, jednalo by se o chybu.</p><h5>Vyhodnocení aktuálnosti nastavení barvy denního výkonu</h5><ol><li>Pokud bylo nalezeno alespoň jedno <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a> (viz hlavní tok událostí tohoto algoritmu, krok <strong>1.a</strong>):<br><ol><li>Pokud je u získaného <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a> k dispozici hodnota atributu <strong>Barva</strong>:<br><ol><li>Systém získá barvu pro <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> – hodnota atributu <strong>Barva</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a>.</li></ol></li></ol></li><li>Pokud byla získána <strong>barva</strong> pro <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (viz krok <strong>1.a.i</strong>):<br><ol><li>Pokud se hodnota atributu <strong>Barva</strong> u na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> liší od té získané, provedeme její nastavení dle získané barvy.</li><li>Pokud hodnota atributu <strong>Barva</strong> u na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> odpovídá té získané, neprovádíme její aktualizaci.</li><li>Pokud hodnota atributu <strong>Barva</strong> u na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> není k dispozici, provedeme její nastavení dle získané barvy.</li></ol></li><li>Jinak <strong>barva</strong> pro <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> získána nebyla:<br><ol><li>Pokud je hodnota atributu <strong>Barva</strong> u na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> k dispozici, provedeme zrušení jejího nastavení.</li><li>Pokud hodnota atributu <strong>Barva</strong> u na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> k dispozici není, neprovádíme její aktualizaci.</li></ol></li></ol><p>Poznámka: Nastavení barvy nemá vliv na trasu <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</p><h5>Vyhodnocení aktuálnosti nastavení provozní doby denního výkonu</h5><ol><li>Pokud bylo nalezeno alespoň jedno <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a> (viz hlavní tok událostí tohoto algoritmu, krok <strong>1.a</strong>):<br><ol><li>Pokud je u získaného <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a> k dispozici hodnota pro atribut <strong>Provozní doba od</strong> i <strong>Provozní doba do</strong> současně:<br><ol><li>Systém získá <strong>začátek provozní doby</strong> pro <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> – hodnota atributu <strong>Provozní doba od</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a>.</li><li>Systém získá <strong>konec provozní doby</strong> pro <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> – hodnota atributu <strong>Provozní doba do</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a>.</li><li><em><strong>Přechod na krok 3.</strong></em></li></ol></li></ol></li><li>Jinak v rámci získaného <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a> provozní doba získána nebyla – použijeme tedy provozní dobu odpovídající <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> (atribut <strong>Provozovna</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>):<br><ol><li>Systém získá <strong>začátek provozní doby</strong> pro <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> – hodnota atributu <strong>Provozní doba od</strong> odpovídající <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>.</li><li>Systém získá <strong>konec provozní doby</strong> pro <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> – hodnota atributu <strong>Provozní doba do</strong> odpovídající <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>.</li></ol></li><li>Systém získá aktuálně nastavenou provozní dobu – hledá takové <a href="../../../datove-modely/datovy-78681044.html">Intervaly omezení denního výkonu</a>, které splňují všechny dále uvedené podmínky současně:<br><ul><li>Hodnota atributu <strong>Denní výkon</strong> odpovídá na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> (vstupní parametr <strong>Denní výkon</strong>).</li><li>Hodnota atributu <strong>Typ omezení</strong> je nastavena na hodnotu <strong>Mimo provozní dobu</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Typ intervalu omezení denního výkonu</a>).</li></ul></li><li>Systém porovná získanou provozní dobu oproti té aktuálně nastavené – pokud jsou splněny dále uvedené podmínky, je provozní doba aktuální:<br><ol><li>V získané kolekci <a href="../../../datove-modely/datovy-78681044.html">Intervalů omezení denního výkonu</a> je obsažen právě jeden záznam, který má v rámci atributu <strong>Čas omezení od</strong> nastavenou hodnotu <strong>konec provozní doby</strong> (viz krok <strong>1.a.ii</strong> nebo <strong>2.b</strong>).</li><li>V získané kolekci <a href="../../../datove-modely/datovy-78681044.html">Intervalů omezení denního výkonu</a> je obsažen právě jeden záznam, který má v rámci atributu <strong>Čas omezení do</strong> nastavenou hodnotu <strong>začátek provozní doby</strong> (viz krok <strong>1.a.i</strong> nebo <strong>2.a</strong>).<br></li></ol></li><li>Pokud není právě nastavená provozní doba aktuální (viz krok <strong>4</strong>):<br><ol><li>Systém připraví odpovídající <a href="../../../datove-modely/datovy-78681044.html">Intervaly omezení denního výkonu</a> představující provozní dobu:<br><ul><li><p><strong>Typ omezení</strong>: Mimo provozní dobu, <strong>Čas omezení od</strong>: 0:00, <strong>Čas omezení do</strong>: získaná hodnota <strong>začátek provozní doby</strong> (viz krok <strong>1.a.i</strong> nebo <strong>2.a</strong>).</p></li><li><p><strong>Typ omezení</strong>: Mimo provozní dobu, <strong>Čas omezení od</strong>: získaná hodnota <strong>konec provozní doby</strong> (viz krok <strong>1.a.ii</strong> nebo <strong>2.b</strong>), <strong>Čas omezení do</strong>: 23:59.</p></li></ul></li><li>Systém aktualizuje provozní dobu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> – spustí <a href="../200ucxx-planovani-denni-vykony/200uc33-84215181.html">200UC33: Upravit provozní dobu denního výkonu</a>, na vstup jsou předány dále uvedené hodnoty:<br><ul><li><strong>Denní výkony</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>).</li><li><strong>Intervaly omezení denního výkonu</strong>: vytvořené <a href="../../../datove-modely/datovy-78681044.html">Intervaly omezení denního výkonu</a> (viz krok 5.a).</li></ul></li><li>Systém aktualizuje časové okno lokace představující začátek denního výkonu:<br><ol><li>Systém získá počáteční <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> – atribut <strong>Počáteční položka denního výkonu</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr <strong>Denní výkon</strong>).</li><li>Systém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> – atribut <strong>Lokace objednané služby</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> (viz předchozí krok).</li><li>Systém nastaví hodnotu atributu <strong>Začátek časového okna</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>: získaná hodnota <strong>začátek provozní doby</strong> (viz krok <strong>1.a.i</strong> nebo <strong>2.a</strong>).</li><li>Systém nastaví hodnotu atributu <strong>Konec časového okna</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>: získaná hodnota <strong>konec provozní doby</strong> (viz krok <strong>1.a.ii</strong> nebo <strong>2.b</strong>).<br></li></ol></li><li>Systém aktualizuje časové okno lokace představující konec denního výkonu:<br><ol><li>Systém získá koncovou <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> – atribut <strong>Koncová položka denního výkonu</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr <strong>Denní výkon</strong>).</li><li>Systém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> – atribut <strong>Lokace objednané služby</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> (viz předchozí krok).</li><li>Systém nastaví hodnotu atributu <strong>Začátek časového okna</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>: získaná hodnota <strong>začátek provozní doby</strong> (viz krok <strong>1.a.i</strong> nebo <strong>2.a</strong>).</li><li>Systém nastaví hodnotu atributu <strong>Konec časového okna</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>: získaná hodnota <strong>konec provozní doby</strong> (viz krok <strong>1.a.ii</strong> nebo <strong>2.b</strong>).<br></li></ol></li></ol></li></ol><p>Stručný popis: Pro zvýšení přehlednosti si celý algoritmus ještě stručně popíšeme…</p><ul><li>Systém získá provozní dobu pro právě zkoumaný denní výkon – ta je získána buď z nastavení objektu, nebo z odpovídající provozovny.</li><li>Získaná provozní doba je následně porovnána s tou aktuálně nastavenou – pokud se provozní doba liší, dojde k její aktualizaci.</li></ul><p>Poznámka: V rámci UC pro změnu provozní doby dochází také k aktualizaci trasy tohoto <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>. Pokud má pak dojít k aktualizaci trasy <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> ve více částech tohoto UC, může být provedeno společně na jeho konci.</p><h4>Výstupní data</h4><p>–</p><h1>Uživatelské rozhraní</h1><p>–</p><h1>Revize</h1><h3>14. 9. 2025: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG04: Provést kontrolu denního výkonu oproti vozidlu</a></td><td colspan="1">Doplněna kontrola aktuálnosti denního výkonu (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG05: Provést kontrolu denních výkonů oproti vozidlu</a></td><td colspan="1">Doplněna kontrola aktuálnosti denního výkonu (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG13: Provést kontrolu aktuálnosti denního výkonu dle nastavení objektu</a></td><td colspan="1">Doplněn algoritmus pro kontrolu aktuálnosti denního výkonu (naznačeno růžově).</td></tr></tbody></table><h3>11. 4. 2025: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG04: Provést kontrolu denního výkonu oproti vozidlu</a></td><td colspan="1">Doplněna kontrola aktuálnosti stanoviště (naznačeno modře).</td></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG05: Provést kontrolu denních výkonů oproti vozidlu</a></td><td colspan="1">Doplněna kontrola aktuálnosti stanoviště (naznačeno modře).</td></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG12: Provést kontrolu aktuálnosti nastaveného stanoviště denního výkonu</a></td><td colspan="1">Doplněn algoritmus pro kontrolu aktuálnosti stanoviště (naznačeno modře).</td></tr></tbody></table><h3>7. 9. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG08: Generovat pro objekt denní výkon dle období zařazení</a></td><td colspan="1">Revize způsobu vyhodnocení zařazení vozidla (naznačeno modře).</td></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG10: Provést kontrolu přívěsů denního výkonu</a></td><td colspan="1">Revize způsobu vyhodnocení zařazení přívěsu (naznačeno modře).</td></tr></tbody></table><h3>2. 2. 2024: M. Slivoně</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><p><a href="202uc07-93587739.html">Základní tok událostí</a></p></td><td colspan="1">Doplněna kontrola na aktivitu Provozovny (naznačeno zeleně).</td></tr></tbody></table><h3>23. 10. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG04: Provést kontrolu denního výkonu oproti vozidlu</a></td><td colspan="1">Doplněno vyhodnocení aktuálnosti nastaveného způsobu vyhodnocení realizace (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG05: Provést kontrolu denních výkonů oproti vozidlu</a></td><td colspan="1">Doplněno vyhodnocení aktuálnosti nastaveného způsobu vyhodnocení realizace (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG06: Odebrat vozidlo z denního výkonu</a></td><td colspan="1">Doplněno nastavení způsobu vyhodnocení realizace na výchozí hodnotu (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG11: Provést kontrolu aktuálnosti nastaveného způsobu vyhodnocení realizace</a></td><td colspan="1">Doplněn algoritmus pro kontrolu aktuálnosti nastaveného způsobu vyhodnocení realizace (naznačeno růžově).</td></tr></tbody></table><h3>15. 9. 2023: Tomáš Nadrchal</h3><p>Změny chování související s novým způsobem vyřazování vozidel (naznačeno modře).</p><h3>15. 3. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="202uc07-93587739.html">Spuštění případu užití</a></td><td colspan="1">Revize případů užití, které spouštějí tento UC (naznačeno modře).</td></tr></tbody></table><h3>7. 4. 2021 Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG02: Provést kontrolu aktuálnosti denních výkonů pro plánované období</a></td><td colspan="1">Provedena revize způsobu, jakým dochází k odebrání vozidla u konkrétního denního výkonu (naznačeno modře).</td></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG03: Provést kontrolu aktuálnosti denních výkonů mimo plánované období</a></td><td colspan="1">Provedena revize způsobu, jakým dochází k odebrání vozidla u konkrétního denního výkonu (naznačeno modře).</td></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG04: Provést kontrolu denního výkonu oproti vozidlu</a></td><td colspan="1">Provedena revize způsobu, jakým dochází k odebrání vozidla u konkrétního denního výkonu (naznačeno modře).</td></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG05: Provést kontrolu denních výkonů oproti vozidlu</a></td><td colspan="1">Provedena revize způsobu, jakým dochází k odebrání vozidla u konkrétního denního výkonu (naznačeno modře).</td></tr><tr><td colspan="1"><a href="202uc07-93587739.html">ALG06: Odebrat vozidlo z denního výkonu</a></td><td colspan="1">Doplněn algoritmus pro odebrání vozidla z denního výkonu.</td></tr></tbody></table><p> </p><div><br></div>
</div>
</body>
</html>
