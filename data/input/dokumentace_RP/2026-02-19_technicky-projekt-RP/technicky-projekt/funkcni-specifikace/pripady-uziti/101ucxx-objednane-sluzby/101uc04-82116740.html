<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>101UC04: Upravit objednanou službu</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl UC</h1><p>Cílem UC je editace Objednané služby.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th>Popis</th><th colspan="1">Typická role</th></tr><tr><td>Uživatel</td><td><p>Jedná se o uživatele aplikace RoadPlan, který musí mít oprávnění spouštět tento UC.</p></td><td colspan="1"><p> </p></td></tr></tbody></table><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na editaci Objednané služby jedním z těchto způsobů:</p><ul><li>Editace Objednané služby z přehledu Objednaných služeb (<a href="#" data-page-title="101UC03: Zobrazit přehled objednaných služeb"></a>).</li><li>Editace Objednané služby z přehledu Objednaných služeb v detailu Objednávky (<a href="#" data-page-title="100UC10: Zobrazit objednané služby v detailu objednávky"></a>).</li><li>Editace Objednané služby z formuláře Lokací objednané služby (<a href="#" data-page-title="201UC06: Upravit lokace objednané služby"></a>).</li></ul><h1>Vstupní podmínky</h1><ul><li>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na moduly a UC</a>:<ul><li>Objednané služby.</li></ul></li><li>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na typ entit</a>:<br><ul><li>Objednané služby - zobrazení a modifikace.</li></ul></li></ul><h3>Vstupní data</h3><ul><li>Entita <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</li></ul><h1>Základní tok událostí</h1><ol><li>Systém zobrazí okno s formulářem a provede jeho nastavení dle vstupních dat (viz <a href="#" data-page-title="101UI03: Formulář pro upravení objednané služby"></a>).</li><li>Uživatel vyplní formulář.</li><li>Uživatel stiskne tlačítko uložení změn <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</li><li>Systém provede validaci vstupních údajů.</li><li>Pokud je splněna jedna z uvedených podmínek (došlo k rozdělení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>), dotáže se Systém uživatele, zda si opravdu přeje pokračovat s uložením změn (MSG_CONF_CANCEL_EDIT_SERVICE, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>):<br><ul><li>Hodnota atributu Následující objednaná služba entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>, která byla na vstupu UC, je různá od NULL.</li><li>Hodnota atributu Předchozí objednaná služba entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>, která byla na vstupu UC, je různá od NULL.</li></ul></li><li>Systém uloží změny <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> provedené ve formuláři.</li><li>Pokud je <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> ve stavu K naplánování (atribut Stav; <em>jindy není možné dále nastavované informace ve formuláři měnit</em>): Systém aktualizuje obsažené <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (atribut Lokace objednané služby):<br><ol><li>Systém nalezne všechny <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> typu Místo realizace (atribut Typ lokace).</li><li>Systém aktualizuje hodnotu uvedených atributů pro všechny nalezené <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (poznámka: nemusí být nalezena žádná taková <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>):<br><ul><li>Atribut Začátek časového okna: hodnota atributu Čas realizace od entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služby</a>, která byla získána na vstupu UC.</li><li>Atribut Konec časového okna: hodnota atributu Čas realizace do entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služby</a>, která byla získána na vstupu UC.</li></ul></li></ol></li><li>Systém zavře okno s formulářem.</li><li>Systém aktualizuje přehled <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a>, aby byla zobrazena provedené změna.</li></ol><h1>Alternativní toky událostí</h1><h3>AF01: Údaje ve formuláři nejsou validní</h3><h4>Vstupní podmínky</h4><ul><li>Údaje ve formuláři nejsou validní – viz <a href="101uc04-82116740.html">Validace</a>.</li></ul><h4>Tok události</h4><ol><li>Alternativní tok událostí začíná krokem 4 základního toku událostí.</li><li>Systém zvýrazní ovládací prvky, které neobsahují validní hodnotu.</li><li>Systém zobrazí uživateli informaci, že některé ze zadaných údajů nejsou validní (TODO: kód hlášky, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>). <strong>Návrat na krok 2 základního toku událostí</strong>.</li></ol><h1>Výjimkové toky událostí</h1><h3>EF01: Storno</h3><h4>Tok událostí</h4><ol><li>Výjimkový tok událostí může začít kdykoliv.</li><li>KDYŽ uživatel stiskne tlačítko pro zrušení editace <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.<br><ol><li>Systém zavře okno s formulářem. <strong>Konec toku událostí</strong>.</li></ol></li><li>KDYŽ uživatel opustí formulář pro definici pravidla opakování.<br><ol><li><strong>Konec toku událostí</strong>.</li></ol></li></ol><h4>Výstupní podmínky</h4><ul><li>Nebyly uloženy změny <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</li></ul><h1>Výstupní podmínky</h1><ul><li>Byly uloženy změny <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</li></ul><h1>Validace</h1><p>Validace je prováděna průběžně, pokud uživatel vstoupí do pole s možností zadání hodnoty, zadá hodnotu a pole opustí ve stavu, kdy hodnota není validní, je na to upozorněn. Ovládací prvek je graficky zvýrazněn a je doplněno chybové hlášení. Konkrétní validace jednotlivých polí jsou uvedeny v <a href="#" data-page-title="101UI03: Formulář pro upravení objednané služby"></a>. Hlídána jsou jak konkrétní validační kritéria každé položky, tak i to, zda je položka povinná.</p><p>Jakmile uživatel stiskne tlačítko pro uložení změn Objednané služby, je provedena validace všech polí. Pokud nejsou všechny údaje v pořádku, jsou chybně vyplněná pole zvýrazněna a doplněna o chybové hlášení.</p><h1>Algoritmy</h1><p>Nejsou.</p><h1>Uživatelské rozhraní</h1><p>Rozložení formuláře je uvedeno v samostatném dokumentu – viz <a href="#" data-page-title="101UI03: Formulář pro upravení objednané služby"></a>.</p><h1>Revize</h1><h3>26. 3. 2021: Tomáš Nadrchal</h3><p>Provedeny změny v rámci celého dokumentu (naznačeno modře). Viz <a href="../../../rp-sprava-pozadavku/id-89065686.html">ID-040: Násobné rozdělení objednané služby</a>.</p><h3>22. 5. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="101uc04-82116740.html">Základní tok událostí</a></td><td colspan="1">Doplněna aktualizace <a href="../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a> obsažených v rámci editované <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</td></tr></tbody></table><h3>17. 12. 2018: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="101uc04-82116740.html">Spuštění případu užití</a></td><td colspan="1">Doplnění případu užití, který může spustit tento případ užití.</td></tr></tbody></table><p><br></p>
</div>
</body>
</html>
