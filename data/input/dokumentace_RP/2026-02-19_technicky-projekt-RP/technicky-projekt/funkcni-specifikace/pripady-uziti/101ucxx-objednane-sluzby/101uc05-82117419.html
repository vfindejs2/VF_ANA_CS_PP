<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>101UC05: Zrušit objednanou službu</title>
</head>
<body>
<div class="wiki-content">
<p>TODO: aktualizovat pro volání z <a href="#" data-page-title="400UC02: Zobrazit seznam s objednanými službami"></a>.</p><p></p><h1>Stručný popis, cíl UC</h1><p>UC umožňuje Uživateli rušit Objednané služby. Impuls k jejich zrušení dává typicky Objednatel. Možnost zrušení Objednané služby je omezena stavem, ve kterém se daná služba nachází. Zrušit lze služby ve stavu K naplánování.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td>Uživatel</td><td colspan="1"><p>Typicky se jedná o uživatele, který má na starost příjem objednávek, nebo dispečera.</p></td></tr><tr><td colspan="1">Synchronizační komponenta</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="../../../high-level-concept/akteri-78680673.html">Aktéři</a>.</p><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na zrušení objednané služby, a to jedním z uvedených způsobů:</p><ul><li>Uživatel zadá požadavek na zrušení objednané služby z přehledu objednaných služeb (viz <a href="#" data-page-title="101UC03: Zobrazit přehled objednaných služeb"></a>).</li><li>Uživatel zadá požadavek na zrušení objednané služby z panelu objednaných služeb na obrazovce plánování denních výkonů (viz <a href="#" data-page-title="206UC02: Zobrazit panel přehledu objednaných služeb"></a>).</li></ul><p>Synchronizační komponenta zadá požadavek na zrušení objednané služby, a to jedním z uvedených způsobů:</p><ul><li>Synchronizační komponenta zadá požadavek na zrušení objednané služby při synchronizaci jízd (viz <a href="#" data-page-title="605UC03: Získat jízdy">605UC03: Získat jízdy</a>).</li></ul><h1>Vstupní podmínky</h1><ul><li>Uživatel je přihlášený a má oprávněný modifikovat Objednané služby (viz <a href="../../../uzivatelska-78681297.html">Práva a role</a>).</li><li>Na vstupu je předána identifikace vybraných Objednaných služeb (vstupní parametr <strong>Objednané služby</strong>).</li><li>Všechny vybrané Objednané služby jsou ve <a href="../../../high-level-concept/stavove-78680652.html">stavu</a>, který umožňuje jejich zrušení, tj.: K naplánování. </li></ul><p><em>Poznámka: Při nesplnění vstupních podmínek systém nenabízí v nástrojové liště tlačítko pro zrušení. Tato kompetence náleží nadřazenému UC.</em></p><h1>Základní tok událostí</h1><ol><li>Pokud byl případ užití spuštěn uživatelem:<br><ol><li>Systém zobrazí potvrzovací dialog s dotazem na zrušení Objednané služby (kód hlášky MSG_CONF_CANCEL_SERVICES, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>). </li><li>Uživatel svůj požadavek potvrdí (<a href="101uc05-82117419.html">EF01: Uživatel stiskne Storno</a>).</li></ol></li><li>Systém vybrané Objednané služby přepne do stavu "Zrušená" (<a href="101uc05-82117419.html">EF02: Stav Objednané služby neumožňuje její zrušení</a>).</li><li>Systém Ukončí UC.</li></ol><h1>Alternativní toky událostí</h1><p>Nejsou.</p><h1>Výjimkové toky událostí</h1><h3>EF01: Uživatel stiskne Storno</h3><ol><li>Systém ukončí UC.</li></ol><h3>EF02: Stav Objednané služby neumožňuje její zrušení</h3><ol><li>Systém zobrazí uživateli informaci o stavu Objednané služby, který neumožňuje její zrušení (kód hlášky MSG_ERR_UNABLE_CANCEL_SERVICE, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Systém se pokusí zrušit další z vybraných Objednaných služeb.</li></ol><p><em>Poznámka: Tento EF může nastat v případě, kdy front-end systému umožnil spuštění UC, ale mezitím došlo (akcí jiného Uživatele - např. naplánováním Objednané služby do trasy) ke změně stavu Objednané služby tak, že její zrušení už možné není.</em></p><h1>Výstupní podmínky</h1><p>Objednávky předané na vstupu jsou přepnuty do stavu "Zrušená".</p><h1>Validace</h1><p>Nejsou.</p><h1>Algoritmy</h1><p>Nejsou.</p><h1>Uživatelské rozhraní</h1><p>Standardní potvrzovací dialog. Text hlášky, tlačítka a titulek dialogu specifikovány v přehledu <a href="../../../systemove-78681299.html">Systémové hlášky</a>, na který se odkazují jednotlivé toky událostí tohoto UC.</p><h1>Revize</h1><h3>20. 1. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></div></th></tr><tr><td colspan="1"><a href="101uc05-82117419.html">Spuštění případu užití</a></td><td colspan="1">Revize případů užití, které spouštějí tento UC (naznačeno modře).</td></tr><tr><td colspan="1"><a href="101uc05-82117419.html">Základní tok událostí</a></td><td colspan="1">Revize způsobu zobrazení systémového hlášení (naznačeno modře).</td></tr></tbody></table><h3>23. 5. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></div></th></tr><tr><td colspan="1"><a href="101uc05-82117419.html">Spuštění případu užití</a></td><td colspan="1">Revize případů užití, které spouštějí tento UC (naznačeno modře).</td></tr></tbody></table><p><br></p>
</div>
</body>
</html>
