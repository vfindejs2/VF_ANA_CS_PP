<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>Aktualizace Objednávek: přehled funkčnosti</title>
</head>
<body>
<div class="wiki-content">
<h1>Účel</h1><ul><li>Objednávka je předpisem, ze kterého vznikají Objednané služby. Parametry zadané v Objednávce definují, kdy, kde a jak budou služby realizovány. Zejména Objednávky pod Rámcovou smlouvou mají dlouhodobý charakter - Objednávka platí řadu měsíců. Během této doby může Zákazník požadovat úpravu některých parametrů Objednávky.</li><li>Dodatečná změna parametrů Objednávky může ovlivnit množinu Objednaných služeb, které vznikají z dané Objednávky. Změny mohou mít například následující charakter:<br><ul><li>Jiný termín / frekvence Objednaných služeb.</li><li>Jiný typ nádoby.</li><li>Jiné místo realizace.</li><li>Apod. </li></ul></li><li>Přitom je potřebné zachovat původní definici Objednávky vzhledem k Objednaným službám, které buď již byly realizovány, nebo mají být realizovány do doby, než změna vstoupí v platnost.</li><li>Z výše uvedených důvodů je zaveden mechanismus aktualizace Objednávek, který zabezpečí přechod z jedné verze Objednávky na jinou.</li></ul><h1>Vysvětlení pojmů</h1><h3>Úprava Objednávky</h3><ul><li>Úpravou Objednávky je myšlena běžná editace ve smyslu <a href="#" data-page-title="100UC03: Upravit objednávku">100UC03: Upravit objednávku</a>.</li><li>Rozsah povolených úprav závisí na stavu Objednávky. Ve stavu K realizaci a v následujících stavech jsou možnosti úprav velmi omezené (víceméně na poznámky, nelze měnit nic, co by mělo vliv na Objednané služby, resp. proces plánování).</li></ul><h3>Aktualizace Objednávky</h3><ul><li>Aktualizací Objednávky se rozumí přechod (k zadanému datu) od jedné definice Objednávky k jiné.</li></ul><h3>Verze Objednávky</h3><ul><li>Verzí Objednávky je myšlena její definice (tj. soubor hodnot příslušných atributů) platná v příslušném časovém rozmezí.</li><li>Pro potřeby specifikace procesu aktualizace Objednávky jsou dále používány pojmy:<br><ul><li>Původní verze = definice Objednávky, kterou Uživatel vybral a provádí její aktualizaci. Nemusí se nutně jednat o první verzi Objednávky předanou k realizaci.</li><li>Nová verze = definice Objednávky, která vzniká aktualizací verze původní.</li></ul></li></ul><h1>Pravidla a omezení aktualizace Objednávek</h1><ul><li>Jednotlivé verze Objednávky mají časovou složku, která vyjadřuje dobu jejich platnosti.</li><li>Platnost verze Objednávky je uváděna s přesností na dny, s řízením časového intervalu 00:00:00 pro Datum od, 23:59:59 pro Datum Do .</li><li>Aktualizací Objednávky nedochází ke změně jejího čísla.</li><li>Objednávku lze aktualizovat vícekrát.</li><li>Aktualizací objednávky nedochází ke změně jejího stavu. Všechny verze Objednávky mají stejný stav.</li><li>Nejnovější verze Objednávky nemá zadaný Datum do. Nezadaná hodnota je interpretována jako "do nekonečna".</li><li>Novou verzi Objednávky lze zadat s platností nejdříve od následujícího dne.</li><li>Mezi intervaly platnosti verzí Objednávek se nesmí vyskytovat mezery.</li><li>Intervaly platnosti verzí Objednávek se nesmí překrývat.</li><li>Aktualizovat lze jen nejnovější verzi Objednávky (tj. tu, která má nejvyšší hodnotu Datum od).</li><li>Zrušit aktualizaci lze jen pro nejnovější verzi Objednávky (tj. vrátit se k předchozí verzi).</li><li>Nelze zrušit aktualizaci pro takovou verzi Objednávky, která již začala platit, nebo pro kterou již jsou naplánované služby.</li><li>V rámci aktualizace nelze změnit Objednatele ani Provozovnu.</li><li>Termín realizace Objednané služby nesmí zasáhnout mimo platnost verze Objednávky, ze které daná Objednaná služba vznikla.<br><ul><li><em>Pokud by byl Uživateli dovolen posun termínu služby mimo příslušnou verzi Objednávky, může se stát, že služba bude směřovat na špatné místo realizace (které se mezitím změnilo), nebo bude přistaven neodpovídající typ nádoby (který se změnil) apod.</em></li><li><em>Systém nekontroluje povahu provedených změn!</em></li></ul></li></ul><h1>Aktualizace Objednávek - případy užití</h1><p><a href="#" data-page-title="100UC11: xAktualizovat objednávku">100UC11: xAktualizovat objednávku</a>.</p><p>100UC12: xZrušit aktualizaci objednávky</p><p>100UC13: Zobrazit přehled verzí v detailu objednávky</p><h1>Dotčené případy užití</h1><p>Pro podporu aktualizace Objednávek musí být rozšířeny / upraveny tyto případy užití:</p><ul><li><a href="../100uc05-78681147.html">Přehled objednávek</a> - doplnění sloupců datum od / datum do; zobrazuje se verze platná v aktuální datum; zbytek informací dostupný z detailu</li><li><a href="../100uc06-78681283.html">Detail objednávky</a> - doplnění informace o verzi, listování mezi verzemi; logika načítání aktuální verze</li><li><a href="../../101ucxx-objednane-sluzby/101uc03-82116738.html">Přehled objednaných služeb</a> - doplnění údaje o verzi objednávky</li><li><a href="../100uc03-79429791.html">Úprava objednávky</a> - doplnění ovládacích prvků pro spuštění aktualizace a zrušení aktualizace</li><li><a href="../../101ucxx-objednane-sluzby/101uc01-82116734.html">Generování objednaných služeb</a> - generovat služby jen v rozmezí Datum od, Datum do</li><li><a href="../../101ucxx-objednane-sluzby/101uc04-82116740.html">Úprava objednané služby</a> - nelze posunout datum realizace služby tak, že leží mimo interval platnosti dané verze Objednávky</li><li><a href="../../101ucxx-objednane-sluzby/101uc02-82116736.html">Vytvořit objednanou službu na výzvu</a> - nelze zadat datum realizace služby tak, že leží mimo interval platnosti dané verze Objednávky.</li></ul><p>Dále musí být upraven <a href="../../../../datove-modely/datovy-78681044.html">datový model </a>- doplnění platností verze, číslo objednávky je společné pro instance odpovídající jedné verzi.</p>
</div>
</body>
</html>
