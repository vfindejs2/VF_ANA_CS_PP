<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>400UC07: Přidat objednanou službu do realizace denního výkonu</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl UC</h1><p>Případ užití umožňuje uživateli přidat v rámci kontroly realizace Denního výkonu Objednanou službu, která byla realizována mimo původní plán. Přidávat může služby stejného typu dopravy a patřící pod stejnou provozovnu. Dále je omezen stavem služeb "Ke kontrole" a "K naplánování". Objednané služby ve stavu "Naplánovaná" je nutné nejprve odstranit z příslušného Denního výkonu, až poté je lze přidat v rámci kontroly realizace.</p><p>Tímto způsobem přidaná Objednaná služba má napevno nastavený příznak realizace na hodnotu Realizovaná, což odpovídá důvodu, proč byla služba přidána.</p><p>Pro další přesun příslušné služby může uživatel využít funkčnost <a href="#" data-page-title="400UC10: Přesunout objednanou službu pod jinou realizaci denního výkonu"></a>, pro služby, které byly ve stavu "K naplánování" pak funkčnost <a href="#" data-page-title="400UC16: Odebrat objednanou službu realizovanou mimo plán"></a>.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th>Popis</th><th colspan="1">Typická role</th></tr><tr><td>Uživatel</td><td><p>Jedná se o uživatele aplikace RoadPlan, který musí mít oprávnění spouštět tento UC.</p></td><td colspan="1"><p>Dispečer</p></td></tr></tbody></table><h1>Spuštění případu užití</h1><ul><li>Funkčnost uživatel vyvolá z <a href="#" data-page-title="400UC02: Zobrazit seznam s objednanými službami"></a>:<ul><li>Uživatel klikne na tlačítko pro přidání Objednané služby do Realizace denního výkonu.</li></ul></li></ul><h1>Vstupní podmínky</h1><ul><li>Uživatel je přihlášený a má oprávněný ke spuštění tohoto UC (viz <a href="../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>, submodul Kontrola realizace výkonů a oprávnění EDIT_RP_ROUTES_CONFIRMATION).</li><li>Denní výkon, který odpovídá na vstupu předané Realizaci denního výkonu, je ve stavu Ke kontrole.</li></ul><h3>Vstupní data</h3><ul><li>Identifikace kontrolované Realizace denního výkonu.</li></ul><h1>Základní tok událostí</h1><ol><li>Systém zobrazí modální okno pro výběr Objednané služby - viz <a href="../../uzivatelske-rozhrani/700uixx-obecne/700ui05-79430047.html">Výběrový dialog Objednané služby</a>. Budou zobrazeny Objednané služby současně splňující tyto podmínky:<br><ol><li>Jejich Druh dopravy a Provozovna jsou shodné jako příslušné atributy Denního výkonu, který odpovídá na vstupu předané Realizaci denního výkonu.</li><li>Objednaná služba je v jednom ze stavů: {K náplánování, Ke kontrole}.</li><li>Objednaná služba není zařazena do právě kontrolované Realizace denního výkonu (tj. aktuálně není zobrazována <a href="400uc02-86835400.html">v seznamu objednaných služeb</a>).</li></ol></li><li>Uživatel vybere jednu Objednanou službu a volbu potvrdí.(<a href="400uc07-86835646.html">EF01: Uživatel stiskne Storno</a>)</li><li>Systém provede nastavení Objednané služby – viz <a href="400uc07-86835646.html">Nastavení objednané služby</a>.</li><li>Systém zobrazí vybranou Objednanou službu na konci <a href="400uc02-86835400.html">seznamu objednaných služeb</a>.</li><li>Systém pro tuto Objednanou službu:<br><ol><li>Zobrazí příznak realizace "Realizovaná" (následně nelze uživatelsky přepnout v rámci <a href="#" data-page-title="400UC06: Nastavit příznak realizace objednané služby"></a> - s výjimkou služeb patřících do Denního výkonu, který odpovídá na vstupu předané Realizaci denního výkonu).</li><li>Zobrazí symbol označující, že se jedná o Objednanou službu realizovanou mimo plán.</li></ol></li></ol><p>Poznámka: K uložení změn do DB dochází až v rámci zavolání <a href="400uc13-86835791.html">400UC18: Uložit kontrolu realizace denního výkonu</a> nebo <a href="#" data-page-title="400UC14: Potvrdit realizaci denního výkonu">400UC14: Potvrdit realizaci denního výkonu</a>.</p><p>Poznámka 2: V nabídce Objednaných služeb z bodu 1 tedy budou figurovat i služby odebrané z dané Realizace denního výkonu pomocí <a href="#" data-page-title="400UC10: Přesunout objednanou službu pod jinou realizaci denního výkonu"></a> - a to i v případě, kdy tato změna ještě nebyla uložena do DB.</p><p><em>Aktuální chování:</em></p><ul><li><em>Pokud jsou k odpovídajícím lokacím přiřazeny jejich obsluhy, nedochází při vložení objednané služby na jinou realizaci denního výkonu k jejich odebrání ani nastavení do výchozího stavu (jsou obsaženy původní informace o jejich realizaci).</em></li><li><em>Může  pak nastat situace, kdy informace o obsluze lokací neexistují. To se děje v případech, kdy se jedná o objednanou službu připravenou k naplánování (není přiřazena k žádnému dennímu výkonu). Pravděpodobně však obsluha těchto lokací vzniká dodatečně, je totiž možné zadat poznámku k takové obsluze lokace objednané služby</em></li></ul><h1>Alternativní toky událostí</h1><p>Nejsou.</p><h1>Výjimkové toky událostí</h1><h3>EF01: Uživatel stiskne Storno</h3><ol><li>Konec toku událostí.</li></ol><h1>Výstupní podmínky</h1><ul><li>Do seznamu služeb je zařazena nově přidaná Objednaná služba, její parametry jsou nastaveny dle pořadavků uvedených v základním toku událostí.</li><li>Odpovídající data jsou připravena k uložení v rámci navazujících případů užití.</li></ul><h1>Validace</h1><p>Uvedeny v základním toku.</p><h1>Algoritmy</h1><h3>Nastavení objednané služby</h3><table><tbody><tr><th>Objednaná služba</th><th>Atribut</th><th>Hodnota</th><th>Poznámka</th></tr><tr><td rowspan="4"><p>Předaná na vstupu</p></td><td>Stav</td><td><p>Ke kontrole</p></td><td>Objednané služby, které byly ve stavu K naplánování, jsou tedy přepnuty do stavu Ke kontrole.</td></tr><tr><td>Realizace denního výkonu</td><td><p><a href="../../../datove-modely/datovy-78681044.html">Realizace denního výkonu</a>, která je předána na vstupu UC</p></td><td>–</td></tr><tr><td colspan="1">Pořadí v kontrole realizace</td><td colspan="1">Je rovna počtu Objednaných služeb zařazených do na vstupu předané Realizace denního výkonu</td><td colspan="1">–</td></tr><tr><td colspan="1">Realizována</td><td colspan="1">True</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: U atributů, které nejsou uvedeny, zůstává hodnota nezměněna.</p><h1>Uživatelské rozhraní</h1><p><a href="#" data-page-title="400UI01: Přehled objednaných služeb realizace denního výkonu"></a></p><h1>Revize</h1><h3>21.06.2019: Miroslav Slivoně</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1">Základní tok</td><td colspan="1">Doplnění odkazu na UI výběrového dialogu služby</td></tr></tbody></table>
</div>
</body>
</html>
