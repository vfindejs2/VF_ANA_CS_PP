<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>400UC13: Uložit kontrolu realizace denního výkonu</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl UC</h1><p>Případ užití zajišťuje uložení změn provedených pomocí odpovídajících UC pro modifikaci dat kontroly realizace, které lze spouštět z obrazovky <a href="#" data-page-title="400UI01: Obrazovka pro kontrolu realizace denních výkonů"></a>.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th>Popis</th><th colspan="1">Typická role</th></tr><tr><td>Uživatel</td><td><p>Jedná se o uživatele aplikace RoadPlan, který musí mít oprávnění spouštět tento UC.</p></td><td colspan="1"><p>Dispečer</p></td></tr></tbody></table><h1>Spuštění případu užití</h1><ul><li>Funkčnost uživatel vyvolá z <a href="#" data-page-title="400UI01: Obrazovka pro kontrolu realizace denních výkonů"></a>:<br><ul><li>Uživatel vybere klikne na tlačítko Uložit.</li></ul></li><li>UC je také automaticky volán v rámci <a href="#" data-page-title="400UC14: Potvrdit realizaci denního výkonu">400UC14: Potvrdit realizaci denního výkonu</a>.</li></ul><h1>Vstupní podmínky</h1><ul><li>Uživatel je přihlášený a má oprávněný ke spuštění tohoto UC (viz <a href="../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>, submodul Kontrola realizace výkonů a oprávnění EDIT_RP_ROUTES_CONFIRMATION).</li><li>Denní výkon, který odpovídá na vstupu předané Realizaci denního výkonu, je v jednom ze stavů {Ke kontrole. Uzavřený}.</li></ul><h3>Vstupní data</h3><ul><li>Identifikace kontrolované Realizace denního výkonu.</li></ul><h1>Základní tok událostí</h1><ol><li>Systém ověří, zda je možné uložit změny vykonané uživatelem pomocí odpovídajících UC spouštěných z obrazovky <a href="#" data-page-title="400UI01: Obrazovka pro kontrolu realizace denních výkonů"></a>. Viz Validace dat před uložením. (<a href="400uc13-86835791.html">EF01: Některé objednané byly odebrány</a>, <a href="400uc13-86835791.html">EF02: Nelze přesunout některé objednané služby</a>).</li><li>Systém uloží do DB data připravená k uložení v rámci těchto případů užití:<br><ul><li><a href="#" data-page-title="400UC06: Nastavit příznak realizace objednané služby"></a></li><li><a href="#" data-page-title="400UC07: Přidat objednanou službu do realizace denního výkonu"></a></li><li><a href="#" data-page-title="400UC08: Přeplánovat s rozdělením objednané služby"></a></li><li><a href="#" data-page-title="400UC09: Přeplánovat se zadáním místa dočasného uložení"></a></li><li><a href="#" data-page-title="400UC10: Přesunout objednanou službu pod jinou realizaci denního výkonu"></a></li><li><a href="#" data-page-title="400UC11: Přeplánovat objednanou službu"></a></li><li><a href="#" data-page-title="400UC12: Nastavit pořadí objednané služby v přehledu kontroly realizace"></a></li><li><a href="#" data-page-title="400UC15: Zrušit přeplánování objednané služby"></a></li><li><a href="#" data-page-title="400UC16: Odebrat objednanou službu realizovanou mimo plán"></a></li><li><a href="#" data-page-title="400UC17: Změnit poznámku u obsluhy lokace objednané služby"></a></li><li><a href="400uc18-86837054.html">400UC18: Zastavit realizaci objednané služby</a></li></ul></li><li>V případě, že funkčnost byla vyvolána uživatelem (nikoli zavolána v rámci <a href="#" data-page-title="400UC14: Potvrdit realizaci denního výkonu"></a>): <ul><li>Systém vrátí uživatele zpět do části aplikace, ze které došlo ke spuštění <a href="#" data-page-title="400UC01: Zobrazit obrazovku kontroly realizace denního výkonu">400UC01: Zobrazit obrazovku kontroly realizace denního výkonu</a> </li></ul></li></ol><p>Poznámka: Zatím není změněn stav Objednaných služeb ani stav odpovídajícího Denního výkonu.</p><p>Poznámka 2: Vstupní podmínky UC uvedených v kroku 2 vyžadují, aby byl odpovídající Denní výkon ve stavu "Ke kontrole". S výjimkou případu užití <a href="#" data-page-title="400UC17: Změnit poznámku u obsluhy lokace objednané služby"></a>.</p><h1>Alternativní toky událostí</h1><p>Nejsou.</p><h1>Výjimkové toky událostí</h1><h3>EF01: Některé objednané služby byly odebrány</h3><ol><li>Systém zobrazí uživateli informaci o odebrání některých Objednaných služeb (kód hlášky MSG_ERROR_SERVICES_REMOVED_FROM_ROUTE_REALIZATION, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Systém odebere ze seznamu Objednaných služeb (<a href="#" data-page-title="400UC02: Zobrazit seznam s objednanými službami"></a>) příslušné Objednané služby, v případě potřeby zruší navazující Objednané služby, a aktualizuje pořadí zbývajících Objednaných služeb.</li><li>Konec toku událostí.</li></ol><h3>EF02: Nelze přesunout některé objednané služby</h3><ol><li>Systém zobrazí uživateli informaci o nemožnosti přesunout některé Objednané služby (kód hlášky MSG_ERROR_SERVICES_MOVED_BACK_TO_ROUTE_REALIZATION, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Systém vrátí na konec seznamu Objednaných služeb (<a href="#" data-page-title="400UC02: Zobrazit seznam s objednanými službami"></a>) příslušné Objednané služby.</li><li>Konec toku událostí.</li></ol><h1>Výstupní podmínky</h1><p>Dojde k uložení dat </p><h1>Validace</h1><h3>Validace dat před uložením</h3><p>Protože během kontroly Realizace denního výkonu mohou v systému probíhat konkurenční změny, je potřebné před uložením znovu validovat některá omezení, která byla vyžadována při spuštění případů užití uvedených v kroku 2 základního toku.</p><ul><li>Objednané služby, které mají být zahrnuty do na vstupu předané Realizace denního výkonu, musí být v jednom ze stavů {K naplánování, Ke kontrole}. (<a href="400uc13-86835791.html">EF01: Některé objednané byly odebrány</a>)<br><ul><li>Služby, které mají být nově přidány, mohly být v mezičase naplánované do jiného DV, nebo v rámci kontroly jiné RDV přepnuty do finálního stavu.</li><li>Služby, které náleží do kontrolovaného RDV, mohly být v mezičase přidány do jiné RDV, která byla mezitím potvrzena, a odpovídající služby přepnuty do finálního stavu.</li></ul></li><li>Pro Realizaci denního výkonu,do které mají být přesunuté některé Objednané služby, musí být odpovídající Denní výkon ve stavu "Ke kontrole". (<a href="400uc13-86835791.html">EF02: Nelze přesunout některé objednané služby</a> )<br><ul><li> Příslušná RDV mohla být v mezičase potvrzena a příslušný Denní výkon je ve stavu "Uzavřený".</li></ul></li></ul><h1>Algoritmy</h1><p>Nejsou.</p><h1>Uživatelské rozhraní</h1><p><a href="#" data-page-title="400UI01: Obrazovka pro kontrolu realizace denních výkonů"></a></p><h1>Revize</h1><h3>17.6.2019: M.Slivoně</h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1">Základní tok</td><td colspan="1">Doplnění podpory pro <a href="400uc18-86837054.html">400UC18: Zastavit realizaci objednané služby</a></td></tr></tbody></table>
</div>
</body>
</html>
