<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>206UC13: Zobrazit panel hlavičky denního výkonu</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je zobrazení panelu, který slouží k zobrazení informací o konkrétním denním výkonu. Rozměry panelu jsou pak přizpůsobeny jeho obsahu.</p><p>Poznámka: Panel hlavičky denního výkonu je aktuálně určen pouze pro obrazovku plánování denních výkonů.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="../../../high-level-concept/akteri-78680673.html">Aktéři</a>.</p><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na zobrazení panelu hlavičky denního výkonu, a to jedním z uvedených způsobů:</p><ul><li>Uživatel zobrazí panel s pokročilým itinerářem denních výkonů obrazovky plánování (viz TODO). <em>Řešeno v dalších fázích.</em></li><li>Uživatel zobrazí panel se souhrnným itinerářem denních výkonů na obrazovce plánování (viz <a href="#" data-page-title="206UC10: Zobrazit panel souhrnného itineráře denních výkonů"></a>).</li></ul><h2>Vstupní podmínky</h2><p>Ke spuštění případu užití jsou nutná následující oprávnění na typ entit (viz <a href="../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>):</p><ul><li>Denní výkony - zobrazení.</li></ul><p>Poznámka: Jedná se o minimální vstupní podmínky. Pokud nemá uživatel dostatečná oprávnění, může být panel dostupný jen v režimu pro čtení.</p><h2>Vstupní data</h2><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Denní výkon</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a></td><td colspan="1">Ano</td><td colspan="1"><p>Denní výkon, který je zobrazen v rámci panelu.</p></td><td colspan="1"><p>–</p></td></tr><tr><td colspan="1">Barva denního výkonu</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Kód barvy, kterou jsou vykresleny prvky související s denním výkonem.</td><td colspan="1">–</td></tr><tr><td colspan="1">Režim pro čtení</td><td colspan="1">Boolean</td><td colspan="1">Ano</td><td colspan="1">Informace, zda je možné v rámci panelu provádět změny. Pokud je panel zobrazen pouze ke čtení – <strong>TRUE</strong>, jinak – <strong>FALSE</strong>.</td><td colspan="1">–</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Systém zobrazí panel hlavičky <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (viz <a href="206uc13-120357138.html">Uživatelské rozhraní</a>).</li></ol><h1>Alternativní toky událostí</h1><p>–</p><h1>Výjimkové toky událostí</h1><p>–</p><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Uživateli byl zobrazen panel s hlavičkou na vstupu získaného denního výkonu (vstupní parametr <strong>Denní výkon</strong>). Dostupné informace a funkčnosti odpovídají uživatelskému nastavení panelu.</p><h2>Výstupní data</h2><p>–</p><h1>Algoritmy</h1><p>–</p><h1>Validace</h1><p>–</p><h1>Uživatelské rozhraní</h1><p>V rámci panelu jsou zobrazeny informace o na vstupu získaném <a href="../../../datove-modely/datovy-78681044.html">Denním výkonu</a> (vstupní parametr <strong>Denní výkon</strong>).</p><h2>Drátový diagram</h2><p><strong>Interní poznámka: Uvedené chování není aktuální! Implementace z časových důvodů <strong>probíhala </strong>dle návrhu řešení.</strong></p><p><img src="206uc13-zobrazit-panel-hlavicky-denniho-vykonu-120357138_images/image2024-12-3 9-20-27.png" data-attachment="true"></p><h2>Přehled UI komponent</h2><table><tbody><tr><th>Prvek</div></th><th>Komponenta</div></th><th colspan="1">Nadpis</div></th><th>Typ komponenty</div></th><th>Příklad hodnoty</div></th><th colspan="1">Hodnota</div></th><th colspan="1">Výchozí hodnota</div></th><th colspan="1">Formát</div></th><th colspan="1">Bublinková nápověda</div></th><th colspan="1">Zpřístupněná</div></th><th colspan="1">Viditelná</div></th><th>Chování</div></th><th colspan="1">Validace</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">1</td><td colspan="1">Indikace stavu denního výkonu</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">–</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (hodnota je reprezentována ikonou).</td><td colspan="1">–</td><td colspan="1">Zobrazená ikona je získána dle hodnoty atributu <strong>Stav</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>), popis je pak uveden samostatně (viz <a href="206uc13-120357138.html">Zobrazení indikace stavu denního výkonu</a>).</td><td colspan="1"><p>Dostupná bublinková nápověda je získána dle hodnoty atributu <strong>Stav</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>):</p><ul><li><strong>Plánovaný</strong>, <strong>Zrušený</strong>: bublinková nápověda není k dispozici (není k dispozici ani ikona).</li><li><strong>Schválený</strong>: Schválený.</li><li><strong>Plněný</strong>: Plněný.</li><li><strong>Ke kontrole</strong>: Ke kontrole.</li><li><strong>Uzavřený</strong>: Uzavřený.</li><li><strong>Vypůjčený</strong>: Vypůjčený.</li></ul></td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1">Identifikace denního výkonu</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1"><strong>5AX 1258</strong> (8:35, 245 km)</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</td><td colspan="1">–</td><td colspan="1"><p><a href="206uc13-120357138.html">Formát identifikace denního výkonu</a> </p><p>Pokud nastane situace, kdy délka vytvořeného řetězce přesahuje délku řádku v rámci panelu, je zobrazena pouze taková část textu, která se vejde právě na jeden řádek. Na konci zobrazené části textu je pak vložen znak „…“ (ALT+0133), který naznačuje, že není zobrazen celý text. V rámci bublinkové nápovědy je pak zobrazen úplný text.</p></td><td colspan="1">V rámci kontextové nápovědy je zobrazena obsažená hodnota.</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Informace o době jízdy a ujeté vzdálenosti není dostupná pro neschválené denní výkony.</td></tr><tr><td colspan="1">3</td><td colspan="1">Indikace problému se získáním trajektorie</td><td colspan="1">–</td><td colspan="1">Label</td><td colspan="1">–</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1"><p>Dostupná bublinková nápověda je získána jako systémové hlášení (viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>) dle hodnoty atributu <strong>Způsob získání trajektorie</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Způsob získání trajektorie denního výkonu</a>):</p><ul><li><strong>Sekundární služba</strong>: MSG_INFO_ROUTE_GEOMETRY_SECONDARY_SERVICE.</li><li><strong>Nezískána</strong>: MSG_INFO_ROUTE_GEOMETRY_NOT_FOUND.</li></ul><p> </p></td><td colspan="1">–</td><td colspan="1"><p>Pokud je u <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> evidován problém se získáním trasy – hodnota atributu <strong>Způsob získání trajektorie</strong> je k dispozici a nabývá jedné z uvedených hodnot (viz <a href="../../../datove-modely/datovy-78681044.html">Způsob získání trajektorie denního výkonu</a>):</p><ul><li>Sekundární služba,</li><li>Nezískána.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Jsou tedy odlišeny <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, u kterých byla trajektorie získána alternativním způsobem.</td></tr><tr><td colspan="1">4</td><td colspan="1">Použité přívěsy</td><td colspan="1"><p>Ikona: ra-trailer</p></td><td colspan="1">Label</td><td colspan="1">3A2 8558, 4B2 3485</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</td><td colspan="1">–</td><td colspan="1"><p><a href="206uc13-120357138.html">Formát použitých přívěsů</a></p><p>Pokud nastane situace, kdy délka vytvořeného řetězce přesahuje délku řádku v rámci panelu, je zobrazena pouze taková část textu, která se vejde právě na jeden řádek. Na konci zobrazené části textu je pak vložen znak „…“ (ALT+0133), který naznačuje, že není zobrazen celý text. V rámci bublinkové nápovědy je pak zobrazen úplný text.</p></td><td colspan="1">V rámci kontextové nápovědy je zobrazena obsažená hodnota.</td><td colspan="1">–</td><td colspan="1">Pokud je hodnota atributu <strong>Použití přívěsu</strong> nastavena na <strong>TRUE</strong>.</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">5</td><td colspan="1">TODO: Fáze 3.2 + revize</td><td colspan="1"> </td><td colspan="1"> </td><td colspan="1"> </td><td colspan="1"> </td><td colspan="1"> </td><td colspan="1"> </td><td colspan="1"> </td><td colspan="1"> </td><td colspan="1"> </td><td colspan="1"> </td><td colspan="1"> </td><td colspan="1"> </td></tr></tbody></table><h2>Chování</h2><h3>Zobrazení indikace stavu denního výkonu</h3><p>V rámci panelu je obsažen prvek, který slouží k indikaci stavu daného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut <strong>Stav</strong>). Jeho vykreslení probíhá následovně…</p><table><tbody><tr><th>Stav denního výkonu</div></th><th>Způsob zobrazení</div></th><th colspan="1">Náhled</div></th></tr><tr><td>Plánovaný, Zrušený</td><td>Prvek je zobrazen barvou (včetně výplně), která je získána na vstupu UC (vstupní parametr <strong>Barva denního výkonu</strong>). Není zobrazena žádná ikona.</td><td colspan="1"><img src="206uc13-zobrazit-panel-hlavicky-denniho-vykonu-120357138_images/image2024-9-27 11-7-57.png" data-attachment="true"></td></tr><tr><td>Schválený, Plněný, Ke kontrole, Uzavřený</td><td><p>Prvek je zobrazen barvou (pouze ohraničení), která je získána na vstupu UC (vstupní parametr <strong>Barva denního výkonu</strong>). Současně je k dispozici ikona <strong>ra-tick</strong>.</p></td><td colspan="1"><img src="206uc13-zobrazit-panel-hlavicky-denniho-vykonu-120357138_images/image2024-9-27 11-8-13.png" data-attachment="true"></td></tr><tr><td colspan="1">Vypůjčený</td><td colspan="1">Prvek je zobrazen barvou (pouze ohraničení), která je získána na vstupu UC (vstupní parametr <strong>Barva denního výkonu</strong>). Současně je k dispozici ikona <strong>ra-leasing</strong>.</td><td colspan="1"><img src="206uc13-zobrazit-panel-hlavicky-denniho-vykonu-120357138_images/image2024-9-27 11-8-21.png" data-attachment="true"></td></tr></tbody></table><h3>Formát identifikace denního výkonu</h3><p>V rámci panelu je obsažen prvek, který slouží k zobrazení identifikace daného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>. V případě, že již došlo ke schválení tohoto <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, jsou zobrazeny také další souhrnné informace (doba jízdy a ujetá vzdálenost). Výsledný formát se tedy liší dle aktuálního stavu <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut <strong>Stav</strong>, viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>).</p><table><tbody><tr><th>Stav</th><th colspan="1">Hodnota</th><th>Příklad hodnoty</th><th>Formát</th><th>Poznámka</th></tr><tr><td><ul><li>Plánovaný</li><li>Zrušený</li><li>Vypůjčený</li></ul></td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</td><td><strong>5AX 1258</strong></td><td><p><strong><Textová identifikace vozidla></strong></p><ul><li>Hodnota atributu <strong>Textová identifikace vozidla</strong> je zobrazena tučným řezem písma.</li></ul><p>Pokud není hodnota atributu k dispozici, postupujeme dle <a href="206uc13-120357138.html">Získání textové identifikace vozidla</a>.</p></td><td>Tento případ nastává také v situaci, kdy není k dispozici hodnota pro atributy <strong>Doba jízdy celkem</strong>, <strong>Ujetá vzdálenost celkem</strong>.</td></tr><tr><td><ul><li>Schválený</li><li>Plněný</li><li>Ke kontrole</li><li>Uzavřený</li></ul></td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</td><td><strong>5AX 1258</strong> (8:35, 245 km)</td><td><p><strong><Textová identifikace vozidla></strong> (<Doba jízdy celkem>, <Ujetá vzdálenost celkem> km)</p><ul><li>Hodnota atributu <strong>Textová identifikace vozidla</strong> je zobrazena tučným řezem písma.</li><li>Hodnota atributu <strong>Doba jízdy celkem</strong> je zobrazena v uvedeném formátu: <a href="../../../pouzivane-81592337.html">Čas</a>.</li></ul><p>Pokud není hodnota atributu <strong>Textová identifikace vozidla</strong> k dispozici, postupujeme dle <a href="206uc13-120357138.html">Získání textové identifikace vozidla</a>.</p><p>Pokud není hodnota atributů <strong>Doba jízdy celkem</strong> či <strong>Ujetá vzdálenost celkem</strong> k dispozici, nedochází k jejich zobrazení (viz předchozí varianta).</p></td><td>–</td></tr></tbody></table><h3>Získání textové identifikace vozidla</h3><p>Může nastat situace, kdy není u na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr <strong>Denní výkon</strong>) k dispozici hodnota atributu <strong>Textová identifikace vozidla</strong>. V takovém případě získáváme zástupný text…</p><ul><li>Pokud není hodnota k dispozici a zároveň je k odpovídajícímu <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> přiřazeno vozidlo (atribut <strong>Vozidlo</strong>), je zobrazen zástupný text: <strong>Chybí SPZ</strong>.</li><li>Pokud není hodnota k dispozici a zároveň není k odpovídajícímu <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> přiřazeno ani vozidlo (atribut <strong>Vozidlo</strong>), je zástupný text získán z nadřazeného UC…<br><ul><li>Typicky je v tomto případě použit text, který vychází z množství aktuálně načtených <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> tohoto typu.</li><li>Jedná se tedy o statický text doplněný o pořadová číslo, příklad hodnoty je následující: <strong>Vozidlo 3</strong>.</li></ul></li></ul><p>Poznámka: Pro zachování přehlednosti dokumentu zde není uvedena celá logika pro získání zástupného textu. Ta je dostupná v rámci odpovídajících nadřazených UC.</p><h3>Formát použitých přívěsů</h3><p>V rámci panelu je obsažen prvek, který slouží k zobrazení přívěsů přiřazených na daný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (použité přívěsy). Tato informace je evidována na úrovni entity <a href="../../../datove-modely/datovy-78681044.html">Přívěs denního výkonu</a>, kdy hledáme takové záznamy, které splňují všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Denní výkon</strong> odkazuje na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> získaný na vstupu (vstupní parametr <strong>Denní výkon</strong>).</li></ul><p>Když máme k dispozici potřebné informace, můžeme získat odpovídající přívěsy (resp. <a href="../../../datove-modely/datovy-78681044.html">Objekty</a> představující přívěs)…</p><ul><li>Zpracujeme všechny získané <a href="../../../datove-modely/datovy-78681044.html">Přívěsy denního výkonu</a>, samotný přívěs je pak získán v rámci hodnoty atributu <strong>Přívěs</strong>.</li><li>Získané <a href="../../../datove-modely/datovy-78681044.html">Objekty</a> představující přívěs jsou pak předány ve vzestupném pořadí dle hodnoty atributu <strong>Identifikátor objektu</strong>.</li></ul><p>Posledním krokem je příprava formátovaného řetězce se seznamem přívěsů. Jeho formát se pak liší dle počtu získaných <a href="../../../datove-modely/datovy-78681044.html">Objektů</a> (viz tabulka).</p><table><tbody><tr><th>Počet záznamů</th><th colspan="1">Hodnota</th><th colspan="1">Příklad hodnoty</th><th>Formát</th><th>Poznámka</th></tr><tr><td>0</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>.</td><td colspan="1">–</td><td>–</td><td>Není k dispozici žádná hodnota.</td></tr><tr><td>1</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>.</td><td colspan="1">3A2 8558</td><td><p><Identifikátor objektu></p></td><td>–</td></tr><tr><td>N</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>.</td><td colspan="1">3A2 8558, 4B2 3485, 5AX 4847</td><td><Identifikátor objektu>, …, <Identifikátor objektu></td><td>Jednotlivé záznamy jsou odděleny čárkou, zobrazeny jsou v daném pořadí.</td></tr></tbody></table><p>Poznámka: Algoritmus je prováděn pouze v případě, kdy je hodnota atributu <strong>Použití přívěsu</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> nastavena na <strong>TRUE</strong> (vstupní parametr <strong>Denní výkon</strong>). V opačném případě není tento prvek zobrazen.</p><h2>Uživatelská nastavení</h2><p>–</p><h2>Parametry URL</h2><p>–</p><h1>Grafický návrh</h1><p>TODO</p><h1>Revize</h1><h2>3. 12. 2024: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="206uc13-120357138.html">Uživatelské rozhraní</a></td><td colspan="1">Doplněna indikace alternativního způsobu získání trajektorie (naznačeno modře).</td></tr></tbody></table>
</div>
</body>
</html>
