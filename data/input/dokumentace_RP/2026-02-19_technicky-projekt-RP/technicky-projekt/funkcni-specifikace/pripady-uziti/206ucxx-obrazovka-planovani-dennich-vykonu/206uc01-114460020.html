<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>206UC01: Zobrazit obrazovku plánování denních výkonů</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je zobrazení obrazovky plánování denních výkonů. Na základě oprávnění je pak uživateli umožněno plánování objednaných služeb na dostupné denní výkony (mimo období v minulosti).</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="#" data-page-title="Aktéři"></a>.</p><h1>Spuštění případů užití</h1><p>Uživatel zadá požadavek na zobrazení obrazovky plánování denních výkonů, a to jedním z uvedených způsobů:</p><ul><li>Uživatel klikne na odpovídající položku hlavního menu aplikace (viz <a href="#" data-page-title="700UI02: Hlavní menu">700UI02: Hlavní menu</a>).</li><li>Uživatel zadá v prohlížeči URL odkaz na FLW RoadPlan s odpovídajícím parametrem (viz <a href="#" data-page-title="Stavy v URL parametrech">Stavy v URL parametrech</a>).</li></ul><h2>Vstupní podmínky</h2><p>Ke spuštění případu užití jsou nutná následující oprávnění na moduly (viz <a href="../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>):</p><ul><li>Plánování denních výkonů.</li></ul><p>Ke spuštění případu užití jsou nutná následující oprávnění na typ entit (viz <a href="../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>):</p><ul><li>Zákazníci - zobrazení,</li><li>Likvidační místa - zobrazení,</li><li>Objednávky - zobrazení,</li><li>Objednané služby - zobrazení,</li><li>Typy nádob - zobrazení,</li><li>Denní výkony - zobrazení.</li></ul><p>Poznámka: Jedná se o minimální vstupní podmínky. Pokud nemá uživatel dostatečná oprávnění, může být obrazovka dostupná jen v režimu pro čtení.</p><h2>Vstupní data</h2><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Provozovna</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Provozovna</a></td><td colspan="1">Ne</td><td colspan="1">Provozovna, v rámci které bude probíhat plánování denních výkonů.</td><td colspan="1">Pokud není hodnota k dispozici, je použita výchozí hodnota.</td></tr><tr><td colspan="1">Datum realizace</td><td colspan="1">Datum</td><td colspan="1">Ne</td><td colspan="1">Datum, pro které budou plánovány denní výkon.</td><td colspan="1">Pokud není hodnota k dispozici, je použita výchozí hodnota.</td></tr><tr><td colspan="1">Typ dopravy</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a></td><td colspan="1">Ne</td><td colspan="1">Typ dopravy, v rámci kterého budou plánovány denní výkony.</td><td colspan="1">Pokud není hodnota k dispozici, je použita výchozí hodnota.</td></tr></tbody></table><p>Poznámka: Pokud jsou na vstupu získána vstupní data, musí být k dispozici hodnota pro všechny obsažené parametry (viz <a href="206uc01-114460020.html">AF01: Vstupní data nejsou validní</a>).</p><h1>Základní tok událostí</h1><ol><li>Systém zobrazí obrazovku plánování denních výkonů (viz <a href="206uc01-114460020.html">Uživatelské rozhraní</a>).<ol><li>Systém současně načte Denní výkony pro zobrazení na obrazovce plánování (viz <a href="206uc01-114460020.html">ALG01: Získat denní výkony</a>).</li><li>Systém současně načte Objednané služby pro zobrazení na obrazovce plánování (viz <a href="206uc01-114460020.html">ALG02: Získat objednané služby</a>).</li><li>Systém současně vyhodnotí, zda je obrazovka v režimu pro čtení (viz <a href="206uc01-114460020.html">ALG03: Vyhodnotit režim pro čtení</a>).</li></ol></li><li>Systém zpřístupní dostupné funkčnosti.</li></ol><h1>Alternativní toky událostí</h1><h2>AF01: Vstupní data nejsou validní</h2><h3>Vstupní podmínky</h3><ul><li>Vstupní data nejsou kompletní – alespoň pro jeden ze vstupních parametrů není k dispozici hodnota.</li><li>Na vstupu získaná <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> (vstupní parametr Provozovna) není v pořádku:<br><ul><li>Odpovídající <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> nebyla nalezena.</li><li>Uživatel nemá na odpovídající <a href="../../../datove-modely/datovy-78681044.html">Provozovnu</a> oprávnění.</li></ul></li><li>Na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> (vstupní parametr Typ dopravy) není v pořádku:<ul><li>Odpovídající <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> nebyl nalezen.</li><li>Hodnota atributu <strong>Je k dispozici</strong> odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> je rovna <strong>FASLE</strong>.</li></ul></li></ul><h3>Tok událostí</h3><ol><li>Alternativní tok událostí začíná krokem 1 základního toku událostí.</li><li>Systém ignoruje na vstupu získané vstupní parametry (pro odpovídající prvky obrazovky je použita výchozí hodnota, viz <a href="206uc01-114460020.html">Nástrojová lišta</a>).</li></ol><h3>Výstupní podmínky</h3><ul><li>Byla zobrazena obrazovka plánování denních výkonů, vstupní parametry byly ignorovány (použití výchozích hodnot).</li></ul><h2>AF02: Zobrazit mapu v samostatném okně</h2><h3>Vstupní podmínky</h3><ul><li>Není stisknuto tlačítko pro zobrazení mapy v samostatném okně (komponenta 3, viz <a href="206uc01-114460020.html">Hlavička aplikace</a>).</li></ul><p>Poznámka: Mapa tedy aktuálně není zobrazena v samostatném okně. </p><h3>Tok událostí</h3><ol><li>Systém zobrazí mapu v samostatném okně – spustí <a href="#" data-page-title="202UC03: Zobrazit mapu při plánování denních výkonů v samostatném okně"></a>, na vstup jsou předány následující informace:<br><ul><li><strong>Obrazovky plánování</strong>: instance obrazovky plánování denních výkonů zobrazená v rámci tohoto spuštění UC.</li></ul></li></ol><h3>Výstupní podmínky</h3><ul><li>Došlo k zobrazení odpovídající mapy v samostatném okně, současně bylo aktualizováno rozložení obrazovky.</li></ul><h2>AF03: Zrušit zobrazení mapy v samostatném okně</h2><h3>Vstupní podmínky</h3><ul><li>Je stisknuto tlačítko pro zobrazení mapy v samostatném okně (komponenta 3, viz <a href="206uc01-114460020.html">Hlavička aplikace</a>).</li></ul><p>Poznámka: Mapa je tedy aktuálně zobrazena v samostatném okně.</p><h3>Tok událostí</h3><ol><li>Systém zruší zobrazení mapy v samostatném okně – spustí <a href="#" data-page-title="202UC04: Zrušit zobrazení mapy při plánování denních výkonů v samostatném okně"></a>, na vstup jsou předány následující informace:<ul><li><strong>Obrazovky plánování</strong>: instance obrazovky plánování denních výkonů zobrazená v rámci tohoto spuštění UC.<br></li></ul></li></ol><h3>Výstupní podmínky</h3><ul><li>Došlo ke zrušení zobrazení odpovídající mapy v samostatném okně, současně bylo aktualizováno rozložení obrazovky.</li></ul><h2>AF04: Provést kontrolu aktuálnosti denních výkonů</h2><h3>Vstupní podmínky</h3><ul><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="202UC07: Generovat denní výkony pro plánované období">202UC07: Generovat denní výkony pro plánované období</a>.</li><li>Datum realizace nastavené v nástrojové liště (komponenta 2, viz <a href="206uc01-114460020.html">Nástrojová lišta</a>) je větší nebo rovno dnešnímu datu.</li><li>Pokud datum realizace nastavené v nástrojové liště zasahuje mimo plánované období, musí být navíc splněna další skupina podmínek:<br><ul><li>Nastavené datum realizace (komponenta 2, viz <a href="206uc01-114460020.html">Nástrojová lišta</a>) je větší než součet <strong>dnešního dne</strong> a <strong>délky plánovaného období</strong> (generateDailyRoutesHorizon, viz <a href="../../../konfiguracni-81592468.html">Konfigurační hodnoty</a>).</li><li>Existuje alespoň jeden <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>, který splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Datum realizace</strong> je rovna nastavenému datu realizace (komponenta 2, viz <a href="206uc01-114460020.html">Nástrojová lišta</a>).</li><li>Hodnota atributu <strong>Provozovna</strong> odpovídá <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a> nastavené v nástrojové liště (komponenta 1, viz <a href="206uc01-114460020.html">Nástrojová lišta</a>).</li></ul></li></ul></li></ul><p>Poznámka: Pokud pro datum realizace mimo plánované období a danou provozovnu neexistuje žádný denní výkon, jedná se o odlišnou akci (viz <a href="206uc01-114460020.html">AF05: Generovat denní výkony mimo plánované období</a>).</p><h3>Tok událostí</h3><ol><li>Systém zobrazí systémové hlášení s dotazem na potvrzení prováděné akce – spustí <a href="../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Kód systémového hlášení</strong>: MSG_CONF_CANCEL_UPDATE_DAILY_ROUTES (viz. <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li></ul></li><li>Pokud uživatel zruší provedení akce:<br><ol><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 8.</li></ol></li><li>Uživatel potvrdí provedení akce.</li><li>Systém zavře systémové hlášení.<br></li><li>Systém odešle požadavek na generování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> – spustí <a href="#" data-page-title="202UC07: Generovat denní výkony pro plánované období">202UC07: Generovat denní výkony pro plánované období</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Datum od</strong>: nastavené datum realizace (komponenta 2, viz <a href="206uc01-114460020.html">Nástrojová lišta</a>).</li><li><strong>Datum do</strong>: nastavené datum realizace (komponenta 2, viz <a href="206uc01-114460020.html">Nástrojová lišta</a>).</li></ul></li><li>Pokud proběhne generování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> v pořádku, systém provede následující akce:<br><ol><li>Systém zobrazí systémové hlášení s informací o provedení akce – spustí <a href="../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Kód systémového hlášení</strong>: MSG_CONF_UPDATE_DAILY_ROUTES_FINISHED (viz. <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li></ul></li><li>Uživatel potvrdí zobrazenou informaci.<br></li><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 8.</li></ol></li><li>Jinak generování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> v pořádku neproběhlo, systém provede následující akce:<br><ol><li>Systém zobrazí systémové hlášení s informací, že akce nebyla dokončena – spustí <a href="../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Kód systémového hlášení</strong>: chybové hlášení získaná na výstupu <a href="#" data-page-title="202UC07: Generovat denní výkony pro plánované období">202UC07: Generovat denní výkony pro plánované období</a> (výstupní parametr Chybové hlášení).</li></ul></li><li>Uživatel potvrdí zobrazenou informaci.</li><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 8.<br></li></ol></li><li>Systém načte aktuální data pro obrazovku (dle právě nastavených parametrů plánování).</li></ol><h3>Výstupní podmínky</h3><ul><li>Volaný případ užití pro generování denních výkonů proběhl v pořádku.</li></ul><h2>AF05: Generovat denní výkony mimo plánované období</h2><h3>Vstupní podmínky</h3><ul><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="202UC08: Generovat denní výkony mimo plánované období">202UC08: Generovat denní výkony mimo plánované období</a>.</li></ul><h3>Tok událostí</h3><ol><li>Systém odešle požadavek na generování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> – spustí <a href="#" data-page-title="202UC08: Generovat denní výkony mimo plánované období">202UC08: Generovat denní výkony mimo plánované období</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Datum</strong>: nastavené datum realizace (komponenta 2, viz <a href="206uc01-114460020.html">Nástrojová lišta</a>).</li><li><strong>Provozovna</strong>: nastavená <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> (komponenta 1, viz <a href="206uc01-114460020.html">Nástrojová lišta</a>).</li></ul></li><li>Pokud proběhne generování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> v pořádku, systém provede následující akce:<br><ol><li>Systém zobrazí systémové hlášení s informací o provedení akce – spustí <a href="../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Kód systémového hlášení</strong>: MSG_CONF_UPDATE_DAILY_ROUTES_FINISHED (viz. <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li></ul></li><li>Uživatel potvrdí zobrazenou informaci.</li><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 4.<br></li></ol></li><li>Jinak generování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> v pořádku neproběhlo, systém provede následující akce:<ol><li>Systém zobrazí systémové hlášení s informací, že akce nebyla dokončena – spustí <a href="../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<ul><li><strong>Kód systémového hlášení</strong>: chybové hlášení získaná na výstupu <a href="#" data-page-title="202UC08: Generovat denní výkony mimo plánované období">202UC08: Generovat denní výkony mimo plánované období</a> (výstupní parametr Chybové hlášení).</li></ul></li><li>Uživatel potvrdí zobrazenou informaci.</li><li>Systém zavře systémové hlášení.</li><li>Přechod na krok 4.<br></li></ol></li><li>Systém načte aktuální data pro obrazovku (dle právě nastavených parametrů plánování).<br></li></ol><h3>Výstupní podmínky</h3><ul><li>Volaný případ užití pro generování denních výkonů proběhl v pořádku.</li></ul><h2>AF06: Odebrat objednanou službu z denního výkonu</h2><p>Alternativní tok událostí slouží k odebrání <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> z odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (režim Drag&Drop).</p><h3>Vstupní podmínky</h3><ul><li>Panel není zobrazen v režimu pro čtení – na výstupu <a href="206uc01-114460020.html">ALG03: Vyhodnotit režim pro čtení</a> je získána hodnota <strong>FALSE</strong>.</li><li>Odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> je ve stavu <strong>Naplánovaná</strong> (atribut <strong>Stav</strong>, viz <a href="../../../datove-modely/datovy-78681044.html">Stav objednané služby</a>).</li><li>Jsou splněny vstupní podmínky v rámci <a href="../200ucxx-planovani-denni-vykony/200uc46-88017015.html">200UC46: Odebrat objednané služby z denních výkonů</a> (pro odpovídající data předávaná na vstupu).</li></ul><p>Poznámka: Pokud je alternativní tok spuštěn pro nenaplánovanou <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a>, dochází k jeho předčasnému ukončení.</p><h3>Tok událostí</h3><ol><li>Systém zadá požadavek na odebrání <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> z odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> – spustí <a href="../200ucxx-planovani-denni-vykony/200uc46-88017015.html">200UC46: Odebrat objednané služby z denních výkonů</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Objednané služby</strong>: při volání alternativního toku specifikovaná <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</li></ul></li><li>Systém načte aktuální data pro obrazovku (současné dochází k ukončení Drag&Drop režimu).</li></ol><h3>Výstupní podmínky</h3><ul><li>Došlo k odebrání <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> z odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ul><h2>AF07: Vložit objednanou službu na denní výkon</h2><p>Alternativní tok událostí slouží k vložení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> na požadovaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (režim Drag&Drop).</p><h3>Vstupní podmínky</h3><ul><li>Panel není zobrazen v režimu pro čtení – na výstupu <a href="206uc01-114460020.html">ALG03: Vyhodnotit režim pro čtení</a> je získána hodnota <strong>FALSE</strong>.</li><li>Jsou splněny vstupní podmínky v rámci <a href="../200ucxx-planovani-denni-vykony/200uc45-88017014.html">200UC45: Vložit objednané služby na denní výkon</a> (pro odpovídající data předávaná na vstupu).</li><li>Jsou splněny vstupní podmínky v rámci <a href="../200ucxx-planovani-denni-vykony/200uc46-88017015.html">200UC46: Odebrat objednané služby z denních výkonů</a> (pro odpovídající data předávaná na vstupu).</li></ul><p>Poznámka: Pokud je alternativní tok spuštěn pro již naplánovanou <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a>, dochází k jejímu odebrání z aktuálně přiřazeného denního výkonu.</p><h3>Tok událostí</h3><ol><li>Pokud je odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> ve stavu <strong>Naplánovaná</strong> (atribut <strong>Stav</strong>, viz <a href="../../../datove-modely/datovy-78681044.html">Stav objednané služby</a>).<br><ol><li>Systém zadá požadavek na odebrání <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> z odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Denního výkonů</a> – spustí <a href="../200ucxx-planovani-denni-vykony/200uc46-88017015.html">200UC46: Odebrat objednané služby z denních výkonů</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Objednané služby</strong>: při volání alternativního toku specifikovaná <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</li></ul></li></ol></li><li>Systém zadá požadavek na vložení <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a> na požadovaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> – spustí <a href="../200ucxx-planovani-denni-vykony/200uc45-88017014.html">200UC45: Vložit objednané služby na denní výkon</a>, na vstup jsou předány následující informace:<br><ol><li><strong>Objednané služby</strong>: při volání alternativního toku specifikovaná <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</li><li><strong>Denní výkon</strong>: při volání alternativního toku specifikovaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ol></li><li>Systém načte aktuální data pro obrazovku (současné dochází k ukončení Drag&Drop režimu).</li></ol><p>Poznámka: Pokud je při volání alternativního toku specifikována pozice v rámci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, na kterou má být <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> vložena (neprázdné <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>), je tato pozice dodržena (je současně volán <a href="#" data-page-title="200UC27: Změnit pořadí položky v denním výkonu"></a>).</p><h3>Výstupní podmínky</h3><ul><li>Došlo k vložení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> na požadovaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul><h2>AF08: Změnit pozici objednané služby v denním výkonu</h2><p>Alternativní tok událostí slouží ke změně pozice <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> v rámci stejného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (režim Drag&Drop).</p><h3>Vstupní podmínky</h3><ul><li>Panel není zobrazen v režimu pro čtení – na výstupu <a href="206uc01-114460020.html">ALG03: Vyhodnotit režim pro čtení</a> je získána hodnota <strong>FALSE</strong>.</li><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="200UC27: Změnit pořadí položky v denním výkonu"></a> (pro odpovídající data předávaná na vstupu).</li></ul><h3>Tok událostí</h3><ol><li>Systém zadá požadavek na změnu pozice <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> v rámci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> – spustí <a href="#" data-page-title="200UC27: Změnit pořadí položky v denním výkonu"></a>, na vstup jsou předány následující informace:<br><ul><li><strong>Položka denního výkonu</strong>: při volání alternativního toku specifikovaná <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>.</li><li><strong>Pořadí</strong>: při volání alternativního toku specifikovaná pozice v rámci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ul></li><li>Systém načte aktuální data pro obrazovku (současné dochází k ukončení Drag&Drop režimu).<br></li></ol><h3>Výstupní podmínky</h3><ul><li>Došlo ke změně pozice <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> v rámci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ul><h2>AF09: Zobrazit souhrnný itinerář denních výkonů</h2><p>Alternativní tok událostí slouží k zobrazeni souhrnného itineráře <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a>, který je v režimu pro čtení (není možné provádět žádné úpravy). Dostupné <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> pak nejsou omezeny nastaveným <a href="../../../datove-modely/datovy-78681044.html">Typy dopravy</a>.</p><h3>Vstupní podmínky</h3><ul><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="206UC10: Zobrazit panel souhrnného itineráře denních výkonů"></a>.</li><li>Konfigurační hodnota <strong>advancedUseCasesAvailability.dailyRoutesSummaryItinerary</strong> je nastavena na <strong>TRUE</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty"></a>).</li></ul><h3>Tok událostí</h3><ol><li>Systém zadá požadavek na zobrazení souhrnného itineráře – spustí <a href="#" data-page-title="206UC10: Zobrazit panel souhrnného itineráře denních výkonů"></a>, na vstup jsou předány následující informace:<ul><li><strong>Provozovna</strong>: na vstupu získaná <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> (vstupní parametr <strong>Provozovna</strong>).</li><li><strong>Datum realizace</strong>: na vstupu získané datum realizace (vstupní parametr <strong>Datum realizace</strong>).</li></ul></li></ol><p><em>Alternativní tok končí spolu s volaným UC, tedy zavřením modálního se souhrnným itinerářem.</em> </p><h3>Výstupní podmínky</h3><ul><li>Došlo k zobrazení souhrnného itineráře <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a>.</li></ul><h1>Výjimkové toky událostí</h1><h2>EF01: Chybí oprávnění na požadovaný UC</h2><h3>Vstupní podmínky</h3><ul><li>Uživatel nemá oprávnění na tento případ užití.</li></ul><h3>Tok událostí</h3><ol><li>Výjimkový tok událostí začíná krokem 1 základního toku událostí.</li><li>Systém zobrazí systémové hlášení – spustí <a href="../../uzivatelske-rozhrani/700uixx-obecne/700ui06-79430049.html">700UI06: Systémové hlášky</a>, na vstup jsou předány následující informace:<br><ul><li>Kód systémového hlášení: MSG_ERR_UNAUTHORIZED_ACCESS (viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li></ul></li><li>Uživatel potvrdí systémové hlášení.</li><li>Systém zavře systémové hlášení.</li><li>Systém uživatele přesměruje na výchozí stránku aplikace (viz <a href="../700ucxx-obecne/703ucxx-o-aplikaci/703uc01-81593095.html">703UC01: Zobrazit stránku O aplikaci</a>).</li></ol><h3>Výstupní podmínky</h3><ul><li>Nebyla zobrazena obrazovka plánování denních výkonů.</li></ul><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Uživateli byla zobrazena obrazovka plánování denních výkonů, ve které zobrazené záznamy a dostupné funkce odpovídají jeho uživatelským oprávněním.</p><h2>Výstupní data</h2><p>–</p><h1>Algoritmy</h1><h2>ALG01: Získat denní výkony</h2><p>V rámci obrazovky plánování vkládáme dílčí <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> na jednotlivé <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, dostupné jsou pak takové <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, které splňují všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Provozovna</strong> odpovídá na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a> (vstupní parametr Provozovna).</li><li>Hodnota atributu <strong>Datum realizace</strong> je rovna na vstupu získanému datu realizace (vstupní parametr Datum realizace).</li><li>Hodnota atributu <strong>Typ dopravy</strong> odpovídá na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Typu dopravy</a> (vstupní parametr Typ dopravy).</li></ul><p>Získané <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> jsou pak ve výchozím stavu předány v dále uvedeném pořadí (důležité při určení jejich barevného značení, viz <a href="206uc01-114460020.html">ALG05: Barevné značení denních výkonů</a>)…</p><ul><li>Vzestupně dle hodnoty atributu <strong>Vytvořen uživatelem</strong> (jako první jsou zobrazeny <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> generované systémem).</li><li>Vzestupně dle hodnoty atributu <strong>Textová identifikace vozidla</strong> (v rámci skupin řazeno abecedně dle identifikace <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>).<br><ul><li>Pokud není hodnota k dispozici, je takový <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> umístěn na konec v rámci dané skupiny.</li><li>Pokud je takových <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> v rámci skupiny více, jsou seřazeny vzestupně dle interního identifikátoru.</li></ul></li></ul><p>Poznámka: Výstupem algoritmu může být prázdná kolekce.</p><h2>ALG02: Získat objednané služby</h2><p>V rámci obrazovky plánování vkládáme dílčí <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> na jednotlivé <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>. Dostupné <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> pak ale nemusí odpovídat pouze datu realizace, které bylo získáno na vstupu (vstupní parametr Datum realizace). Děje se tak především v těchto případech:</p><ul><li>Na některý z dostupných <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> (viz <a href="206uc01-114460020.html">ALG01: Získat denní výkony</a>) je naplánována <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> s předpokládanou realizací mimo řešené datum realizace.</li><li>V rámci obrazovky byly načteny <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> z předcházejícího či následujícího období: <a href="206uc02-114460158.html">Načtení objednaných služeb mimo den realizace</a> (viz <a href="#" data-page-title="206UC02: Zobrazit panel přehledu objednaných služeb"></a>).<br><ul><li>Poznámka: Období může být nastaveno také na úrovni URL parametrů (viz <a href="206uc01-114460020.html">Parametry URL</a>).</li></ul></li></ul><p>Ve výchozím stavu tedy pracujeme pouze s na vstupu získaným datem realizace (vstupní parametr Datum realizace), při práci s obrazovkou plánování však může dojít k nutnosti zohlednit určité období…</p><ul><li>Období je dáno začátkem a koncem, kdy se jedná o uzavřený interval (interval tedy zahrnuje i mezní hodnoty). Na vstupu získaný datum realizace je pak <strong>vždy</strong> součástí nastaveného intervalu.</li><li>Ve výchozím stavu je tedy délka období nastavena na 1 den s tím, že se jedná právě o na vstupu získané datum realizace (začátek a konec intervalu si odpovídají). </li></ul><p>Na základě uvedených informací se dostáváme k samotnému získání požadovaných záznamů, hledáme pak takové <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, které splňují <strong>všechny</strong> dále uvedené podmínky zároveň:</p><ul><li><a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> byla založena pod na vstupu získanou <a href="../../../datove-modely/datovy-78681044.html">Provozovnou</a> (vstupní parametr Provozovna) – atribut <strong>Provozovna</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> – atribut <strong>Objednávka</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> – atribut <strong>Položka objednávky</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a> – atribut <strong>Objednaná nádoba</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> – atribut <strong>Objednaný úkon</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</li><li><a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> byla založena pro na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> (vstupní parametr Typ dopravy) – atribut <strong>Typ dopravy</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Typ Nádoby</a> – atribut <strong>Typ nádoby</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a> – atribut <strong>Objednaná nádoba</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> – atribut <strong>Objednaný úkon</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</li></ul><p>Získané záznamy jsou dále filtrovány, dostupné jsou pak všechny takové <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> získané v předchozím kroku, které navíc splňují <strong>alespoň jednu</strong> z dále uvedených podmínek:</p><ul><li><a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> má být realizována v zadaném období – dále uvedené intervaly se prolínají:<ul><li>Předpokládané datum realizace <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> – interval dán atributy <strong>Datum realizace od</strong> a <strong>Datum realizace do</strong>.</li><li>Právě zkoumané období zahrnují na vstupu získané datum realizace – interval dán začátkem a koncem tohoto období (viz dříve).</li></ul></li><li><a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> v minulosti, která nebyla realizována – jsou splněny všechny dále uvedené podmínky zároveň:<ul><li>Hodnota atributu <strong>Stav</strong> je nastavena na K naplánování (viz <a href="../../../datove-modely/datovy-78681044.html">Stav objednané služby</a>).</li><li>Hodnota atributu <strong>Datum realizace do</strong> je menší než dnešní datum.</li></ul></li><li><a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> je naplánována na <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> právě načtený v rámci obrazovky – jsou splněny všechny dále uvedené podmínky zároveň:<ul><li>Hodnota atributu <strong>Položka denního výkonu</strong> je různá od NULL.</li><li>Odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> je právě načten v rámci obrazovky plánování (viz <a href="206uc01-114460020.html">ALG01: Získat denní výkony</a>) – atribut <strong>Denní výkon</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> – atribut <strong>Položka denního výkonu</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</li></ul></li></ul><p>Poznámka: Výstupem algoritmu může být prázdná kolekce.</p><h2>ALG03: Vyhodnotit režim pro čtení</h2><p>Při práci s obrazovkou mohou nastat situace, kdy není umožněno plánování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a>. Typicky se jedná o následující situace:</p><ul><li>Datum realizace je nastaveno do minulosti (komponenta 2, viz <a href="206uc01-114460020.html">Nástrojová lišta</a>). <br><ul><li>Historické <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> není možné editovat (jejich stav již neumožňuje provádění změn v plánované trase).</li><li>Editace jejich trasy je povolena pouze v uvedených stavech (atribut <strong>Stav</strong>): <strong>Plánovaný</strong>, <strong>Schválený</strong>, <strong>Plněný</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>).</li></ul></li><li>Uživatel nemá dostatečná oprávnění pro plánování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a>.</li></ul><p>V takovém případě je sice možné zobrazit obrazovku plánování, není však možné provádět změny v obsažených <a href="../../../datove-modely/datovy-78681044.html">Denních výkonech</a>.</p><ol><li>Pokud jsou splněny všechny dále uvedené podmínky, není obrazovka plánování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> v režimu pro čtení – na výstupu je předána hodnota <strong>FALSE</strong>.<br><ul><li>Uživatel má všechna dále uvedená oprávnění na entity (viz <a href="../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>): <strong>Objednané služby</strong><strong> - zobrazení a modifikace</strong>, <strong>Denní výkony - zobrazení a modifikace</strong>.</li><li>V nástrojové liště nastavené datum realizace je větší nebo rovno dnešnímu datu (viz <a href="206uc01-114460020.html">Nástrojová lišta</a>, komponenta 2).</li><li>Načtené <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> jsou v jednom z uvedených stavů (atribut <strong>Stav</strong>): <strong>Plánovaný</strong>, <strong>Schválený</strong>, <strong>Plněný</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>).</li></ul></li><li>Jinak je obrazovka plánování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> v režimu pro čtení – na výstupu je předána hodnota <strong>TRUE</strong>.</li></ol><h2>ALG04: Číslování objednaných služeb</h2><p>Každá <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> má přiřazeno pořadové číslo, které slouží pro lepší orientaci uživatele v rámci obrazovky. Není dále ukládáno a může se při práci v rámci obrazovky měnit. Složeno je pak ze 2 částí:</p><ul><li><strong>Primární pořadové číslo</strong>: Číslování vycházející z aktuálního stavu načtených <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a>, kdy může být bráno v potaz aktuálního nastavení obrazovky plánování (řazení záznamů).</li><li><strong>Sekundární pořadové číslo</strong>: Číslování použité u rozdělených <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a>, kdy výsledná hodnota vychází z pozice konkrétní části v „bázové“ <a href="../../../datove-modely/datovy-78681044.html">Objednané službě</a> (naznačeno na obrázku).</li></ul><p><img src="206uc01-zobrazit-obrazovku-planovani-dennich-vykonu-114460020_images/image2023-5-27 12-26-29.png" data-attachment="true"></p><p> </p><p>Při generování pořadového čísla <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> vycházíme z jejího stavu…</p><ul><li>pro nenaplánované <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> je použito výchozí číslování,</li><li>u naplánované <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> je pořadí dáno pozicí v rámci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ul><p>Poznámka: Pořadové číslo se může v rámci obrazovky opakovat. <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> se stejným pořadovým číslem jsou však odlišeny barevně.</p><p>Samotné získání pořadového čísla probíhá pro všechny <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> načtené v rámci obrazovky (bez ohledu na nastavené filtrování). Postup je následující:</p><ol><li>Systém získá všechny <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, které mají být v rámci obrazovky načteny (viz <a href="206uc01-114460020.html">ALG02: Získat objednané služby</a>).</li><li>Systém projde všechny <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> získané kolekce, které zatím nejsou naplánovány na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>:<br><ol><li>Systém nalezne takové <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, pro které <strong>není</strong> k dispozici odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (viz <a href="206uc01-114460020.html">ALG07: Získat denní výkon objednané služby</a>).</li><li>Systém připraví pomocné počítadlo, jeho výchozí hodnotu nastaví na <strong>1</strong>.</li><li>Pro všechny nalezené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, které zatím nejsou naplánovány (procházeny v pořadí, které je dáno nastavením panelu s jejich přehledem, viz <a href="#" data-page-title="206UC02: Zobrazit panel přehledu objednaných služeb"></a>):<br><ol><li>Systém přiřadí právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané službě</a> primární pořadové číslo dle aktuální hodnoty pomocného počítadla.</li><li>Systém inkrementuje pomocné počítadlo.</li><li>Systém přiřadí právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané službě</a> sekundární pořadové číslo (dle hodnoty atributu <strong>Pořadí v rámci objednané služby</strong>).</li></ol></li></ol></li><li>Systém projde všechny <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> získané kolekce, které jsou již naplánovány na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>:<br><ol><li>Systém nalezne takové <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, pro které <strong>je</strong> k dispozici odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (viz <a href="206uc01-114460020.html">ALG07: Získat denní výkon objednané služby</a>).</li><li>Systém seskupí nalezené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, které jsou již naplánovány, do skupin dle přiřazeného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li>Pro všechny získané skupiny s <a href="../../../datove-modely/datovy-78681044.html">Objednanými službami</a> (pořadí, v kterém jsou skupiny procházeny, nemá vliv na výsledek algoritmu):<br><ol><li>Systém připraví pomocné počítadlo, jeho výchozí hodnotu nastaví na <strong>1</strong>.</li><li>Pro všechny <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> obsažené v rámci právě zkoumané skupiny (procházeny v pořadí, které je dáno pozicí <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, resp. odpovídající <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a>, v rámci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>):<br><ol><li>Systém přiřadí právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané službě</a> primární pořadové číslo dle aktuální hodnoty pomocného počítadla.</li><li>Systém inkrementuje pomocné počítadlo.</li><li>Systém přiřadí právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Objednané službě</a> sekundární pořadové číslo (dle hodnoty atributu <strong>Pořadí v rámci objednané služby</strong>).</li></ol></li></ol></li></ol></li></ol><p>Poznámka: Primární pořadové číslo již naplánovaných <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a> <strong>nemůže</strong> být získáno přímo z odpovídající <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> (atribut Pořadí). Na úrovni <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> se totiž vyskytují také <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> jiného typu, my zde však pracujeme pouze s <a href="../../../datove-modely/datovy-78681044.html">Objednanými službami</a> (uvedená pořadová čísla se tedy mohou lišit).</p><p>Stručný popis: Nenaplánované <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> jsou číslovány nezávisle dle pořadí, které je dáno řazením nastaveným v panelu s jejich přehledem (viz <a href="#" data-page-title="206UC02: Zobrazit panel přehledu objednaných služeb"></a>). Pořadí naplánovaných <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a> je pak řešeno na úrovni jednotlivých <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a>, pořadové číslo vychází z pozice <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> v rámci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</p><h2>ALG05: Barevné značení denních výkonů</h2><p>Každý v rámci obrazovky načtený <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> má přiřazenou barvu, pomocí které je dále reprezentován. Samotné nastavení pak vychází z…</p><ul><li>dostupných informací na <a href="../../../datove-modely/datovy-78681044.html">Denním výkonu</a> (konkrétně přiřazení barvy).</li><li>pořadí, ve kterém byl <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> načten (viz <a href="206uc01-114460020.html">ALG01: Získat denní výkony</a>).</li><li>palety barev, v rámci které je pořadí pevně dáno (viz tabulka).</li></ul><p>Jednotlivé barvy jsou tedy postupně přiřazovány dostupným <a href="../../../datove-modely/datovy-78681044.html">Denním výkonům</a>, postupujeme pak dle této logiky:</p><ul><li>Procházíme získané <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> v odpovídajícím pořadí (viz <a href="206uc01-114460020.html">ALG01: Získat denní výkony</a>).<ul><li>Pokud je hodnota atributu <strong>Barva</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> k dispozici, použijeme tuto barvu (barevnou paletu nevyužíváme).</li><li>V opačném případě je použita barva z dále uvedené palety barev – ty jsou postupně přidělovány v pořadí daném v rámci této palety barev.</li></ul></li><li>Pokud nastane situace, kdy počet <a href="../../../datove-modely/datovy-78681044.html">Denních výkon</a> přesahuje počet dostupných barev, procházíme paletu barev opakovaně.</li><li>Může tedy nastat situace, kdy je několika <a href="../../../datove-modely/datovy-78681044.html">Denním výkonům</a> přiřazena stejná barva (jak přímo z <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, tak z dostupné palety).</li></ul><p>Poznámka: Na barvu <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> tedy nemá vliv ani změna pořadí, ani filtrování v jejich přehledu (viz <a href="#" data-page-title="206UC04: Zobrazit panel přehledu denních výkonů"></a>). Barvy se <a href="../../../datove-modely/datovy-78681044.html">Denním výkonům</a> přiřazují dle jejich výchozího pořadí.</p><p><em>Interní poznámka: Nově je barva přiřazována také k „prázdným“ denním výkonům.</em></p><table><tbody><tr><th>Pořadí</th><th>Barva</th><th colspan="1">Kód barvy</th></tr><tr><td>1</td><td>#CC25CFBLOCK<p> </p></td><td colspan="1"><p>#CC25CF</p></td></tr><tr><td colspan="1">2</td><td colspan="1">#0170C1BLOCK<p> </p></td><td colspan="1">#0170C1</td></tr><tr><td colspan="1">3</td><td colspan="1">#FE0002BLOCK<p> </p></td><td colspan="1">#FE0002</td></tr><tr><td>4</td><td>#7A1A71BLOCK<p> </p></td><td colspan="1">#7A1A71</td></tr><tr><td>5</td><td>#FF8A00BLOCK<p> </p></td><td colspan="1">#FF8A00</td></tr><tr><td>6</td><td>#FFE500BLOCK<p> </p></td><td colspan="1">#FFE500</td></tr><tr><td>7</td><td>#384794BLOCK<p> </p></td><td colspan="1">#384794</td></tr><tr><td>8</td><td>#EC7459BLOCK<p> </p></td><td colspan="1">#EC7459</td></tr><tr><td>9</td><td>#13D28EBLOCK<p> </p></td><td colspan="1"><p>#13D28E</p></td></tr><tr><td colspan="1">10</td><td colspan="1">#5FB9FBBLOCK<p> </p></td><td colspan="1">#5FB9FB</td></tr><tr><td colspan="1">11</td><td colspan="1">#D3A52CBLOCK<p> </p></td><td colspan="1">#D3A52C</td></tr><tr><td colspan="1">12</td><td colspan="1">#7030A2BLOCK<p> </p></td><td colspan="1">#7030A2</td></tr><tr><td colspan="1">13</td><td colspan="1">#ADEA00BLOCK<p> </p></td><td colspan="1"><p>#ADEA00</p></td></tr><tr><td colspan="1">14</td><td colspan="1">#569F85BLOCK<p> </p></td><td colspan="1">#569F85</td></tr></tbody></table><h2>ALG06: Barevné značení objednaných služeb</h2><p>Každá <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> je v rámci obrazovky reprezentována určitou barvou, vycházíme zde pak z jejího přiřazení na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>…</p><ul><li>pro nenaplánované <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> je využita výchozí barva, </li><li>naplánované <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> pak dědí barvu „svého“ <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.<br><ul><li><em>Poznámka: Výjimku tvoří případy, kdy je <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> naplánována na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> s jiným než právě řešeným datem realizace.</em></li></ul></li></ul><p>Pro všechny načtené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (viz <a href="206uc01-114460020.html">ALG02: Získat objednané služby</a>) tedy hledáme odpovídající barevné značení:</p><ol><li>Systém nalezne pro právě zkoumanou <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a> takový <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>, na který je naplánována (viz <a href="206uc01-114460020.html">ALG07: Získat denní výkon objednané služby</a>).<ol><li>Pokud je <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> nalezen, systém vyhodnotí jeho datum realizace (atribut <strong>Datum realizace</strong>):<br><ol><li>Pokud datum realizace nalezeného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> odpovídá na vstupu získanému datu realizace (vstupní parametr <strong>Datum realizace</strong>) – systém získá barvu nalezeného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (viz <a href="206uc01-114460020.html">ALG05: Barevné značení denních výkonů</a>) a přiřadí ji k dané <a href="../../../datove-modely/datovy-78681044.html">Objednané službě</a>.</li><li>Jinak si datumy realizace neodpovídají, systém použije barvu určenou pro tyto případy (#AAAAAA).<br><ul><li>Poznámka: Spolu s <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a> je kromě barvy předána také indikace stavu: <strong>Naplánována na jiný den</strong> (viz <a href="#" data-page-title="206UC08: Zobrazit panel objednané služby"></a>).</li></ul></li></ol></li><li><p>Jinak <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> nalezen není, systém přiřadí k dané <a href="../../../datove-modely/datovy-78681044.html">Objednané službě</a> výchozí barvu ( #353535).</p></li></ol></li></ol><h2>ALG07: Získat denní výkon objednané služby</h2><p>Často v rámci tohoto UC hledáme takový <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>, na který je naplánována daná <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>. Uvedené chování si tedy popíšeme samostatně…</p><ol><li>Systém nalezne takovou <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a>, která se v rámci atributu <strong>Objednaná služba</strong> odkazuje na právě zkoumanou <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a>.</li><li>Pokud je <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> nalezena, jedná se o naplánovanou <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a>.<br><ol><li>Systém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (atribut <strong>Denní výkon</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a>).</li><li>Systém předá na výstupu algoritmu nalezený <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ol></li><li>Jinak <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> nalezena není, jedná se o nenaplánovanou <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a>.<br><ol><li>Systém předá na výstupu algoritmu <strong>NULL</strong>.</li></ol></li></ol><h1>Validace</h1><p>–</p><h1>Uživatelské rozhraní</h1><h2>Drátový diagram</h2><p><img src="206uc01-zobrazit-obrazovku-planovani-dennich-vykonu-114460020_images/image2023-3-14 17-7-59.png" data-attachment="true"></p><h2>Přehled UI komponent</h2><table><tbody><tr><th>Prvek</th><th>Skupina</th><th>Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1"><a href="206uc01-114460020.html">Hlavička aplikace</a></td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1"><a href="206uc01-114460020.html">Nástrojová lišta</a></td><td colspan="1">–</td></tr><tr><td colspan="1">3</td><td colspan="1"><a href="206uc01-114460020.html">Panel přehledu objednaných služeb</a></td><td colspan="1">–</td></tr><tr><td colspan="1">4</td><td colspan="1"><a href="206uc01-114460020.html">Horní panel obrazovky plánování</a></td><td colspan="1">Je složen z dílčích panelů, které jsou dostupné ve formě karet.</td></tr><tr><td colspan="1">5</td><td colspan="1"><a href="206uc01-114460020.html">Spodní panel obrazovky plánování</a></td><td colspan="1">Je složen z dílčích panelů, které jsou dostupné ve formě karet.</td></tr><tr><td colspan="1">6</td><td colspan="1"><a href="206uc01-114460020.html">Souhrnný itinerář denních výkonů</a></td><td colspan="1">Je zobrazován ve formě modálního okna.</td></tr></tbody></table><h2>Hlavička aplikace</h2><p>Hlavička aplikace vychází z <a href="../../uzivatelske-rozhrani/700uixx-obecne/700ui03-79429678.html">700UI03: Hlavička aplikace</a>, je tedy nutné specifikovat zobrazené nadpisy:</p><ul><li>Primární nadpis: Plánování denních výkonů</li><li>Sekundární nadpis: –</li></ul><p>Poznámka: Uvedené nadpisy odpovídají struktuře menu aplikace (viz <a href="../../uzivatelske-rozhrani/700uixx-obecne/700ui02-79429669.html">700UI02: Hlavní menu</a>).</p><h3>Drátový diagram</h3><p><img src="206uc01-zobrazit-obrazovku-planovani-dennich-vykonu-114460020_images/image2024-10-3 10-12-0.png" data-attachment="true"></p><p>Poznámka: Pokud dojde k zobrazení mapy v samostatném okně (viz <a href="206uc01-114460020.html">AF02: Zobrazit mapu v samostatném okně</a>), je nástrojová lišta přizpůsobena obsahu tohoto okna s mapou. Výsledná podoba je naznačena na obrázku, není pak zobrazen ani oddělovač umístěný před tlačítkem pro zobrazení mapy v samostatném okně (komponenta 3).</p><p><img src="206uc01-zobrazit-obrazovku-planovani-dennich-vykonu-114460020_images/image2023-3-14 17-58-21.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Prvek</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Bublinková nápověda</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Zobrazit horní panel obrazovky plánování</td><td colspan="1">–</td><td colspan="1"><p>ToggleButton</p><ul><li>Ikona: ra-panel-top-right</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1"><p>Horní panel obrazovky plánování</p></td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Pokud je tlačítko stisknuto (výchozí stav), je zobrazen <a href="206uc01-114460020.html">Horní panel obrazovky plánování</a>. Pokud tlačítko stisknuto není, je odpovídající panel skrytý.</td><td colspan="1">–</td><td colspan="1">Skrytí je pak možné provést také přímo v <a href="206uc01-114460020.html">Horním panelu obrazovky plánování</a>.</td></tr><tr><td colspan="1">2</td><td colspan="1">Zobrazit spodní panel obrazovky plánování</td><td colspan="1">–</td><td colspan="1"><p>ToggleButton</p><ul><li>Ikona: ra-panel-bottom-right</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Spodní panel obrazovky plánování</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Pokud je tlačítko stisknuto (výchozí stav), je zobrazen <a href="206uc01-114460020.html">Spodní panel obrazovky plánování</a>. Pokud tlačítko stisknuto není, je odpovídající panel skrytý.</td><td colspan="1">–</td><td colspan="1"><p>Skrytí je pak možné provést také přímo ve <a href="206uc01-114460020.html">Spodním panelu obrazovky plánování</a>.</p></td></tr><tr><td colspan="1">3</td><td colspan="1">Zobrazit mapu v samostatném okně</td><td colspan="1">–</td><td colspan="1"><p>ToggleButton</p><ul><li>Ikona: ra-map</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Zobrazení mapy v samostatném okně</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><p>Pokud tlačítko stisknuto není (výchozí stav), kliknuti na prvek spustí <a href="206uc01-114460020.html">AF02: Zobrazit mapu v samostatném okně</a>.</p><p>Pokud tlačítko stisknuto je. kliknutí na prvek spustí <a href="206uc01-114460020.html">AF04: Zrušit zobrazení mapy v samostatném okně</a>.</p></td><td colspan="1">–</td><td colspan="1"><p>Ve výchozím stavu je odpovídající panel zobrazen v rámci obrazovky plánování, není tedy stisknuto ani toto tlačítko.</p><p>Před tlačítkem je umístěn oddělovač.</p></td></tr><tr><td colspan="1">4</td><td colspan="1">Zobrazit souhrnný itinerář denních výkonů</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-date</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Zobrazení souhrnného itineráře denních výkonů</td><td colspan="1">Vždy</td><td colspan="1">Pokud jsou splněny vstupní podmínky volaného alternativního toku.</td><td colspan="1">Po stisknutí tlačítka dojde ke spuštění <a href="206uc01-114460020.html">AF09: Zobrazit souhrnný itinerář denních výkonů</a>.</td><td colspan="1">–</td><td colspan="1">Před tlačítkem je umístěn oddělovač, pokud je toto tlačítko k dispozici.</td></tr><tr><td colspan="1">5</td><td colspan="1">Změnit pozici panelu s mapou označeného denního výkonu</td><td colspan="1">–</td><td colspan="1"><p>ToggleButton</p><ul><li>Ikona: ra-switch-vertical</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Změna pozice mapy označeného denního výkonu</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Pokud není tlačítko stisknuto (výchozí stav), je <a href="206uc01-114460020.html">Mapa označeného denního výkonu</a> zobrazena v <a href="206uc01-114460020.html">Horním panelu obrazovky plánování</a>. Pokud tlačítko stisknuto je, je tento panel s mapou zobrazen ve <a href="206uc01-114460020.html">Spodním panelu obrazovky plánování</a>.</td><td colspan="1">–</td><td colspan="1">Ve výchozím stavu je mapa s označeným denním výkonem umístěna v horní části obrazovky.</td></tr></tbody></table><h2>Nástrojová lišta</h2><p>Nástrojová lišta slouží k nastavení parametrů plánování, podle kterých jsou následně načítány dostupné informace v rámci obrazovky.</p><p>Poznámka: Protože se nejedná o běžnou „přehledovou“ nástrojovou lištu, nejsou ani její prvky odlišeny barevným pruhem.</p><h3>Drátový diagram</h3><p><img src="206uc01-zobrazit-obrazovku-planovani-dennich-vykonu-114460020_images/image2024-9-17 13-15-45.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Prvek</th><th>Komponenta</th><th colspan="1">Nadpis</th><th>Typ komponenty</th><th>Příklad hodnoty</th><th colspan="1">Hodnota</th><th colspan="1">Výchozí hodnota</th><th colspan="1">Formát</th><th colspan="1">Bublinková nápověda</th><th colspan="1">Zpřístupněná</th><th colspan="1">Viditelná</th><th>Chování</th><th colspan="1">Validace</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1">Výběr provozovny</td><td colspan="1">–</td><td colspan="1">ComboBox</td><td colspan="1">Provozovna Pardubice</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>.</p><p>Množina dostupných záznamů je popsána samostatně, viz <a href="206uc01-114460020.html">Dostupné provozovny</a>.</p></td><td colspan="1"><p>Na vstupu získaná <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> (vstupní parametr Provozovna).</p><p>Pokud není hodnota k dispozici, je využito uživatelské nastavení, viz <a href="206uc01-114460020.html">Uživatelské nastavení</a>).</p><p>Pokud není k dispozici ani uživatelské nastavení, je vybrán první dostupný záznam v rámci ovládacího prvku (viz <a href="206uc01-114460020.html">Dostupné provozovny</a>).</p></td><td colspan="1"><Název></td><td colspan="1">Vybrat provozovnu</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Po změně nastavené hodnoty načte aktuální data pro obrazovku (dle nově nastavených parametrů plánování).</td><td colspan="1">–</td><td colspan="1">Možnost „Nevybráno“ není k dispozici.</td></tr><tr><td colspan="1">2</td><td colspan="1">Výběr data realizace</td><td colspan="1">–</td><td colspan="1"><p>Button</p><p>V rámci ovládacího prvku jsou k dispozici tlačítka pro rychlou změnu data realizace:</p><ul><li><strong>Předchozí den</strong>: ikona ra-arrow-left.</li><li><strong>Následující den</strong>: ikona ra-arrow-right.</li></ul></td><td colspan="1">16. 3. 2022</td><td colspan="1">Konkrétní datum.</td><td colspan="1"><p>Na vstupu získané datum realizace (vstupní parametr Datum realizace).</p><p>Pokud není hodnota k dispozici, je využito uživatelské nastavení, viz <a href="206uc01-114460020.html">Uživatelské nastavení</a>).</p><p>Pokud není k dispozici ani uživatelské nastavení, je vybrán dnešní den.</p></td><td colspan="1"><p><Datum></p><p>Zobrazená hodnota je v uvedeném formátu: <a href="#" data-page-title="Používané formáty zobrazení údajů"></a>.</p></td><td colspan="1">Vybrat datum realizace</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><p>Po změně nastavené hodnoty načte aktuální data pro obrazovku (dle nově nastavených parametrů plánování).</p><p>Po stisknutí tlačítka pro <strong>výběr data realizace</strong> dojde k zobrazení kontextové nabídky s kalendářem (viz <a href="#" data-page-title="702UI04: Nabídka pro výběr období"></a>). Po výběru požadovaného dne dochází k jeho nastavení v rámci ovládacího prvku (a tedy i k načtení obrazovky). Nastavení kontextové nabídky s kalendářem je pak následující:</p><ul><li>Rozložení: <a href="../../uzivatelske-rozhrani/700uixx-obecne/702uixx-kalendare-a-periodicita/702ui04-84838362.html">Výběr dne</a>.</li><li>Rychlé volby: nejsou k dispozici.</li></ul><p>Po stisknutí tlačítka <strong>Předchozí den</strong> dojde k aktualizaci data realizace (a tedy i k načtení obrazovky). Nově nastavená hodnota pak odpovídá předchozímu dni pro aktuálně nastavené datum realizace.</p><p>Po stisknutí tlačítka <strong>Následující den</strong> dojde k aktualizaci data realizace (a tedy i k načtení obrazovky). Nově nastavená hodnota pak odpovídá následujícímu dni pro aktuálně nastavené datum realizace.</p></td><td colspan="1">–</td><td colspan="1">Vždy je nastavena hodnota.</td></tr><tr><td colspan="1">3</td><td colspan="1">Výběr typu dopravy</td><td colspan="1">–</td><td colspan="1">ComboBox</td><td colspan="1">Hákový Nakladač</td><td colspan="1"><p>Entita <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a>.</p><p>Množina dostupných záznamů je popsána samostatně, viz <a href="206uc01-114460020.html">Dostupné typy dopravy</a>.</p></td><td colspan="1"><p>Na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> (vstupní parametr Typ dopravy).</p><p>Pokud není hodnota k dispozici, je využito uživatelské nastavení, viz <a href="206uc01-114460020.html">Uživatelské nastavení</a>).</p><p>Pokud není k dispozici ani uživatelské nastavení, je vybrán první dostupný záznam v rámci ovládacího prvku (viz <a href="206uc01-114460020.html">Dostupné typy dopravy</a>).</p></td><td colspan="1"><Název></td><td colspan="1">Vybrat typ dopravy</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Po změně nastavené hodnoty načte aktuální data pro obrazovku (dle nově nastavených parametrů plánování).</td><td colspan="1">–</td><td colspan="1">Možnost „Nevybráno“ není k dispozici.</td></tr><tr><td colspan="1">4</td><td colspan="1">Aktualizovat denní výkony</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-refresh-hard</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Aktualizovat denní výkony</td><td colspan="1">Vždy</td><td colspan="1">Pokud jsou splněny vstupní podmínky volaného alternativního toku.</td><td colspan="1">Po stisknutí dojde ke spuštění <a href="206uc01-114460020.html">AF04: Provést kontrolu aktuálnosti denních výkonů</a>.</td><td colspan="1">–</td><td colspan="1"><p>Uvedené chování není možné spustit pro datum v minulosti.</p><p>Pokud je zobrazen tento prvek, není k dispozici komponenta 5.</p></td></tr><tr><td colspan="1">5</td><td colspan="1">Generovat denní výkony mimo plánované období</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-refresh-hard</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Generovat denní výkony mimo plánované období</td><td colspan="1">Vždy</td><td colspan="1">Pokud jsou splněny vstupní podmínky volaného alternativního toku.</td><td colspan="1">Po stisknutí dojde ke spuštění <a href="206uc01-114460020.html">AF05: Generovat denní výkony mimo plánované období</a>.</td><td colspan="1">–</td><td colspan="1"><p>Uvedené chování není možné spustit pro datum v minulosti.</p><p>Pokud je zobrazen tento prvek, není k dispozici komponenta 4.</p></td></tr><tr><td colspan="1">6</td><td colspan="1">Obnovit data</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-refresh</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Obnovit</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Po stisknutí načte aktuální data pro obrazovku (dle právě nastavených parametrů plánování).</td><td colspan="1">–</td><td colspan="1">Přeneseno z dílčích panelů obrazovky (nově pouze na jednom místě).</td></tr></tbody></table><h3>Chování</h3><h4>Dostupné provozovny</h4><p>V rámci ovládacího prvku je umožněn výběr jedné z nabízených hodnot. K dispozici jsou pak všechny instance entity <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>, které splňují následující podmínky:</p><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Uživatel má na instanci oprávnění – vyhodnoceno dle oprávnění na instance entity <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> (viz <a href="../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>).</li></ul><h4>Dostupné typy dopravy</h4><p>V rámci ovládacího prvku je umožněn výběr jedné z nabízených hodnot. K dispozici jsou pak všechny instance entity <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a>, které splňují následující podmínky:</p><ul><li>Hodnota atributu <strong>Je k dispozici</strong> je rovna <strong>TRUE</strong>.</li></ul><h2>Panel přehledu objednaných služeb</h2><p>Panel s přehledem <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a> je jednou ze stěžejních částí obrazovky – významně zasahuje do plánování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> (přímá interakce uživatele). Je pak popsán samostatně…</p><p>Při načtení obrazovky systém spustí <a href="#" data-page-title="206UC02: Zobrazit panel přehledu objednaných služeb"></a>, na vstup jsou předány následující hodnoty:</p><ul><li><strong>Provozovna</strong>: v rámci nástrojové lišty nastavená <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> (viz <a href="206uc01-114460020.html">Nástrojová lišta</a>, komponenta 1).<strong><br></strong></li><li><strong>Typ dopravy</strong>: v nástrojové liště nastavený <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> (viz <a href="206uc01-114460020.html">Nástrojová lišta</a>, komponenta 3).</li><li><strong>Datum realizace</strong>: v nástrojové liště nastavené datum realizace (viz <a href="206uc01-114460020.html">Nástrojová lišta</a>, komponenta 2).</li><li><strong>Objednané služby</strong>: načtené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (viz <a href="206uc01-114460020.html">ALG02: Získat objednané služby</a>), které jsou předány včetně doprovodných informací…<br><ul><li>pořadové číslo (viz <a href="206uc01-114460020.html">ALG04: Číslování objednaných služeb</a>),</li><li>barevné značení (viz <a href="206uc01-114460020.html">ALG06: Barevné značení objednaných služeb</a>).</li></ul></li><li><strong>Denní výkony</strong>: načtené <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (viz <a href="206uc01-114460020.html">ALG01: Získat denní výkony</a>).</li><li><strong>Režim pro čtení</strong>: hodnota získaná v rámci odpovídajícího algoritmu (viz <a href="206uc01-114460020.html">ALG03: Vyhodnotit režim pro čtení</a>).</li></ul><p>Poznámka: Hodnoty vstupních parametrů se pak mohou měnit také při práci s obrazovkou (např. změna data realizace).</p><h2>Horní panel obrazovky plánování</h2><p>Horní panel obrazovky plánování je složen z dílčích záložek (v uvedeném pořadí), které si postupně popíšeme:</p><ul><li><strong>Pokročilý itinerář denních výkonů</strong>: Itinerář, který umožňuje plnohodnotné plánování denních výkonů.</li><li><strong>Mapa objednaných služeb</strong>: Mapa zobrazující polohu lokací dostupných objednaných služeb. </li><li><strong>Mapa denních výkonů</strong>: Mapa zobrazující trajektorii dostupných denních výkonů.</li><li><strong>Mapa označeného denního výkonu</strong>: Mapa zobrazující poslední označený denní výkon<ul><li><em>Panel může být zobrazen také v rámci <a href="206uc01-114460020.html">Spodního panelu obrazovky plánování</a>.</em></li></ul></li></ul><h3>Pokročilý itinerář denních výkonů</h3><p>Panel s itinerářem <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> je jednou ze stěžejních částí obrazovky – významně zasahuje do plánování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> (přímá interakce uživatele). Je pak popsán samostatně.</p><ul><li>Panel je dostupný, pokud je konfigurační hodnota <strong>advancedUseCasesAvailability.dailyRoutesAdvancedItinerary</strong> nastavena na <strong>TRUE</strong> (viz <a href="../../../konfiguracni-81592468.html">Konfigurační hodnoty</a>).</li><li>Pokud panel dostupný není (uvedený parametr je nastaven na <strong>FALSE</strong>), nejsou k dispozici ani s ním související interakce (viz <a href="206uc01-114460020.html">Interakce v rámci obrazovky</a>). </li></ul><p>Při načtení obrazovky systém spustí <a href="#" data-page-title="206UC14: Zobrazit panel pokročilého itineráře denních výkonů"></a>, na vstup jsou předány následující hodnoty:</p><ul><li><strong>Provozovna</strong>: v rámci nástrojové lišty nastavená <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> (viz <a href="206uc01-114460020.html">Nástrojová lišta</a>, komponenta 1).<strong><br></strong></li><li><strong>Datum realizace</strong>: v rámci nástrojové lišty nastavené datum realizace (viz <a href="206uc01-114460020.html">Nástrojová lišta</a>, komponenta 2).</li><li><strong>Typ dopravy</strong>: v rámci nástrojové lišty nastavený <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> (viz <a href="206uc01-114460020.html">Nástrojová lišta</a>, komponenta 3).<strong><br></strong></li><li><strong>Denní výkony</strong>: načtené <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (viz <a href="206uc01-114460020.html">ALG01: Získat denní výkony</a>), které jsou předány včetně doprovodných informací…<br><ul><li>barevné značení (viz <a href="206uc01-114460020.html">ALG05: Barevné značení denních výkonů</a>).</li></ul></li><li><strong>Objednané služby</strong>: načtené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (viz <a href="206uc01-114460020.html">ALG02: Získat objednané služby</a>), které jsou předány včetně doprovodných informací…<br><ul><li>pořadové číslo (viz <a href="206uc01-114460020.html">ALG04: Číslování objednaných služeb</a>).</li></ul></li><li><strong>Mimo plánované období</strong>: pokud jsou splněny vstupní podmínky pro <a href="206uc01-114460020.html">AF05: Generovat denní výkony mimo plánované období</a>, je předána hodnota <strong>TRUE</strong> (jinak <strong>FALSE</strong>).</li><li><strong>Režim pro čtení</strong>: hodnota získaná v rámci odpovídajícího algoritmu (viz <a href="206uc01-114460020.html">ALG03: Vyhodnotit režim pro čtení</a>).</li></ul><p>Poznámka: Hodnoty vstupních parametrů se pak mohou měnit také při práci s obrazovkou (např. změna data realizace).</p><h3>Mapa objednaných služeb</h3><p>Panel s mapou zobrazuje polohu dostupných <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a> (resp. jejich lokací). Současně může být vykreslena také trajektorie některého z odpovídajících <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a>. Chování panelu je pak popsáno samostatně.</p><p>Při načtení obrazovky systém spustí <a href="#" data-page-title="206UC03: Zobrazit panel mapy objednaných služeb"></a>, na vstup jsou předány následující hodnoty:</p><ul><li><strong>Objednané služby</strong>: načtené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (viz <a href="206uc01-114460020.html">ALG02: Získat objednané služby</a>), které jsou předány včetně doprovodných informací…<br><ul><li>pořadové číslo (viz <a href="206uc01-114460020.html">ALG04: Číslování objednaných služeb</a>),</li><li>barevné značení (viz <a href="206uc01-114460020.html">ALG06: Barevné značení objednaných služeb</a>).</li></ul></li><li><strong>Denní výkony</strong>: načtené <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (viz <a href="206uc01-114460020.html">ALG01: Získat denní výkony</a>), které jsou předány včetně doprovodných informací…<br><ul><li>barevné značení (viz <a href="206uc01-114460020.html">ALG05: Barevné značení denních výkonů</a>).</li></ul></li><li><strong>Režim pro čtení</strong>: hodnota získaná v rámci odpovídajícího algoritmu (viz <a href="206uc01-114460020.html">ALG03: Vyhodnotit režim pro čtení</a>).</li></ul><p>Poznámka: Hodnoty vstupních parametrů se pak mohou měnit také při práci s obrazovkou (např. změna data realizace).</p><h3>Mapa denních výkonů</h3><p>Panel s mapou zobrazuje trajektorii dostupných <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a>. Ta je vykreslena bez odpovídajících <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a> (resp. jejich lokací). Chování panelu je pak popsáno samostatně.</p><p>Při načtení obrazovky systém spustí <a href="#" data-page-title="206UC05: Zobrazit panel mapy denních výkonů"></a>, na vstup jsou předány následující hodnoty:</p><ul><li><strong>Denní výkony</strong>: načtené <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (viz <a href="206uc01-114460020.html">ALG01: Získat denní výkony</a>), které jsou předány včetně doprovodných informací…<br><ul><li>barevné značení (viz <a href="206uc01-114460020.html">ALG05: Barevné značení denních výkonů</a>).</li></ul></li><li><strong>Režim pro čtení</strong>: hodnota získaná v rámci odpovídajícího algoritmu (viz <a href="206uc01-114460020.html">ALG03: Vyhodnotit režim pro čtení</a>).</li></ul><p>Poznámka: Hodnoty vstupních parametrů se pak mohou měnit také při práci s obrazovkou (např. změna data realizace).</p><h3>Mapa označeného denního výkonu</h3><p>Panel s mapou označeného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> zobrazuje jiný pohled na jeho trasu. K dispozici jsou podobnější informace o trase včetně zastávek na ní. Vychází pak z mapy obrazovky editace denního výkonu.</p><ul><li>Panel s mapou může být zobrazen na jednom z těchto míst: <a href="206uc01-114460020.html">Horní panel obrazovky plánování</a> (výchozí pozice), <a href="206uc01-114460020.html">Spodní panel obrazovky plánování</a>.</li><li>To je dáno aktuálním stavem tlačítka v <a href="206uc01-114460020.html">Hlavičce aplikace</a> (komponenta 5), který je ukládán v rámci <a href="206uc01-114460020.html">Uživatelského nastavení</a>.</li></ul><p>Při načtení obrazovky systém spustí <a href="#" data-page-title="206UC06: Zobrazit panel mapy označeného denního výkonu"></a>, na vstup jsou předány následující hodnoty:</p><ul><li><strong>Denní výkon</strong>: v pořadí poslední označený <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> v rámci obrazovky (viz <a href="#" data-page-title="206UC04: Zobrazit panel přehledu denních výkonů"></a>).</li><li><strong>Režim pro čtení</strong>: hodnota získaná v rámci odpovídajícího algoritmu (viz <a href="206uc01-114460020.html">ALG03: Vyhodnotit režim pro čtení</a>).</li></ul><p>Poznámka: V případě, kdy není v rámci obrazovky označen žádný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>, je předáno NULL.</p><h2>Spodní panel obrazovky plánování</h2><p>Horní panel obrazovky plánování je složen z dílčích záložek (v uvedeném pořadí), které si postupně popíšeme:</p><ul><li><strong>Přehled denních výkonů</strong>: Panel s diagramy, který umožňuje plnohodnotné plánování denních výkonů.</li><li><strong>Mapa označeného denního výkonu</strong>: Mapa zobrazující poslední označený denní výkon<br><ul><li><em>Panel je ve výchozím stavu zobrazen v rámci <a href="206uc01-114460020.html">Horního panelu obrazovky plánování</a>.</em></li><li><em>Jeho popis je uveden právě s horním panelem, viz <em><a href="206uc01-114460020.html">Mapa označeného denního výkonu</a></em>.</em></li></ul></li></ul><h3>Přehled denních výkonů</h3><p>Panel s přehledem <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> je jednou ze stěžejních částí obrazovky – významně zasahuje do plánování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> (přímá interakce uživatele). Je pak popsán samostatně.</p><p>Při načtení obrazovky systém spustí <a href="#" data-page-title="206UC04: Zobrazit panel přehledu denních výkonů"></a>, na vstup jsou předány následující hodnoty:</p><ul><li><strong>Provozovna</strong>: v rámci nástrojové lišty nastavená <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> (viz <a href="206uc01-114460020.html">Nástrojová lišta</a>, komponenta 1).<strong><br></strong></li><li><strong>Datum realizace</strong>: v rámci nástrojové lišty nastavené datum realizace (viz <a href="206uc01-114460020.html">Nástrojová lišta</a>, komponenta 2).</li><li><strong>Typ dopravy</strong>: v rámci nástrojové lišty nastavený <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> (viz <a href="206uc01-114460020.html">Nástrojová lišta</a>, komponenta 3).<strong><br></strong></li><li><strong>Denní výkony</strong>: načtené <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (viz <a href="206uc01-114460020.html">ALG01: Získat denní výkony</a>), které jsou předány včetně doprovodných informací…<br><ul><li>barevné značení (viz <a href="206uc01-114460020.html">ALG05: Barevné značení denních výkonů</a>).</li></ul></li><li><strong>Objednané služby</strong>: načtené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (viz <a href="206uc01-114460020.html">ALG02: Získat objednané služby</a>), které jsou předány včetně doprovodných informací…<br><ul><li>pořadové číslo (viz <a href="206uc01-114460020.html">ALG04: Číslování objednaných služeb</a>).<br></li></ul></li><li><strong>Mimo plánované období</strong>: pokud jsou splněny vstupní podmínky pro <a href="206uc01-114460020.html">AF05: Generovat denní výkony mimo plánované období</a>, je předána hodnota <strong>TRUE</strong> (jinak <strong>FALSE</strong>).</li><li><strong>Režim pro čtení</strong>: hodnota získaná v rámci odpovídajícího algoritmu (viz <a href="206uc01-114460020.html">ALG03: Vyhodnotit režim pro čtení</a>).</li></ul><p>Poznámka: Hodnoty vstupních parametrů se pak mohou měnit také při práci s obrazovkou (např. změna data realizace).</p><h2>Souhrnný itinerář denních výkonů</h2><p>Panel se souhrnným itinerářem <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> je dostupný ve formě modálního okna. Slouží pak pouze k zobrazení informací o <a href="../../../datove-modely/datovy-78681044.html">Denních výkonech</a> (bez možnosti editace). Dostupné záznamy navíc nejsou omezovány <a href="../../../datove-modely/datovy-78681044.html">Typem dopravy</a>.</p><p>Zobrazení panelu se souhrnným itinerářem je tedy provedeno až na pokyn uživatele, viz <a href="206uc01-114460020.html">AF09: Zobrazit souhrnný itinerář denních výkonů</a>.</p><h2>Chování</h2><h3>Ikona pro nastavení rozložení panelu objednané služby</h3><p>V rámci obrazovky plánování pracujeme s <a href="../../../datove-modely/datovy-78681044.html">Objednanými službami</a>, ty jsou často zobrazovány ve formě panelů (viz <a href="#" data-page-title="101UI05: Panel objednané služby"></a>). Vyskytují se hned na několika místech, na každém z nich je pak možné specifikovat použité rozložení tohoto panelu. Společným prvkem je tlačítko pro provedení zmíněného nastavení, to se může vyskytovat ve dvou stavech…</p><ul><li><strong>Výchozí nastavení</strong> – v rámci dané části obrazovky je použito výchozí nastavení panelu (nebylo změněno uživatelem). V takovém případě je použita ikona <strong>ra-cog-wheel</strong>.</li><li><strong>Uživatelské natavení</strong> – v rámci dané části obrazovky bylo změněno nastavení panelu (liší se od výchozího). V takovém případě je použita ikona <strong>ra-cog-wheel-active</strong>.</li></ul><h3>Interakce v rámci obrazovky</h3><p>Obrazovka jako taková je složena z dílčích panelů, které spolu komunikují – akce provedená v jednom panelu může způsobit spuštění akce v panelu jiném (např. označení objednané služby). Jednotlivé interakce si nyní popíšeme…</p><h4>Označení objednané služby</h4><p>Označení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> je možné provést hned v několika panelech obrazovky…</p><ul><li><a href="206uc01-114460020.html">Panel přehledu objednaných služeb</a> (kliknutí na panel objednaná služby – včetně hromadného výběru; hromadný výběr z nástrojové lišty),</li><li><a href="206uc01-114460020.html">Mapa objednaných služeb</a> (kliknutí na lokaci objednané služby typu Místo realizace či Místo dočasného uložení – včetně těch v kontextové nabídce shluku),</li><li><a href="206uc01-114460020.html">Přehled denních výkonů</a> (kliknutí na položku denního výkonu představující objednanou službu – tedy na odpovídající datový bod diagramu),</li><li><a href="206uc01-114460020.html">Pokročilý itinerář denních výkonů</a> (kliknutí na položku denního výkonu představující objednanou službu – tedy ne odpovídající panel itineráře).</li></ul><p>Jakmile dojde k označení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (nebo jejich množiny), projeví se tato změna i ve zbývajících panelech obrazovky…</p><ul><li><a href="206uc01-114460020.html">Panel přehledu objednaných služeb</a> (zvýraznění panelů takových objednaných služeb, které jsou právě označeny),</li><li><a href="206uc01-114460020.html">Mapa objednaných služeb</a> (zvýraznění odpovídajících lokací takových objednaných služeb, které jsou právě označeny),</li><li><a href="206uc01-114460020.html">Přehled denních výkonů</a> (zvýraznění odpovídajících položek denních výkonů takových objednaných služeb, které jsou právě označeny),</li><li><a href="206uc01-114460020.html">Pokročilý itinerář denních výkonů</a> (zvýraznění odpovídajících položek denních výkonů takových objednaných služeb, které jsou právě označeny).</li></ul><p>Poznámka: Současné může docházet k centrování map či přehledů („focus“ na označené záznamy).</p><h4>Označení denního výkonu</h4><p>Označení <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> je možné provést hned v několika panelech obrazovky…</p><ul><li><a href="206uc01-114460020.html">Přehled denních výkonů</a> (kliknutí na řádek denního výkonu – včetně kliknutí na datové body diagramu),</li><li><a href="206uc01-114460020.html">Mapa denních výkonů</a> (kliknutí na trajektorii denního výkonu),</li><li><a href="206uc01-114460020.html">Pokročilý itinerář denních výkonů</a> (kliknutí na kalendář denního výkonu – včetně kliknutí na položky kalendáře).</li></ul><p>Jakmile dojde k označení <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (nebo jejich množiny), projeví se tato změna i ve zbývajících panelech obrazovky…</p><ul><li><a href="206uc01-114460020.html">Mapa objednaných služeb</a> (zvýraznění odpovídající trajektorie takových denních výkonů, které jsou právě označeny),</li><li><a href="206uc01-114460020.html">Mapa denních výkonů</a> (zvýraznění odpovídající trajektorie takových denních výkonů, které jsou právě označeny),</li><li><a href="206uc01-114460020.html">Přehled denních výkonů</a> (zvýraznění odpovídajících řádků takových denních výkonů, které jsou právě označeny),<br></li><li><a href="206uc01-114460020.html">Mapa označeného denního výkonu</a> (zobrazení trajektorie v pořadí posledního označeného denního výkonu),</li><li><a href="206uc01-114460020.html">Pokročilý itinerář denních výkonů</a> (zvýraznění odpovídajících kalendářů takových denních výkonů, které jsou právě označeny).<br></li></ul><p>Poznámka: Současné může docházet k centrování map či přehledů („focus“ na označené záznamy).</p><h4>Plánování objednané služby</h4><p>Plánování <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a> na <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> je umožněno 2 základními způsoby…</p><ul><li><strong>Běžné plánování</strong> – uživatel označí požadované objednané služby a stiskne tlačítko pro jejich vložení na konkrétní denní výkon.</li><li><strong>Drag&Drop režim</strong> – uživatel chytne objednanou službu a jejím přetažením na konkrétní denní výkon provede její naplánování.</li></ul><p>Běžný způsob plánování je podrobně popsán v rámci odpovídajících UC, my se tady budeme věnovat Drag&Drop režimu plánování. Ten je dostupný v rámci těchto panelů:</p><ul><li><a href="206uc01-114460020.html">Panel přehledu objednaných služeb</a> (vkládání na denní výkony),</li><li><a href="206uc01-114460020.html">Přehled denních výkonů</a> (vkládání na a odebírání z denních výkonů),</li><li><a href="206uc01-114460020.html">Pokročilý itinerář denních výkonů</a> (vkládání na a odebírání z denních výkonů).</li></ul><p>Při „chytnutí“ <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> na jednom z těchto míst dochází k aktivaci Drag&Drop režimu…</p><ul><li>To se projeví zvýrazněním takových míst v rámci uvedených panelů, na která je možné vkládat <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</li><li>Současně, pokud je zobrazena bublinková nápověda některého z přesouvaných prvků, dojde k jejímu zavření.<br><ul><li><em>Interní poznámka: Aktuálně zůstává v některých případech viset – není možné plánovat v rámci diagramu nad.<br></em><em><img src="206uc01-zobrazit-obrazovku-planovani-dennich-vykonu-114460020_images/image2024-10-3 14-48-38.png" data-attachment="true"></em></li></ul></li></ul><p>Přesun <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a> je pak umožněn ve směrech, které jsou dány uvedenou tabulkou.</p><table><tbody><tr><th>Zdroj</th><th>Cíl</th><th>Podpora Drag&Drop režimu</th><th colspan="1">Poznámka</th></tr><tr><td><a href="206uc01-114460020.html">Panel přehledu objednaných služeb</a></td><td><a href="206uc01-114460020.html">Přehled denních výkonů</a></td><td></td><td colspan="1">Dochází k naplánování <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</td></tr><tr><td><a href="206uc01-114460020.html">Přehled denních výkonů</a></td><td><a href="206uc01-114460020.html">Panel přehledu objednaných služeb</a></td><td></td><td colspan="1">Dochází k odebrání <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> z <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</td></tr><tr><td><a href="206uc01-114460020.html">Panel přehledu objednaných služeb</a></td><td><a href="206uc01-114460020.html">Pokročilý itinerář denních výkonů</a></td><td></td><td colspan="1">Dochází k naplánování <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</td></tr><tr><td><a href="206uc01-114460020.html">Pokročilý itinerář denních výkonů</a></td><td><a href="206uc01-114460020.html">Panel přehledu objednaných služeb</a></td><td></td><td colspan="1">Dochází k odebrání <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> z <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</td></tr><tr><td><a href="206uc01-114460020.html">Přehled denních výkonů</a></td><td><a href="206uc01-114460020.html">Pokročilý itinerář denních výkonů</a></td><td></td><td colspan="1">Přímé plánování mezi panely s <a href="../../../datove-modely/datovy-78681044.html">Denními výkony</a> není požadováno.</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Pokročilý itinerář denních výkonů</a></td><td colspan="1"><a href="206uc01-114460020.html">Přehled denních výkonů</a></td><td colspan="1"></td><td colspan="1">Přímé plánování mezi panely s <a href="../../../datove-modely/datovy-78681044.html">Denními výkony</a> není požadováno.</td></tr></tbody></table><p>Jako první si popíšeme <a href="206uc01-114460020.html">Panel přehledu objednaných služeb</a>. Zde je Drag&Drop režim spuštěn po „chytnutí“ jednoho z panelů představující <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a>…</p><ul><li>Dochází ke zvýraznění celého přehledu objednaných služeb (červené ohraničení, přerušovaná čára).</li><li>Zvýrazněná plocha slouží k odebrání <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> z odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ul><p>Pokud tedy uživatel „pustí“ <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a> v tomto prostoru, dochází ke spuštění <a href="206uc01-114460020.html">AF06: Odebrat objednanou službu z denního výkonu</a>.</p><p><img src="206uc01-zobrazit-obrazovku-planovani-dennich-vykonu-114460020_images/image2023-7-16 18-28-57.png" data-attachment="true"></p><p>Následně se budeme věnovat <a href="206uc01-114460020.html">Přehledu denních výkonů</a>. Zde je Drag&Drop režim spuštěn po „chytnutí“ jedné z <a href="../../../datove-modely/datovy-78681044.html">Položek denního výkonu</a>. Chování se pak může lišit dle konkrétního <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>…</p><ul><li><strong>Prázdný denní výkon</strong> – jedná se o <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, které neobsahují žádnou <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> (mimo <strong>Start</strong> a <strong>Cíl</strong>).<br><ul><li>Dochází ke zvýraznění celého řádku s denním výkonem (žluté ohraničení, přerušovaná čára).</li><li>Zvýrazněná plocha slouží k vložení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> na odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul></li><li><strong>Naplánovaný denní výkon</strong> – jedná se o <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, které obsahují alespoň jednu <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> (mimo <strong>Start</strong> a <strong>Cíl</strong>).<br><ul><li>Dochází ke zvýraznění míst, na která je v rámci denního výkonu možné vložit objednanou službu (žlutá svislá čára, plná).</li><li>Zvýrazněné místo slouží k vložení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> na odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (na danou pozici).<br></li></ul></li><li><strong>Vypůjčený denní výkon</strong> – jedná se o <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> ve stavu <strong>Vypůjčený</strong> (atribut <strong>Stav</strong>, viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>).<br><ul><li>Nedochází k žádnému zvýraznění na úrovni <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (není tedy obsažen žádný prostor pro Drag&Drop režim).</li><li>Na <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> v tomto stavu není možné plánovat <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (ani <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> jiného typu).</li></ul></li></ul><p>Pokud tedy uživatel „pustí“ <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a> v tomto prostoru či místě, dochází ke spuštění jedné z uvedených akcí:</p><ul><li>Vložení nenaplánované <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> na libovolný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (viz <a href="206uc01-114460020.html">AF07: Vložit objednanou službu na denní výkon</a>).</li><li>Přesunutí naplánované <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> na jiný <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (viz <a href="206uc01-114460020.html">AF07: Vložit objednanou službu na denní výkon</a>).</li><li>Přesunutí naplánované <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> v rámci stejného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (viz <a href="206uc01-114460020.html">AF08: Změnit pozici objednané služby v denním výkonu</a>).</li></ul><p><img src="206uc01-zobrazit-obrazovku-planovani-dennich-vykonu-114460020_images/image2023-7-16 18-31-45.png" data-attachment="true"></p><p>Následně se budeme věnovat <a href="206uc01-114460020.html">Pokročilému itineráři denních výkonů</a>. Zde je Drag&Drop režim spuštěn po „chytnutí“ jedné z <a href="../../../datove-modely/datovy-78681044.html">Položek denního výkonu</a>. Chování se pak může lišit dle konkrétního <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>…</p><ul><li><strong>Prázdný denní výkon</strong> – jedná se o <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, které neobsahují žádnou <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> (mimo <strong>Start</strong> a <strong>Cíl</strong>).<br><ul><li>Dochází ke zvýraznění kalendáře s denním výkonem (žluté ohraničení, přerušovaná čára).</li><li>Zvýrazněná plocha slouží k vložení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> na odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul></li><li><strong>Naplánovaný denní výkon</strong> – jedná se o <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, které obsahují alespoň jednu <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> (mimo <strong>Start</strong> a <strong>Cíl</strong>).<br><ul><li>Dochází ke zvýraznění míst, na která je v rámci denního výkonu možné vložit objednanou službu (žlutá vodorovná čára, plná).</li><li>Zvýrazněné místo slouží k vložení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> na odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (na danou pozici).</li></ul></li><li><strong>Vypůjčený denní výkon</strong> – jedná se o <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> ve stavu <strong>Vypůjčený</strong> (atribut <strong>Stav</strong>, viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>).<br><ul><li>Nedochází k žádnému zvýraznění na úrovni <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (není tedy obsažen žádný prostor pro Drag&Drop režim).</li><li>Na <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> v tomto stavu není možné plánovat <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (ani <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> jiného typu).</li></ul></li></ul><p>Pokud tedy uživatel „pustí“ <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a> v tomto prostoru či místě, dochází ke spuštění jedné z uvedených akcí:</p><ul><li>Vložení nenaplánované <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> na libovolný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (viz <a href="206uc01-114460020.html">AF07: Vložit objednanou službu na denní výkon</a>).</li><li>Přesunutí naplánované <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> na jiný <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (viz <a href="206uc01-114460020.html">AF07: Vložit objednanou službu na denní výkon</a>).</li><li>Přesunutí naplánované <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> v rámci stejného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (viz <a href="206uc01-114460020.html">AF08: Změnit pozici objednané služby v denním výkonu</a>).</li></ul><p><img src="206uc01-zobrazit-obrazovku-planovani-dennich-vykonu-114460020_images/image2024-10-3 15-1-20.png" data-attachment="true"></p><p>Pokud uživatel „pustí“ <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a> mimo jedno ze zvýrazněných míst (mimo „DROP zóny“), není provedena žádná akce – dochází k ukončení Drag&Drop režimu. Dále je možné Drag&Drop režim předčasně ukončit stisknutím klávesy <strong>Escape</strong>.</p><p>Poznámka: Při „chytnutí“ již naplánované <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> v panelu jejich přehledu nedochází ke spuštění Drag&Drop režimu. Ten je dostupný pouze v případě, kdy není obrazovka plánování v režimu pro čtení (na výstupu <a href="206uc01-114460020.html">ALG03: Vyhodnotit režim pro čtení</a> je získána hodnota <strong>FALSE</strong>).</p><h4>Filtrování denních výkonů</h4><p>Některé z dostupných panelů umožňují další filtrování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> (nad rámec <a href="206uc01-114460020.html">ALG01: Získat denní výkony</a>). Tyto filtry jsou pak propojeny – pokud odpovídající filtr nastavím v jednom z panelů, stejné nastavení se provede také v panelu druhém (a naopak). Místa, kterých se uvedená logika týká, jsou pak zmíněna v tabulce (dle konkrétních filtrů).</p><table><tbody><tr><th>Filtr</th><th>Umístění</th><th>Poznámka</th></tr><tr><td>Textový filtr</td><td><p><a href="206uc01-114460020.html">Přehled denních výkonů</a></p><ul><li>Popsáno v rámci <a href="#" data-page-title="206UC04: Zobrazit panel přehledu denních výkonů"></a>.</li><li>Komponenta <strong>1</strong> v rámci <a href="206uc04-115213112.html">Nástrojové lišty</a>.</li></ul><p><a href="206uc01-114460020.html">Pokročilý itinerář denních výkonů</a></p><ul><li><a href="206uc01-114460020.html">Popsáno v rámci </a><a href="#" data-page-title="206UC14: Zobrazit panel pokročilého itineráře denních výkonů"></a><a href="206uc01-114460020.html">.</a></li><li>Komponenta <strong>1</strong> v rámci <a href="206uc14-120357464.html">Nástrojové lišty</a>.</li></ul></td><td>Není ukládáno v rámci uživatelského nastavení.</td></tr><tr><td>Jen neschválené denní výkony</td><td><p><a href="206uc01-114460020.html">Přehled denních výkonů</a></p><ul><li>Popsáno v rámci <a href="#" data-page-title="206UC14: Zobrazit panel pokročilého itineráře denních výkonů"></a>.</li><li>Komponenta <strong>2</strong> v rámci <a href="206uc04-115213112.html">Nástrojové lišty</a>.</li></ul><p><a href="206uc01-114460020.html">Pokročilý itinerář denních výkonů</a></p><ul><li>Popsáno v rámci <a href="#" data-page-title="206UC14: Zobrazit panel pokročilého itineráře denních výkonů"></a>.</li><li>Komponenta <strong>2</strong> v rámci <a href="206uc14-120357464.html">Nástrojové lišty</a>.</li></ul></td><td>Je ukládáno v rámci uživatelského nastavení.</td></tr></tbody></table><h2>Uživatelská nastavení</h2><p>V rámci obrazovky je použito <a href="#" data-page-title="Uživatelská nastavení"></a>. Prvky, u kterých je ukládáno uživatelské nastavení, jsou uvedeny ve formě tabulky. Jejich výchozí hodnota pak odpovídá popisu uživatelského rozhraní.</p><table><tbody><tr><th>Funkční celek</th><th>Ukládaná hodnota</th><th>Poznámka</th></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Hlavička aplikace</a></td><td colspan="1"><p>Stav ovládacích prvků</p><ul><li>Zobrazení horního panelu obrazovky plánování (komponenta 1),</li><li>Zobrazení spodního panelu obrazovky plánování (komponenta 2),</li><li>Umístění panelu s mapou označeného denního výkonu (komponenta 5).</li></ul></td><td colspan="1">–</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Nástrojová lišta</a></td><td colspan="1"><p>Stav ovládacích prvků</p><ul><li>Nastavení provozovny (komponenta 1),</li><li>Nastavení data realizace (komponenta 2),</li><li>Nastavení typu dopravy (komponenta 3).</li></ul></td><td colspan="1">–</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Panel přehledu objednaných služeb</a></td><td colspan="1">Uživatelské nastavení panelu (viz <a href="#" data-page-title="206UC02: Zobrazit panel přehledu objednaných služeb"></a>).</td><td colspan="1">Panel má vlastní uživatelské nastavení.</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Mapa objednaných služeb</a></td><td colspan="1">Uživatelské nastavení panelu (viz <a href="#" data-page-title="206UC03: Zobrazit panel mapy objednaných služeb"></a>).</td><td colspan="1">Panel má vlastní uživatelské nastavení.</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Přehled denních výkonů</a></td><td colspan="1">Uživatelské nastavení panelu (viz <a href="#" data-page-title="206UC04: Zobrazit panel přehledu denních výkonů"></a>).</td><td colspan="1">Panel má vlastní uživatelské nastavení.</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Mapa denních výkonů</a></td><td colspan="1">Uživatelské nastavení panelu (viz <a href="#" data-page-title="206UC05: Zobrazit panel mapy denních výkonů"></a>).</td><td colspan="1">Panel má vlastní uživatelské nastavení.</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Mapa označeného denního výkonu</a></td><td colspan="1">Uživatelské nastavení panelu (viz <a href="#" data-page-title="206UC06: Zobrazit panel mapy označeného denního výkonu"></a>).</td><td colspan="1">Panel má vlastní uživatelské nastavení.</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Souhrnný itinerář denních výkonů</a></td><td colspan="1">Uživatelské nastavení panelu (viz <a href="#" data-page-title="206UC10: Zobrazit panel souhrnného itineráře denních výkonů"></a>).</td><td colspan="1">Panel má vlastní uživatelské nastavení.</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Pokročilý itinerář denních výkonů</a></td><td colspan="1">Uživatelské nastavení panelu (viz <a href="#" data-page-title="206UC14: Zobrazit panel pokročilého itineráře denních výkonů"></a>).</td><td colspan="1">Panel má vlastní uživatelské nastavení.</td></tr></tbody></table><h2>Parametry URL</h2><p>Specifikace URL parametrů je definována samostatně, viz <a href="https://confluence.radium.cz/display/mpgskdispecer/Stavy+v+URL+parametrech#StavyvURLparametrech-Dispe%C4%8Dersk%C3%A1plachta">Stavy v URL parametrech</a>.</p><h1>Grafický návrh</h1><p>TODO</p><h1>Revize</h1><h2>14. 9. 2025: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="206uc01-114460020.html">ALG05: Barevné značení denních výkonů</a></td><td colspan="1">Revize způsobu, jakým jsou přiřazovány barvy denním výkonům (naznačeno modře).</td></tr></tbody></table><h2>3. 10. 2024: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Hlavička aplikace</a></td><td colspan="1">Doplněna tlačítka pro změnu rozložení obrazovky (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Pokročilý itinerář denních výkonů</a></td><td colspan="1">Doplněn popis panelu s pokročilým itinerářem (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Mapa označeného denního výkonu</a></td><td colspan="1">Doplněna možnost změny polohy panelu s mapou (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Označení objednané služby</a></td><td colspan="1">Doplněn popis pro pokročilý itinerář (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Označení denního výkonu</a></td><td colspan="1">Doplněn popis pro pokročilý itinerář (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Plánování objednané služby</a></td><td colspan="1">Doplněn popis pro pokročilý itinerář (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Filtrování denních výkonů</a></td><td colspan="1">Doplněna nová interakce v rámci obrazovka (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Uživatelská nastavení</a></td><td colspan="1">Doplněn popis s uživatelským nastavením pro pokročilý itinerář (naznačeno růžově).</td></tr></tbody></table><h2>17. 9. 2024: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="206uc01-114460020.html">AF09: Zobrazit souhrnný itinerář denních výkonů</a></td><td colspan="1">Doplněno chování pro zobrazení souhrnného itineráře denních výkonů (naznačeno modře).</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Hlavička aplikace</a></td><td colspan="1">Doplnění tlačítka pro zobrazení souhrnného itineráře (naznačeno modře).</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Souhrnný itinerář denních výkonů</a></td><td colspan="1">Doplněn popis panelu se souhrnným itinerářem (naznačeno modře).</td></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Uživatelská nastavení</a></td><td colspan="1">Doplněn popis s uživatelským nastavením pro souhrnný itinerář (naznačeno modře).</td></tr></tbody></table><h2>18. 1. 2024: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="206uc01-114460020.html">ALG06: Barevné značení objednaných služeb</a></td><td colspan="1">Zobrazení objednané služby naplánované na denní výkon s jiným datem realizace (naznačeno modře).</td></tr></tbody></table><h2>28. 3. 2023: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="206uc01-114460020.html">Dostupné provozovny</a></td><td colspan="1">Revize dostupných provozoven (naznačeno modře).</td></tr></tbody></table><h2>14. 3. 2023: Tomáš Nadrchal</h2><p>Změny oproti stávajícímu chování graficky odlišeny (naznačeno modře). </p><div><em><br></em></div>
</div>
</body>
</html>
