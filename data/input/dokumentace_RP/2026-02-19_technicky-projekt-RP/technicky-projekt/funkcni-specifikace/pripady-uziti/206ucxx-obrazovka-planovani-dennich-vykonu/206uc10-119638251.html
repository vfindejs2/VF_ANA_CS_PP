<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>206UC10: Zobrazit panel souhrnného itineráře denních výkonů</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je zobrazení souhrnného itineráře denních výkonů, který je v režimu pro čtení (není možné provádět žádné úpravy). Dostupné denní výkony pak nejsou omezeny typem dopravy.</p><p>Poznámka: Panel je zobrazen ve formě modálního okna.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="../../../high-level-concept/akteri-78680673.html">Aktéři</a>.</p><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na zobrazení panelu se souhrnným itinerářem denních výkonů, a to jedním z uvedených způsobů:</p><ul><li>Uživatel zobrazí souhrnný itinerář denních výkonů na obrazovce plánování denních výkonů (viz <a href="#" data-page-title="206UC01: Zobrazit obrazovku plánování denních výkonů"></a>).<br><ul><li><em>Dostupnost panelu v rámci tohoto UC může být omezena konfigurační hodnotou <strong>advancedUseCasesAvailability.dailyRoutesSummaryItinerary</strong> (viz <a href="../../../konfiguracni-81592468.html">Konfigurační hodnoty</a>).</em></li></ul></li></ul><h2>Vstupní podmínky</h2><p>Uživatel má oprávnění na zobrazení obrazovky plánování denních výkonů (viz <a href="206uc01-114460020.html">206UC01: Zobrazit obrazovku plánování denních výkonů</a>).</p><h2>Vstupní data</h2><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Provozovna</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Provozovna</a></td><td colspan="1">Ano</td><td colspan="1"><p>Provozovna, v rámci které probíhá plánování denních výkonů.</p></td><td colspan="1">–</td></tr><tr><td colspan="1">Datum realizace</td><td colspan="1">Datum</td><td colspan="1">Ano</td><td colspan="1">Datum realizace, ve který probíhá plánování denních výkonů.</td><td colspan="1">–</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Systém zobrazí panel se souhrnným itinerářem denních výkonů (viz <a href="206uc10-119638251.html">Uživatelské rozhraní</a>).<br><ol><li>Systém provede inicializaci použité komponenty pro zobrazení kalendáře (viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>):<br><ul><li>Veřejný atribut <strong>Šířka kalendáře</strong> je nastaven dle konfigurační hodnoty <strong>dailyRoutesItinerarySettings.calendarDefaultWidth</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty"></a>).</li><li>Veřejný atribut <strong>Výška hlavičky kalendáře</strong> je nastaven dle konfigurační hodnoty <strong>dailyRoutesItinerarySettings.calendarDefaultHeaderHeight</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty"></a>).</li><li>Veřejný atribut <strong>Dostupnost označování kalendářů</strong> je nastaven na hodnotu <strong>Vypnuto</strong> (viz <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc10-119638249.html">Dostupnost označování kalendářů</a>).</li><li>Veřejný atribut <strong>Dostupnost Drag&Drop režimu</strong> je nastaven na hodnotu <strong>Vypnuto</strong> (viz <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc10-119638249.html">Dostupnost Drag&Drop režimu</a>).</li></ul></li><li>Systém načte <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> pro zobrazení na obrazovce plánování (viz <a href="206uc10-119638251.html">ALG01: Získat denní výkony</a>).</li><li>Systém zobrazí načtené <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> v kalendáři (viz <a href="206uc10-119638251.html">ALG02: Zobrazit denní výkony</a>).</li></ol></li><li>Systém zpřístupní dostupné funkčnosti.</li></ol><h1>Alternativní toky událostí</h1><h2>AF01: Nastavit rozložení panelu objednané služby</h2><p>Alternativní tok událostí slouží ke specifikaci rozložení panelu <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>. Použité nastavení je pak uloženo a v kontextu daného uživatele a je dále používáno při vykreslení přehledu (jeho panelů).</p><h3>Vstupní podmínky</h3><ul><li>Jsou splněny vstupní podmínky v rámci <a href="206uc09-115606107.html">206UC09: Zobrazit formulář pro nastavení panelu objednané služby</a>.</li></ul><h3>Tok událostí</h3><ol><li>Systém zobrazí formulář pro nastavení panelu objednané služby – spustí <a href="206uc09-115606107.html">206UC09: Zobrazit formulář pro nastavení panelu objednané služby</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Nadpis formuláře</strong>: Nastavit panel objednané služby.</li><li><strong>Nastavení panelu objednané služby</strong>: aktuálně nastavená <a href="206uc08-115605974.html">Specifikace rozložení panelu</a> v rámci <a href="206uc10-119638251.html">Uživatelského nastavení</a> (funkční celek <strong>Panel objednané služby</strong>).</li></ul></li><li>Uživatel vyplní formulář.</li><li>Pokud uživatel zruší provedené změny:<br><ol><li>Přechod na krok 6.</li></ol></li><li>Uživatel potvrdí provedené změny.</li><li>Systém aktualizuje nastavenou <a href="206uc08-115605974.html">Specifikace rozložení panelu</a> v rámci <a href="206uc10-119638251.html">Uživatelského nastavení</a> (funkční celek <strong>Panel objednané služby</strong>).<br><ul><li>Předá hodnotu výstupního parametru <strong>Nastavení panelu objednané služby</strong> získanou v rámci <a href="206uc09-115606107.html">206UC09: Zobrazit formulář pro nastavení panelu objednané služby</a>.</li></ul></li><li>Systém zavře formulář nádoby.</li><li>Systém aktualizuje souhrnný itinerář denních výkonů následovně…<br><ol><li>Nastaví rozložení <strong>Panelu objednané služby</strong> dle <a href="206uc08-115605974.html">Specifikace rozložení panelu</a> uložené v rámci <a href="206uc10-119638251.html">Uživatelského nastavení</a> (funkční celek <strong>Panel objednané služby</strong>).</li><li>Aktualizuje ikonu tlačítka pro nastavení rozložení <strong>Panelu objednané služby</strong> (komponenta 11, viz <a href="206uc10-119638251.html">Nástrojová lišta</a>).</li></ol></li></ol><h3>Výstupní podmínky</h3><ul><li>Došlo ke změně rozložení panelu objednané služby (viz <a href="206uc08-115605974.html">206UC08: Zobrazit panel objednané služby</a>).</li></ul><h1>Výjimkové toky událostí</h1><p>–</p><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Uživateli byl zobrazen panel se souhrnným itinerářem denních výkonů, ve kterém zobrazené záznamy a dostupné funkce odpovídají jeho uživatelským oprávněním.</p><h2>Výstupní data</h2><p>–</p><h1>Algoritmy</h1><h2>ALG01: Získat denní výkony</h2><p>V rámci panelu zobrazujeme <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> odpovídající <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> v daný den realizace. Dostupné jsou tedy takové <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, které splňují všechny dále uvedené podmínky zároveň: </p><ul><li>Hodnota atributu <strong>Provozovna</strong> odpovídá na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a> (vstupní parametr <strong>Provozovna</strong>).</li><li>Hodnota atributu <strong>Datum realizace</strong> je roven na vstupu získanému datu (vstupní parametr <strong>Datum realizace</strong>).</li></ul><p>Získané <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> mohou být dále omezeny nastavením provedeným v rámci tohoto panelu (způsob filtrace popsán spolu s uvedenými komponentami)…</p><ul><li>textový filtr (komponenta 1),</li><li>zvolený <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> (komponenta 2),</li><li>stav <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (komponenta 3). </li></ul><p>Získané <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> jsou pak předány v dále uvedeném pořadí…</p><ul><li>Vzestupně dle hodnoty atributu <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> (pořadí dáno dle interního identifikátoru, jako např. v rozbalovacích nabídkách s <a href="../../../datove-modely/datovy-78681044.html">Typem dopravy</a>).<br><ul><li><em>Jednotlivé <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> jsou zobrazovány po skupinách právě dle <a href="../../../datove-modely/datovy-78681044.html">Typu dopravy</a>.</em></li></ul></li><li>Vzestupně dle hodnoty atributu <strong>Vytvořen uživatelem</strong> (jako první jsou zobrazeny <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> generované systémem).</li><li>Vzestupně dle hodnoty atributu <strong>Textová identifikace vozidla</strong> (v rámci skupin řazeno abecedně dle identifikace <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>).<br><ul><li><em>Pokud není hodnota k dispozici, je takový <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> umístěn na konec v rámci dané skupiny.</em></li><li><em>Pokud je takových <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> v rámci skupiny více, jsou seřazeny vzestupně dle interního identifikátoru.</em></li><li><em>Pořadí odpovídá situaci, kdy jsou <em><a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> zobrazovány na obrazovce plánování, v rámci kterého je tento UC spouštěn.</em></em></li></ul></li></ul><p>Poznámka: Výstupem algoritmu může být prázdná kolekce.</p><h2>ALG02: Zobrazit denní výkony</h2><p>Algoritmus zajišťuje zobrazení načtených <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> (viz <a href="206uc10-119638251.html">ALG01: Získat denní výkony</a>) v kalendáři. Spouštěn pak může být v těchto případech:</p><ul><li>spuštění UC (inicializace kalendáře a jeho první zobrazení),</li><li>filtrování dostupných informací (viz komponenty 1, 2, 3),</li><li>obnovení zobrazených informací (viz komponenta 4).</li></ul><p>Zpracování získaných <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> a jejich zobrazení v kalendáři probíhá následovně…</p><ol><li>Systém vyčistí obsah vertikálního kalendáře – zavolá funkci <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc10-119638249.html">Odebrat data</a> (viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>).</li><li>Systém si připraví pomocné proměnné, s kterými v rámci algoritmu pracuje…<ul><li><strong>Aktuální typ dopravy</strong> – takový <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a>, pro který jsou aktuálně vkládány <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>.</li></ul></li><li>Pro všechny získané <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> v odpovídajícím pořadí (viz <a href="206uc10-119638251.html">ALG01: Získat denní výkony</a>):<ol><li>Pokud se liší hodnota pomocné proměnné <strong>Aktuální typ dopravy</strong> (nebo není k dispozici) od hodnoty atributu <strong>Typ dopravy</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>:<br><ol><li>Systém vloží novou skupinu do vertikálního kalendáře – zavolá funkci <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc10-119638249.html">Vložit skupinu</a> (viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>).<br><ul><li><strong>Identifikátor skupiny</strong>: hodnota atributu <strong>Název</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> získané v rámci atributu <strong>Typ dopravy</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li><strong>Barva skupiny</strong>: hodnota konfiguračního parametru <strong>uiBrandingConfiguration.primaryColor</strong> (parametr není zanesen v dokumentaci).</li><li><strong>Obsah panelu</strong>: hodnota atributu <strong>Název</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> získané v rámci atributu <strong>Typ dopravy</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (předán prostý text).<ul><li><strong>Barva textu</strong>: hodnota konfiguračního parametru <strong>uiBrandingConfiguration.bookmarkTextColor</strong> (parametr není zanesen v dokumentaci).</li></ul></li></ul></li><li>Systém aktualizuje hodnotu pomocné proměnné <strong>Aktuální typ dopravy</strong> dle hodnoty atributu <strong>Typ dopravy</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ol></li><li>Systém vloží nový kalendář do vertikálního kalendáře – zavolá funkci <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc10-119638249.html">Vložit kalendář</a> (viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>).<br><ul><li><strong>Identifikátor kalendáře</strong>: interní identifikátor právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li><strong>Barva kalendáře</strong>: hodnota konfiguračního parametru <strong>uiBrandingConfiguration.primaryColor</strong> (parametr není zanesen v dokumentaci).<strong><br></strong></li><li><strong>Identifikátor skupiny</strong>: hodnota atributu <strong>Název</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> získané v rámci atributu <strong>Typ dopravy</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li><strong>Obsah panelu</strong>: obsah panelu je získán v rámci <a href="#" data-page-title="206UC13: Zobrazit panel hlavičky denního výkonu"></a>, na vstup jsou předány následující informace:<br><ul><li><strong>Denní výkon</strong>: právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li><li><strong>Barva denního výkonu</strong>: hodnota konfiguračního parametru <strong>uiBrandingConfiguration.primaryColor</strong> (parametr není zanesen v dokumentaci).</li><li><strong>Režim pro čtení</strong>: předána hodnota <strong>TRUE</strong> (jen pro čtení).</li></ul></li><li><strong>Dostupnost Drag&Drop režimu</strong>: předána hodnota <strong>FALSE</strong> (režim není dostupný).</li></ul></li><li>Pro všechny <a href="../../../datove-modely/datovy-78681044.html">Intervaly omezení denního výkonu</a> obsažené v rámci právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> v odpovídajícím pořadí (viz <a href="206uc10-119638251.html">ALG03: Získat intervaly omezení denního výkonu</a>):<br><ol><li>Systém vloží novou položku kalendáře do vertikálního kalendáře – zavolá funkci <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc10-119638249.html">Vložit položku kalendáře</a> (viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>):<br><ul><li><strong>Identifikátor položky</strong>: interní identifikátor právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Intervalu omezení denního výkonu</a>.</li><li><strong>Identifikátor kalendáře</strong>: interní identifikátor právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li><strong>Obsah panelu</strong>: obsah panelu získán v rámci <a href="#" data-page-title="206UC12: Zobrazit panel intervalu omezení denního výkonu">206UC12: Zobrazit panel intervalu omezení denního výkonu</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Interval omezení denního výkonu</strong>: právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Interval omezení denního výkonu</a>.</li></ul></li><li><strong>Dostupnost Drag&Drop režimu</strong>: předána hodnota <strong>FALSE</strong> (režim není dostupný).</li><li><strong>Čas začátku</strong>: hodnota výstupního parametru <strong>Čas začátku</strong> získaná v rámci <a href="#" data-page-title="206UC12: Zobrazit panel intervalu omezení denního výkonu">206UC12: Zobrazit panel intervalu omezení denního výkonu</a>.</li><li><strong>Čas konce</strong>: hodnota výstupního parametru <strong>Čas konce</strong> získaná v rámci <a href="#" data-page-title="206UC12: Zobrazit panel intervalu omezení denního výkonu">206UC12: Zobrazit panel intervalu omezení denního výkonu</a>.<br></li><li><strong>Úroveň vykreslení</strong>: předána hodnota <strong>3</strong>.</li></ul></li></ol></li><li>Systém vloží novou položku kalendáře představující začátek <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> do vertikálního kalendáře:<br><ol><li>Sytém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> – atribut <strong>Lokace objednané služby</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – atribut <strong>Počáteční položka denního výkonu</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li>Systém zavolá funkci <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc10-119638249.html">Vložit položku kalendáře</a> (viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>):<ul><li><strong>Identifikátor položky</strong>: interní identifikátor odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (viz krok <strong>3.d.i</strong>).</li></ul></li></ol><ul><li><ul><li><strong>Identifikátor kalendáře</strong>: interní identifikátor právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li><strong>Obsah panelu</strong>: obsah panelu získán v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>, na vstup jsou předány následující informace:<br><ul><li><strong>Lokace objednané služby</strong>: odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>(viz krok <strong>3.d.i</strong>).</li></ul></li><li><strong>Dostupnost Drag&Drop režimu</strong>: předána hodnota <strong>FALSE</strong> (režim není dostupný).<strong><br></strong></li><li><strong>Čas začátku</strong>: hodnota výstupního parametru <strong>Čas začátku</strong> získaná v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>.</li><li><strong>Čas konce</strong>: hodnota výstupního parametru <strong>Čas konce</strong> získaná v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>.<strong><br></strong></li><li><strong>Úroveň vykreslení</strong>: předána hodnota <strong>1</strong>.</li></ul></li></ul></li><li>Systém vloží novou položku kalendáře představující konec <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> do vertikálního kalendáře:<ol><li>Sytém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> – atribut <strong>Lokace objednané služby</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – atribut <strong>Koncová položka denního výkonu</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li>Systém zavolá funkci <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc10-119638249.html">Vložit položku kalendáře</a> (viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>):<br><ul><li><strong>Identifikátor položky</strong>: interní identifikátor odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (viz krok <strong>3.e.i</strong>).</li><li><strong>Identifikátor kalendáře</strong>: interní identifikátor právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li><strong>Obsah panelu</strong>: obsah panelu získán v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>, na vstup jsou předány následující informace:<br><ul><li><strong>Lokace objednané služby</strong>: odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (viz krok <strong>3.e.i</strong>).<br></li></ul></li><li><strong>Dostupnost Drag&Drop režimu</strong>: předána hodnota <strong>FALSE</strong> (režim není dostupný).<strong><br></strong></li><li><strong>Čas začátku</strong>: hodnota výstupního parametru <strong>Čas začátku</strong> získaná v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>.</li><li><strong>Čas konce</strong>: hodnota výstupního parametru <strong>Čas konce</strong> získaná v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>.<strong><br></strong></li><li><strong>Úroveň vykreslení</strong>: předána hodnota <strong>1</strong>.<br></li></ul></li></ol></li><li>Pro všechny <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> obsažené v rámci právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> v odpovídajícím pořadí (viz <a href="206uc10-119638251.html">ALG04: Získat položky denního výkonu</a>):<br><ol><li>Systém vyhodnotí typ právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> (atribut <strong>Typ položky</strong>, viz <a href="../../../datove-modely/datovy-78681044.html">Typ položky denního výkonu</a>) a provede odpovídající akce:<br><ul><li><strong>Objednaná služba</strong>: systém vloží novou položku kalendáře do vertikálního kalendáře – zavolá funkci <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc10-119638249.html">Vložit položku kalendáře</a>  (viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>):<br><ul><li><strong>Identifikátor položky</strong>: interní identifikátor <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> odkazované v rámci právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> (atribut <strong>Objednaná služba</strong>).</li><li><strong>Identifikátor kalendáře</strong>: interní identifikátor právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li><strong>Obsah panelu</strong>: obsah panelu získán v rámci <a href="#" data-page-title="206UC08: Zobrazit panel objednané služby"></a>, na vstup jsou předány následující informace:<br><ul><li><strong>Objednaná služba</strong>: odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> odkazovaná v rámci právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> (atribut <strong>Objednaná služba</strong>).<br><ul><li><strong>Barevné značení</strong>: hodnota konfiguračního parametru <strong>uiBrandingConfiguration.primaryColor</strong> (parametr není zanesen v dokumentaci).<br><ul><li><em>Ostatní předávané informace (např. pořadové číslo) vychází z nadřazeného UC (viz <a href="206uc10-119638251.html">Spuštění případu užití</a>).</em></li></ul></li></ul></li><li><strong>Režim pro čtení</strong>: předána hodnota <strong>TRUE</strong> (jen pro čtení).</li><li><strong>Automatická výška panelu</strong>: předána hodnota <strong>FALSE</strong> (výška panelu dle doby trvání).</li><li><strong>Zobrazit informace o objednané službě</strong>: předána hodnota <strong>FALSE</strong> (souhrnné informace nejsou zobrazeny).</li><li><em>Poznámka: Předána je také <a href="206uc08-115605974.html">Specifikace rozložení panelu</a> nastavená v rámci <a href="206uc10-119638251.html">AF01: Nastavit rozložení panelu objednané služby</a>.</em></li></ul></li><li><strong>Dostupnost Drag&Drop režimu</strong>: předána hodnota <strong>FALSE</strong> (režim není dostupný).<strong><br></strong></li><li><strong>Čas začátku</strong>: hodnota výstupního parametru <strong>Čas začátku</strong> získaná v rámci <a href="#" data-page-title="206UC08: Zobrazit panel objednané služby"></a>.</li><li><strong>Čas konce</strong>: hodnota výstupního parametru <strong>Čas konce</strong> získaná v rámci <a href="#" data-page-title="206UC08: Zobrazit panel objednané služby"></a>.<strong><br></strong></li><li><strong>Úroveň vykreslení</strong>: předána hodnota <strong>2</strong>.<br></li></ul></li><li><strong>Lokace objednané služby</strong>: systém vloží novou položku kalendáře představující <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> do vertikálního kalendáře:<ol><li>Systém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> – atribut <strong>Lokace objednané služby</strong> právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a>.</li><li>Systém vyhodnotí typ odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (atribut <strong>Typ lokace</strong>, viz <a href="../../../datove-modely/datovy-78681044.html">Typ lokace objednané služby</a>) a provede odpovídající akce: <ul><li><strong>Místo realizace</strong>: uvedená situace nemůže nastat.</li><li><strong>Likvidační místo</strong>: systém vloží novou položku kalendáře do vertikálního kalendáře – zavolá funkci <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc10-119638249.html">Vložit položku kalendáře</a>  (viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>):<br><ul><li><strong>Identifikátor položky</strong>: interní identifikátor odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>.</li><li><strong>Identifikátor kalendáře</strong>: interní identifikátor právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li><strong>Obsah panelu</strong>: obsah panelu získán v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>, na vstup jsou předány následující informace:<br><ul><li><strong>Lokace objednané služby</strong>: odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>.</li></ul></li><li><strong>Dostupnost Drag&Drop režimu</strong>: předána hodnota <strong>FALSE</strong> (režim není dostupný).<strong><br></strong></li><li><strong>Čas začátku</strong>: hodnota výstupního parametru <strong>Čas začátku</strong> získaná v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>.</li><li><strong>Čas konce</strong>: hodnota výstupního parametru <strong>Čas konce</strong> získaná v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>.<strong><br></strong></li><li><strong>Úroveň vykreslení</strong>: předána hodnota <strong>2</strong>.<br></li></ul></li><li><strong>Výchozí likvidační místo</strong>: uvedená situace nemůže nastat.</li><li><strong>Provozovna</strong>: systém vloží novou položku kalendáře do vertikálního kalendáře – zavolá funkci <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc10-119638249.html">Vložit položku kalendáře</a>  (viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>):<br><ul><li><strong>Identifikátor položky</strong>: interní identifikátor odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>.</li><li><strong>Identifikátor kalendáře</strong>: interní identifikátor právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li><strong>Obsah panelu</strong>: obsah panelu získán v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>, na vstup jsou předány následující informace:<br><ul><li><strong>Lokace objednané služby</strong>: odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>.</li></ul></li><li><strong>Dostupnost Drag&Drop režimu</strong>: předána hodnota <strong>FALSE</strong> (režim není dostupný).<strong><br></strong></li><li><strong>Čas začátku</strong>: hodnota výstupního parametru <strong>Čas začátku</strong> získaná v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>.</li><li><strong>Čas konce</strong>: hodnota výstupního parametru <strong>Čas konce</strong> získaná v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>.<strong><br></strong></li><li><strong>Úroveň vykreslení</strong>: předána hodnota <strong>2</strong>.<br></li></ul></li><li><strong>Jiné</strong>: body průjezdu nejsou vykreslovány (počátek a konec denního výkonu řešen samostatně).</li><li><strong>Přestávka</strong>: řešeno v rámci <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> typu <strong>Časový interval</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Typ položky denního výkonu</a>).</li><li><strong>Rozdělení</strong>: řešeno v rámci <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> typu <strong>Rozdělení</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Typ položky denního výkonu</a>).</li><li><strong>Místo dočasného uložení</strong>: uvedená situace nemůže nastat.</li><li><strong>Časový interval</strong>: řešeno v rámci <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> typu <strong>Objednaná služba</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Typ položky denního výkonu</a>).<br></li></ul></li></ol></li><li><strong>Časový interval</strong>: systém vloží novou položku kalendáře do vertikálního kalendáře – zavolá funkci <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc10-119638249.html">Vložit položku kalendáře</a>  (viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>):<br><ul><li><strong>Identifikátor položky</strong>: interní identifikátor <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> odkazované v rámci právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> (atribut <strong>Lokace objednané služby</strong>).</li><li><strong>Identifikátor kalendáře</strong>: interní identifikátor právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li><strong>Obsah panelu</strong>: obsah panelu získán v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>, na vstup jsou předány následující informace:<br><ul><li><strong>Lokace objednané služby</strong>: odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> odkazovaná v rámci právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> (atribut <strong>Lokace objednané služby</strong>).</li></ul></li><li><strong>Dostupnost Drag&Drop režimu</strong>: předána hodnota <strong>FALSE</strong> (režim není dostupný).<strong><br></strong></li><li><strong>Čas začátku</strong>: hodnota výstupního parametru <strong>Čas začátku</strong> získaná v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>.</li><li><strong>Čas konce</strong>: hodnota výstupního parametru <strong>Čas konce</strong> získaná v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>.<strong><br></strong></li><li><strong>Úroveň vykreslení</strong>: předána hodnota <strong>2</strong>.<br></li></ul></li><li><strong>Rozdělení</strong>: systém vloží novou položku kalendáře do vertikálního kalendáře – zavolá funkci <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc10-119638249.html">Vložit položku kalendáře</a>  (viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>):<br><ul><li><strong>Identifikátor položky</strong>: interní identifikátor <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> odkazované v rámci právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> (atribut <strong>Lokace objednané služby</strong>).</li><li><strong>Identifikátor kalendáře</strong>: interní identifikátor právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li><strong>Obsah panelu</strong>: obsah panelu získán v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>, na vstup jsou předány následující informace:<br><ul><li><strong>Lokace objednané služby</strong>: odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> odkazovaná v rámci právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> (atribut <strong>Lokace objednané služby</strong>).</li></ul></li><li><strong>Dostupnost Drag&Drop režimu</strong>: předána hodnota <strong>FALSE</strong> (režim není dostupný).<strong><br></strong></li><li><strong>Čas začátku</strong>: hodnota výstupního parametru <strong>Čas začátku</strong> získaná v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>.</li><li><strong>Čas konce</strong>: hodnota výstupního parametru <strong>Čas konce</strong> získaná v rámci <a href="#" data-page-title="206UC11: Zobrazit panel lokace objednané služby"></a>.<strong><br></strong></li><li><strong>Úroveň vykreslení</strong>: předána hodnota <strong>1</strong>.<br></li></ul></li></ul></li></ol></li></ol></li><li>Systém zadá požadavek na vykreslení kalendáře – zavolá funkci <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc10-119638249.html">Obnovit data</a> (viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>).<ul><li><em>Dochází tedy k vykreslení nově načtených dat.</em></li></ul></li></ol><p>V závěru je uvedeno stručné shrnutí toho, jak algoritmus pracuje…</p><ol><li>Systém připraví kalendář pro zobrazení hodnot – provede jeho vyčištění.</li><li>Systém zpracuje odpovídající denní výkony (v daném pořadí) a vloží je do kalendáře…<br><ol><li>Systém vloží skupinu kalendáře (pokud již není k dispozici).</li><li>Systém vloží kalendář pro právě zkoumaný denní výkon.</li><li>Systém vloží položky kalendáře pro dostupné intervaly omezení (provozní doba, alokace na servis).</li><li>Systém vloží položky kalendáře pro začátek a konec denního výkonu (lokace představující start a cíl).</li><li>Systém vloží položky kalendáře pro položky denního výkonu (objednané služby, lokace objednaných služeb).</li></ol></li><li>Systém vykreslí kalendář – zobrazí nově načtená data o denních výkonech.</li></ol><h2>ALG03: Získat intervaly omezení denního výkonu</h2><p>Algoritmus zajišťuje získání intervalů omezení konkrétního <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>. Na výstupu algoritmu jsou tedy předány takové <a href="../../../datove-modely/datovy-78681044.html">Intervaly omezení denního výkonu</a>, které splňují všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Denní výkon</strong> odkazuje na právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul><p>Získané <a href="../../../datove-modely/datovy-78681044.html">Intervaly omezení denního výkonu</a> jsou předány ve vzestupném pořadí dle hodnoty atributu <strong>Čas omezení od</strong>.</p><h2>ALG04: Získat položky denního výkonu</h2><p>Algoritmus zajišťuje získání položek konkrétního <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>. Na výstupu algoritmu jsou tedy předány takové <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a>, které splňují všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Denní výkon</strong> odkazuje na právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li><li>Záznam není odkazován v rámci atributu <strong>Počáteční položka denního výkonu</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li>Záznam není odkazován v rámci atributu <strong>Koncová položka denního výkonu</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ul><p>Získané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> jsou pak předány ve vzestupném pořadí dle hodnoty atributu <strong>Pořadí</strong>.</p><h1>Validace</h1><p>–</p><h1>Uživatelské rozhraní</h1><p>Panel se souhrnným itinerářem je zobrazen ve formě modálního okna, které je ve „fullscreen“ režimu (přes celou obrazovku). Chování tedy vychází z <a href="../../uzivatelske-rozhrani/700uixx-obecne/700ui10-88033317.html">700UI10: Modální okno</a>.</p><ul><li><strong>Hlavička okna</strong> – obsahuje nástrojovou lištu a tlačítko pro zavření modálního okna (ukončení tohoto UC).</li><li><strong>Plocha okna</strong> – obsahuje vertikální kalendář se zadanými informacemi o <a href="../../../datove-modely/datovy-78681044.html">Denních výkonech</a>.</li><li><strong>Patička okna</strong> – tato část modálního okna není k dispozici.</li></ul><h2>Drátový diagram</h2><p><img src="206uc10-119638251_images/image2024-9-22 13-16-30.png" data-attachment="true"></p><h2>Přehled UI komponent</h2><table><tbody><tr><th>Prvek</th><th>Skupina</th><th>Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1"><a href="206uc10-119638251.html">Nástrojová lišta</a></td><td colspan="1">–</td></tr><tr><td colspan="1">2</td><td colspan="1"><a href="206uc10-119638251.html">Kalendář</a></td><td colspan="1">Jedná se o samostatnou komponentu, viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>.</td></tr></tbody></table><h2>Nástrojová lišta</h2><p>Nástrojová lišta je umístěna v hlavičce modálního okna, součástí je pak také tlačítko pro jeho zavření.</p><h3>Drátový diagram</h3><p><img src="206uc10-119638251_images/image2025-2-25 10-25-38.png" data-attachment="true"></p><h3>Přehled UI komponent</h3><table><tbody><tr><th>Pořadí</div></th><th>Komponenta</div></th><th colspan="1">Nadpis</div></th><th>Typ komponenty</div></th><th>Příklad hodnoty</div></th><th colspan="1">Hodnota</div></th><th colspan="1">Výchozí hodnota</div></th><th colspan="1">Formát</div></th><th colspan="1">Bublinková nápověda</div></th><th colspan="1">Zpřístupněná</div></th><th colspan="1">Viditelná</div></th><th>Chování</div></th><th colspan="1">Validace</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">1</td><td colspan="1">Textový filtr</td><td colspan="1">Vozidlo / Přívěs / Objednavatel</td><td colspan="1"><p>SearchBox</p><ul><li>Barva pruhu: TODO: Dát barvy na jedno místo (#f9c900)</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vozidlo / Přívěs / Objednavatel</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><p>Psaním filtruje záznamy dle dané specifikace, viz <a href="206uc10-119638251.html">Textový filtr denních výkonů</a>.</p></td><td colspan="1">–</td><td colspan="1">Nadpis je zobrazen na pozadí ovládacího prvku (placeholder), a to v případě, kdy není vyplněna hodnota (nejedná se o přehledovou tabulku, proto není nadpis získán dle filtrovaných sloupců).</td></tr><tr><td colspan="1">2</td><td colspan="1">Výběr typu dopravy</td><td colspan="1">–</td><td colspan="1"><p><a href="206uc10-119638251.html">Výběr typu dopravy</a></p><ul><li>Barva pruhu: TODO: Dát barvy na jedno místo (#f9c900)</li></ul></td><td colspan="1">Hákový nakladač, Ramenový nakladač</td><td colspan="1">Entita <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a>.</td><td colspan="1"><p>Je využito uživatelské nastavení (viz <a href="206uc10-119638251.html">Uživatelské nastavení</a>).</p><p>Pokud není k dispozici ani uživatelské nastavení, jsou označeny všechny položky v rámci ovládacího prvku (viz <a href="206uc10-119638251.html">Výběr typu dopravy</a>).</p></td><td colspan="1">Vychází z nadpisu, který je zobrazen v rámci ovládacího prvku (viz <a href="206uc10-119638251.html">Výběr typu dopravy</a>).</td><td colspan="1">Odpovídá nadpisu, který je zobrazen v rámci ovládacího prvku (viz <a href="206uc10-119638251.html">Výběr typu dopravy</a>).</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><p>Dle nastavených <a href="../../../datove-modely/datovy-78681044.html">Typů dopravy</a> se odvíjí dostupné záznamy – záznam je k dispozici, pokud pro odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> existuje alespoň jedna instance entity <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy objektu</a>, která splňuje všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Objekt</strong> odpovídá právě zkoumanému <a href="../../../datove-modely/datovy-78681044.html">Objektu</a>.</li><li>Hodnota atributu <strong>Typ dopravy</strong> odpovídá alespoň jednomu z <a href="../../../datove-modely/datovy-78681044.html">Typů dopravy</a> nastavených v rámci ovládacího prvku.</li></ul><p>Pokud není v rámci ovládacího prvku zvolen ani jeden <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a>, není k dispozici záznam pro žádný z <a href="../../../datove-modely/datovy-78681044.html">Objektů</a> (aktuálně jsou načítány pouze <a href="../../../datove-modely/datovy-78681044.html">Objekty</a> s nastaveným <a href="../../../datove-modely/datovy-78681044.html">Typem dopravy</a>).</p></td><td colspan="1">–</td><td colspan="1">Pokud existuje pro jeden <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> více takových <a href="../../../datove-modely/datovy-78681044.html">Typů dopravy objektu</a>, které vyhovují právě nastaveným <a href="../../../datove-modely/datovy-78681044.html">Typům dopravy</a> v rámci ovládacího prvku, nedochází ke zdvojení záznamů v kalendáři pro daný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>.</td></tr><tr><td colspan="1">3</td><td colspan="1">Jen neschválené denní výkony</td><td colspan="1">–</td><td colspan="1"><p>ToggleButton</p><ul><li>Ikona: ra-date-crossed</li><li>Barva pruhu: TODO: Dát barvy na jedno místo (#f9c900)</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Neschválené denní výkony</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><p>Pokud je tlačítko stisknuto, jsou k dispozici pouze takové <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, které splňují všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Stav</strong> odpovídá jedná z dále uvedených hodnot: <strong>Plánovaný</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>).</li></ul><p>Jinak tlačítko stisknuto není (výchozí stav), k dispozici jsou pak všechny <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>.</p></td><td colspan="1">–</td><td colspan="1">Ve výchozím stavu není tlačítko stisknuto (není nastaven filtr).</td></tr><tr><td colspan="1">4</td><td colspan="1">Jen naplánované denní výkony</td><td colspan="1">–</td><td colspan="1"><p>ToggleButton</p><ul><li>Ikona: ra-empty-field</li><li>Barva pruhu: TODO: Dát barvy na jedno místo (#f9c900)</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Jen naplánované denní výkony</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1"><p>Pokud je tlačítko stisknuto, jsou k dispozici pouze neprázdné <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (viz <a href="206uc10-119638251.html">Jen naplánované denní výkony</a>).</p><p>Jinak tlačítko stisknuto není (výchozí stav), k dispozici jsou pak všechny <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>.</p></td><td colspan="1">–</td><td colspan="1">Ve výchozím stavu není tlačítko stisknuto (není nastaven filtr).</td></tr><tr><td colspan="1">5</td><td colspan="1">Obnovit data</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: ra-refresh</li><li>Barva pruhu: TODO: Dát barvy na jedno místo (#2d6d7d)</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Obnovit</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Načte aktuální data pro kalendář – zavolá funkci <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc10-119638249.html">Obnovit data</a> (viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>).</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">6</td><td colspan="1">Nastavit rozložení panelu objednané služby</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>Ikona: nastavena dle <a href="206uc01-114460020.html">Ikona pro nastavení rozložení panelu objednané služby</a>.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Nastavit rozložení panelu objednané služby</td><td colspan="1">Vždy</td><td colspan="1">Pokud jsou splněny vstupní podmínky volaného alternativního toku.</td><td colspan="1">Po stisknutí dojde ke spuštění <a href="206uc10-119638251.html">AF01: Nastavit rozložení panelu objednané služby</a>.</td><td colspan="1">–</td><td colspan="1">Způsob zobrazení ikony se liší dle aktuálního nastavení rozložení panelu. Tato logika je pak použita napříč celou obrazovkou plánování, proto je popis chování uveden samostatně (viz <a href="206uc01-114460020.html">206UC01: Zobrazit obrazovku plánování denních výkonů</a>).</td></tr><tr><td colspan="1">7</td><td colspan="1">Zavření okna</td><td colspan="1">–</td><td colspan="1"><p>Button</p><ul><li>V rámci ovládacího prvku je zobrazena ikona: ra-cross.</li></ul></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Vždy</td><td colspan="1">Vždy</td><td colspan="1">Dojde k zavření modálního okna a ukončení UC.</td><td colspan="1">–</td><td colspan="1">Stejné chování je možné provést stisknutím klávesy <strong>Esc</strong>.</td></tr></tbody></table><h2>Kalendář</h2><p>Pro zobrazení kalendáře je použita samostatná komponenta, viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>. Výchozí inicializace je prováděna v rámci <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc03-112559262.html">Základního toku událostí</a>, další práce s ní je umožněna pomocí veřejných atributů a funkcí (např. změna šířky kalendáře).</p><p>Poznámka: Při práci s kalendářem zde nevznikají žádné události, na které tento UC reaguje (kalendář je zobrazen v režimu pro čtení).</p><h2>Chování</h2><h3>Textový filtr denních výkonů</h3><p>Specifikace textového filtru <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> je uvedena v tabulce – pokud záznam splňuje alespoň jednu z uvedených podmínek, dojde k jeho zobrazení (v takovém případě tedy <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> odpovídá hledanému textu).</p><table><tbody><tr><th>Podmínka</div></th><th colspan="1">Vyhodnocení</div></th><th>Způsob vyhodnocení</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Identifikátor vozidla</td><td colspan="1">Hodnota atributu <strong>Textová identifikace</strong> vozidla entity <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> odpovídá hledanému textu.</td><td colspan="1">Fulltext</td><td colspan="1">–</td></tr><tr><td colspan="1">Identifikátor přívěsu</td><td colspan="1"><p>Vyhodnocení probíhá oproti entitě <a href="../../../datove-modely/datovy-78681044.html">Přívěs denního výkonu</a>, v rámci které nás zajímají záznamy, které splňují všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Denní výkon</strong> odpovídá jednomu z na vstupu získaných <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> (vstupní parametr <strong>Denní výkony</strong>).</li></ul><p>V rámci získaných záznamů entity <a href="../../../datove-modely/datovy-78681044.html">Přívěs denního výkonu</a> pak vyhodnocujeme hodnotu atributu <strong>Přívěs</strong> následovně:</p><ul><li>Hodnota atributu <strong>Identifikátor objektu</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> odpovídá hledanému textu.</li></ul><p>Pokud některý ze získaných záznamů entity <a href="../../../datove-modely/datovy-78681044.html">Přívěs denního výkonu</a> splňuje uvedené podmínky, je v rámci přehledu zobrazen také odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</p></td><td colspan="1">Fulltext</td><td colspan="1">Přívěsy jsou k denním výkonům přiřazovány pomocí vazební tabulky.</td></tr><tr><td colspan="1">Posádka vozidla</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1"><em>Posádka vozidla řešena v jiné fázi (doplnit také placeholder).</em></td></tr><tr><td colspan="1">Název objednavatele</td><td colspan="1"><p>Vyhodnocení probíhá oproti entitě <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>, v rámci které nás zajímají záznamy, které splňují všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Denní výkon</strong> odpovídá jednomu z na vstupu získaných <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> (vstupní parametr <strong>Denní výkony</strong>).</li><li>Hodnota atributu <strong>Objednaná služba</strong> je různá od <strong>NULL</strong>.</li></ul><p>V rámci získaných záznamů entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> pak vyhodnocujeme hodnotu atributu <strong>Objednaná služba</strong> následovně:</p><ul><li>Hodnota atributu <strong>Název</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Zákazník</a> odpovídá hledanému textu → atribut <strong>Objednavatel</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednávka</a> – atribut <strong>Objednávka</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Položka objednávky</a> – atribut <strong>Položka objednávky</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a> – atribut <strong>Objednaná nádoba</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> – atribut <strong>Objednaný úkon</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> – atribut <strong>Objednaná služba</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>.</li></ul><p>Pokud některý ze získaných záznamů entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> splňuje uvedené podmínky, je v rámci přehledu zobrazen také odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</p></td><td colspan="1">Fulltext</td><td colspan="1">–</td></tr></tbody></table><h3>Výběr typu dopravy</h3><p>Viz <a href="../700ucxx-obecne/702ucxx-kalendare-a-periodicita/702uc03-112559262.html">odkaz</a> (bude doplněno jako samostatná komponenta).</p><h3>Jen naplánované denní výkony</h3><p>Filtr umožňuje skrytí prázdných <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a>…</p><ul><li>Jedná se pak o <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, které neobsahují žádnou <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> (mimo <strong>Start</strong> a <strong>Cíl</strong>).</li><li>Existence odpovídajících <a href="../../../datove-modely/datovy-78681044.html">Intervalů omezení denního výkonu</a> pak není při vyhodnocení brána v potaz.</li></ul><p>Vyhodnocení pak probíhá následovně – pro všechny dostupné <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>…</p><ol><li>Systém získá odpovídající položky právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> – hledá takové <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a>, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Denní výkon</strong> odpovídá právě zkoumanému <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a>.</li><li>Daná <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> není odkazována z atributu <strong>Počáteční položka denního výkonu</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (nejedná se o <strong>Start</strong>).</li><li>Daná <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> není odkazována z atributu <strong>Koncová položka denního výkonu</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (nejedná se o <strong>Cíl</strong>).</li></ul></li><li>Systém vyhodnotí získané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> (viz krok <strong>1</strong>):<br><ul><li>Pokud byl nalezen alespoň jeden záznam – nejedná se o prázdný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (je zobrazen).</li><li>Jinak nebyl nalezen ani jeden záznam – jedná se tedy o prázdný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (není zobrazen).</li></ul></li></ol><h2>Uživatelská nastavení</h2><p>V rámci obrazovky jsou použita <a href="../../persistence-stavu-ui/uzivatelska-86149256.html">Uživatelská nastavení klienta</a>. Prvky, u kterých je ukládáno uživatelské nastavení, jsou uvedeny ve formě tabulky. Jejich výchozí hodnota pak odpovídá popisu uživatelského rozhraní.</p><table><tbody><tr><th>Funkční celek</th><th>Ukládaná hodnota</th><th>Poznámka</th></tr><tr><td colspan="1"><a href="206uc10-119638251.html">Nástrojová lišta</a></td><td colspan="1"><p>Stav ovládacích prvků:</p><ul><li>Výběr typu dopravy (komponenta 2),</li><li>Jen neschválené denní výkony (komponenta 3),</li><li>Jen naplánované denní výkony (komponenta 4).<br></li></ul></td><td colspan="1">–</td></tr><tr><td colspan="1"><a href="206uc10-119638251.html">Kalendář</a></td><td colspan="1"><p>Stav ovládacích prvků:</p><ul><li>Nastavení časové osy.</li></ul></td><td colspan="1">Uživatelské nastavení je popsáno na úrovni použité komponenty (viz <a href="#" data-page-title="702UC10: Zobrazit vertikální kalendář"></a>).</td></tr><tr><td colspan="1">Panel objednané služby</td><td colspan="1">Rozložení panelu</td><td colspan="1">Rozložení panelu je ukládáno dle <a href="206uc08-115605974.html">Specifikace rozložení panelu</a> (viz <a href="206uc08-115605974.html">206UC08: Zobrazit panel objednané služby</a>).</td></tr></tbody></table><h2>Parametry URL</h2><p>–</p><h1>Grafický návrh</h1><p>TODO</p><h1>Revize</h1><h2>25. 2. 2025: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></div></div></div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></div></div></div></th></tr><tr><td colspan="1"><a href="206uc10-119638251.html">Nástrojová lišta</a></td><td colspan="1">Doplněn filtr pro skrytí prázdných DV (naznačeno modře).</td></tr><tr><td colspan="1"><a href="206uc10-119638251.html">Jen naplánované denní výkony</a></td><td colspan="1">Doplněn způsob vyhodnocení prázdných DV (naznačeno modře).</td></tr><tr><td colspan="1"><a href="206uc10-119638251.html">Uživatelská nastavení</a></td><td colspan="1">Rozšíření o filtr pro skrytí prázdných DV (naznačeno modře).</td></tr></tbody></table><h2>4. 10. 2024: Tomáš Nadrchal</h2><table><tbody><tr><th>Odkaz</div></div></div></div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></div></div></div></th></tr><tr><td colspan="1"><a href="206uc10-119638251.html">Základní tok událostí</a></td><td colspan="1">Doplněno nastavení výšky hlavičky kalendáře (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="206uc10-119638251.html">ALG02: Zobrazit denní výkony</a></td><td colspan="1">Revize vstupních parametrů volaných funkcí (naznačeno růžově).</td></tr></tbody></table>
</div>
</body>
</html>
