<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>205UC09: Provést stažení trasy denního výkonu</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je stažení trasy v případě, že dojde např. k odebrání odpovídajícího denního výkonu. Součástí UC je i odeslání notifikace o stažení trasy na právě přihlášené zařízení.</p><p>Poznámka: Podmínkou spuštění případu užití je skutečnost, že je na trasu (resp. denní výkon) přihlášeno zařízení.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="#" data-page-title="Přehled aktérů"></a>.</p><h1>Spuštění případů užití</h1><p>Uživatel zadá požadavek na stažení trasy denního výkonu, a to jedním z uvedených způsobů:</p><ul><li>Uživatel zruší schválení denního výkonu (viz <a href="#" data-page-title="200UC38: Zrušit schválení denního výkonu">200UC38: Zrušit schválení denního výkonu</a>).</li><li>Uživatel odebere přiřazené vozidlo z denního výkonu (viz <a href="#" data-page-title="200UC06: Odebrat vozidlo denního výkonu">200UC06: Odebrat vozidlo denního výkonu</a>).</li></ul><h2>Vstupní podmínky</h2><ul><li>Na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr Denní výkon) má nastavený datum realizace (atribut Datum realizace) na dnešní datum.</li><li>Na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr Denní výkon) je v jednom uvedených stavů (atribut Stav):<br><ul><li>Schválený,</li><li>Plněný.</li></ul></li><li>Existuje alespoň jeden záznam o <a href="../../../datove-modely/datovy-78681044.html">Přihlášeném zařízení na denním výkonu</a>, který splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Jedná se o aktivní záznam.</li><li>Hodnota atributu Denní výkon odpovídá na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> (vstupní parametr Denní výkon).</li></ul></li></ul><h2>Vstupní data</h2><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Denní výkon</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a></td><td colspan="1">Ano</td><td colspan="1">Denní výkon, pro který je požadováno provedení stažení trasy.</td><td colspan="1">–</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Systém nalezne takový záznam o <a href="../../../datove-modely/datovy-78681044.html">Přihlášeném zařízení na denním výkonu</a>, který splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Jedná se o aktivní záznam.</li><li>Hodnota atributu Denní výkon odpovídá na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> (vstupní parametr Denní výkon).</li></ul></li><li>Systém odebere záznam o <a href="../../../datove-modely/datovy-78681044.html">Přihlášeném zařízení na denním výkonu</a> – spustí <a href="#" data-page-title="205UC05: Odebrat záznam o přihlášeném zařízení na denním výkonu"></a>, na vstup jsou předány následující informace:<br><ul><li>Odebíraný záznam o přihlášeném zařízení na denním výkonu: právě zkoumaná instance entity <a href="../../../datove-modely/datovy-78681044.html">Přihlášené zařízení na denním výkonu</a> (viz krok 1).</li></ul></li><li>Systém nalezne takový záznam o <a href="../../../datove-modely/datovy-78681044.html">Aktuální verzi komunikačního protokolu zařízení</a>, který splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Jedná se o aktivní záznam.</li><li>Hodnota atributu Přihlášené zařízení je rovna hodnotě atributu Přihlášené zařízení právě zkoumané instance entity <a href="../../../datove-modely/datovy-78681044.html">Přihlášené zařízení na denním výkonu</a> (viz krok 1).</li></ul></li><li>Pokud je nalezen záznam o <a href="../../../datove-modely/datovy-78681044.html">Aktuální verzi komunikačního protokolu zařízení</a>, systém odešle notifikaci o stažení trasy – spustí <a href="https://confluence.radium.cz/display/mpgskdispecer/602UC11%3A+Odeslat+notifikaci+o+akci+nad+trasou+na+FOB">602UC11: Odeslat notifikaci o akci nad trasou na FOB</a>, na vstup jsou předány následující informace:<br><ul><li>Identifikátor objektu: hodnota atributu Přihlášené zařízení právě zkoumané instance entity <a href="../../../datove-modely/datovy-78681044.html">Přihlášené zařízení na denním výkonu</a> (viz krok 1).</li><li>Verze komunikačního protokolu: hodnota atributu Verze komunikačního protokolu právě zkoumané instance entity <a href="../../../datove-modely/datovy-78681044.html">Aktuální verzi komunikačního protokolu zařízení</a> (viz krok 3).</li><li>Identifikátor trasy: interní identifikátor na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr Denní výkon).</li><li>Akce nad trasou: REMOVE (viz <a href="../../../datove-modely/datovy-78681044.html">Akce nad trasou</a>).</li></ul></li></ol><h1>Alternativní toky událostí</h1><p>–</p><h1>Výjimkové toky událostí</h1><p>–</p><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Došlo ke stažení trasy denního výkonu. Pokud jsou splněny další podmínky, došlo k odeslání této informace na přihlášené zařízení.</p><h2>Výstupní data</h2><p>–</p><h1>Algoritmy</h1><p>–</p><h1>Validace</h1><p>–</p><h1>Uživatelské rozhraní</h1><p>–</p><h1>Grafický návrh</h1><p>–</p><h1>Revize</h1><p>–</p>
</div>
</body>
</html>
