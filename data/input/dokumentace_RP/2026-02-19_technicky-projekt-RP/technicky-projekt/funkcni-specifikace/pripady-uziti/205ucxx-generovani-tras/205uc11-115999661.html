<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>205UC11: Rozdělit souhrnný itinerář trasy denního výkonu</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je rozdělení vygenerovaného souhrnného itineráře trasy pro konkrétní denní výkon na jednotlivé části. Požadovaná část je pak předány na výstupu UC, a to v přímo v „komprimované“ podobě (tak, jak bude odesílána).</p><p>Poznámka: Na výstupu UC je předávána vždy maximálně jedna část trasy. Při implementaci však nemusí být dělení trasy prováděno při každém požadavku na její konkrétní část. To platí především v případech, kdy se FOB ptá na více částí souhrnného itineráře trasy zároveň (např. 1 až 10). Souhrnný itinerář trasy jako takový stačí rozdělit jen jednou, přepočet je nutný např. až v případě aktualizace odpovídajícího denního výkonu.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr><tr><td colspan="1">FOB</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="#" data-page-title="Přehled aktérů"></a>.</p><h1>Spuštění případů užití</h1><p>Uživatel zadá požadavek na …, a to jedním z uvedených způsobů:</p><ul><li>Uživatel…TODO</li></ul><p>FOB zadá požadavek na rozdělení souhrnného itineráře trasy denního výkonu, a to jedním z uvedených způsobů:</p><ul><li>FOB zadá požadavek na získání souhrnného itineráře trasy (viz <a href="#" data-page-title="602UC12: Přijmout požadavek na získání konkrétních částí souhrnného itineráře trasy z FOB"></a>).</li></ul><h2>Vstupní podmínky</h2><h2>Vstupní data</h2><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Souhrnný itinerář trasy</td><td colspan="1">Řetězec (json)</td><td colspan="1">Ano</td><td colspan="1">Souhrnný itinerář trasy, u kterého je požadováno rozdělení na jednotlivé části.</td><td colspan="1">–</td></tr><tr><td colspan="1">Pořadí části souhrnného itineráře trasy</td><td colspan="1">Číslo</td><td colspan="1">Ano</td><td colspan="1">Pořadové číslo požadované části souhrnného itineráře trasy.</td><td colspan="1">–</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Systém převede na vstupu získanou trasu (vstupní parametr <strong>Souhrnný itinerář trasy</strong>) na bitové pole (UTF-8). Kódování je zajištěno pomocí <a href="https://confluence.radium.cz/display/FLWW2/Protocol+Buffers">Protocol Buffers</a>.</li><li>Systém rozdělí bitové pole na jednotlivé části tak, aby byly splněny všechny dále uvedené podmínky zároveň:<br><ul><li>Obsah výsledné zprávy (viz <a href="#" data-page-title="602UC01: Odeslat zprávu na FOB">602UC01: Odeslat zprávu na FOB</a>) nepřesáhne maximální povolenou velikost: <strong>fobMaxPacketSize</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty"></a>).</li></ul></li><li>Systém nastaví hodnoty výstupních parametrů UC:<br><ul><li><strong>Část souhrnného itineráře trasy</strong>: konkrétní část trasy dle požadovaného pořadí (vstupní parametr <strong>Pořadí části souhrnného itineráře trasy</strong>)</li><li><strong>Počet částí souhrnného itineráře trasy</strong>: celkových počet částí.</li></ul></li></ol><p>Poznámka: Kódování trasy pomocí <a href="https://confluence.radium.cz/display/FLWW2/Protocol+Buffers">Protocol Buffers</a> a její převod na bitové pole (UTF-8) je zajištěn dodavatelem systému. Samotné chování je pak nutné řešit ve spolupráci s dodavatelem FOB – musí být zajištěna kompatibilita na obou stranách komunikace.</p><h1>Alternativní toky událostí</h1><p>–</p><h1>Výjimkové toky událostí</h1><h2>EF01: Rozdělení souhrnného itineráře trasy skončilo chybou</h2><h3>Vstupní podmínky</h3><ul><li>Rozdělení souboru se trasou skončilo chybou.</li></ul><h3>Tok událostí</h3><ol><li>Výjimkový tok událostí začíná krokem 2 základního toku událostí.</li><li>Systém předá na výstupu UC chybové hlášení (MSG_ERR_ITINERARY_SPLIT_NOT_SUCCESSFUL, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Případ užití končí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Nebyl rozdělen soubor se souhrnným itinerářem trasy.</li></ul><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Byla rozdělena na vstupu získaná trasa. Na výstupu byla předána její požadovaná část.</p><h2>Výstupní data</h2><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Část souhrnného itineráře trasy</td><td colspan="1">Řetězec</td><td colspan="1">Ne</td><td colspan="1">Požadovaná část souhrnného itineráře trasy.</td><td colspan="1">Obsah zprávy je kódován pomocí <a href="#" data-page-title="Protocol Buffers">Protocol Buffers</a>, předán je pak jako bitové pole (UTF-8).</td></tr><tr><td colspan="1">Počet částí souhrnného itineráře trasy</td><td colspan="1">Číslo</td><td colspan="1">Ano</td><td colspan="1">Celkový počet částí souhrnného itineráře trasy.</td><td colspan="1">–</td></tr><tr><td colspan="1">Chybové hlášení</td><td colspan="1">–</td><td colspan="1">Ne</td><td colspan="1">V podstatě se jedná o kód chyby, kvůli které nemohl být dokončen UC.</td><td colspan="1"><p>Informace je předána pouze v případě, kdy nebyly splněny výstupní podmínky tohoto UC.</p></td></tr></tbody></table><h1>Algoritmy</h1><p>–</p><h1>Validace</h1><p>–</p><h1>Uživatelské rozhraní</h1><p>–</p><h1>Grafický návrh</h1><p>–</p><h1>Revize</h1><p>–</p>
</div>
</body>
</html>
