<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>201UC09: Změnit pořadí lokace v objednané službě</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl UC</h1><p>Cílem UC je změnit pořadí <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> v rámci jedné <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th>Popis</th><th colspan="1">Typická role</th></tr><tr><td>Uživatel</td><td><p>Jedná se o uživatele aplikace RoadPlan, který musí mít oprávnění spouštět tento UC.</p></td><td colspan="1"><p> </p></td></tr></tbody></table><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na změnu pořadí Lokace objednané služby v rámci Objednané služby jedním z těchto způsobů:</p><ul><li>Změna pořadí Lokace objednané služby v rámci Objednané služby ve formuláři Lokací objednané služby (<a href="#" data-page-title="200UI05: Formulář lokací objednané služby"></a>).</li><li>Změna pořadí Lokace objednané služby v rámci Objednané služby v tabulce s Položkami denního výkonu ve formuláři Denního výkonu (<a href="../../uzivatelske-rozhrani/200uixx/200ui02-83265956.html">200UI02: Formulář denního výkonu</a>).</li></ul><h1>Vstupní podmínky</h1><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na moduly a UC</a>:</p><ul><li>Plánování denních výkonů.</li></ul><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na typ entit</a>:</p><ul><li>Objednané služby - zobrazení a modifikace .</li></ul><p>Poznámka:</p><ul><li>Změnit pořadí Lokace objednané služby je možné pouze u Objednané služby, která se nachází v jednom z uvedených stavů: K naplánování, Naplánovaná.</li><li>Možnost změny pořadí je dána typem <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>:<br><ul><li>Místo realizace – není umožněno,</li><li>Likvidační místo – pouze v rámci <a href="../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a> typu Likvidační místo (musí být dodržena posloupnost <a href="../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a> dle typu, která je dána při jejich generování),</li><li>Výchozí likvidační místo – není umožněno,</li><li>Provozovna – není umožněno,</li><li>Jiné – libovolně v rámci <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>,</li><li>Časový interval – libovolně v rámci <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</li></ul></li></ul><h3>Vstupní data</h3><ul><li>Entita <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</li><li>Entita <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>.</li><li>Pořadí.</li></ul><p>Pořadí se musí pohybovat v uzavřením intervalu, který je tvořen následujícími hranicemi:</p><ul><li>jedna,</li><li>počet <a href="../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a> v <a href="../../../datove-modely/datovy-78681044.html">Objednané službě</a> (atribut Lokace objednané služby entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>, která je získána na vstupu UC).</li></ul><h1>Základní tok událostí</h1><ol><li>Systém změní pořadí zadané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> dle pořadí předaného na vstupu UC.</li><li>Systém aktualizuje pořadí všech zbývajících <a href="../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a> tak, aby vznikla nepřerušená číselná řada začínající číslem jedna (atribut Lokace objednané služby entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>, která je získána na vstupu UC).</li><li>[IF] Pokud je <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> naplánovaná v <a href="../../../datove-modely/datovy-78681044.html">Denním výkonu</a> – atribut Stav entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> nabývá hodnoty Naplánovaná.<br><ol><li>Systém spustí <a href="../200ucxx-planovani-denni-vykony/200uc29-83267154.html">200UC29: Získat trasu denního výkonu</a> pro aktualizaci trasy <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> respektující nově nastavené pořadí (atribut Denní výkon entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – atribut Položka denního výkonu entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>, která je získána na vstupu UC).</li></ol></li><li>[ELSE] Jinak Systém aktualizuje trasu <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> – viz <a href="../101ucxx-objednane-sluzby/101uc01-82116734.html">Získání trasy</a>.</li></ol><h1>Alternativní toky událostí</h1><h3>AF01: Provést aktualizaci trasy</h3><p>Pokud je na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> přihlášeno zařízení (FOB), musí dojít k aktualizaci trasy a odeslání notifikace o této skutečnosti na přihlášené zařízení.</p><h4>Vstupní podmínky</h4><ul><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="205UC08: Provést aktualizaci trasy denního výkonu">205UC08: Provést aktualizaci trasy denního výkonu</a> (pro odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>).</li></ul><h4>Tok událostí</h4><ol><li>Alternativní tok začíná krokem 3.a základního toku událostí.</li><li>Systém provede aktualizaci odpovídající trasy – spustí <a href="#" data-page-title="205UC08: Provést aktualizaci trasy denního výkonu">205UC08: Provést aktualizaci trasy denního výkonu</a>, na vstupu UC jsou předány následující hodnoty:<ul><li>Denní výkon: atribut Denní výkon entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – atribut Položka denního výkonu na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Objednaná služby</a>.</li></ul></li></ol><p>Poznámka: Pokud akce nad <a href="../../../datove-modely/datovy-78681044.html">Denním výkonem</a> proběhne v rámci obrazovky editace (viz <a href="#" data-page-title="200UC02: Upravit denní výkon">200UC02: Upravit denní výkon</a>), není provedena aktualizace trasy. K té dochází až po uložení provedených změn, tedy po dokončení odkazovaného UC.</p><h4>Výstupní podmínky</h4><ul><li>Došlo k aktualizaci trasy odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> a odeslání notifikace na přihlášené zařízení (pokud jsou splněny další podmínky).</li></ul><h1>Výjimkové toky událostí</h1><p>Nejsou.</p><h1>Výstupní podmínky</h1><ul><li>Bylo změněno pořadí <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> v rámci odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</li></ul><h1>Validace</h1><p>Nejsou.</p><h1>Algoritmy</h1><p>Nejsou.</p><h1>Uživatelské rozhraní</h1><p>Není.</p><h1>Revize</h1><h3>23. 2. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="201uc09-84215994.html">Vstupní podmínky</a></td><td colspan="1">Doplněno chování pro nový typ lokace objednané služby (naznačeno modře).</td></tr></tbody></table><h3>23. 10. 2021: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="201uc09-84215994.html">AF01: Provést aktualizaci trasy</a></td><td colspan="1">Doplnění aktualizace trasy odpovídajícího denního výkonu (naznačeno růžově).</td></tr></tbody></table>
</div>
</body>
</html>
