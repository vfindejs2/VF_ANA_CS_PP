<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>201UC10: Přidat lokaci typu jiné do objednané služby</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl UC</h1><p>Cílem UC je přidání <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> typu Jiné do zvolené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th>Popis</th><th colspan="1">Typická role</th></tr><tr><td>Uživatel</td><td><p>Jedná se o uživatele aplikace RoadPlan, který musí mít oprávnění spouštět tento UC.</p></td><td colspan="1"><p> </p></td></tr></tbody></table><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na přidání Lokace objednané služby typu Jiné do Objednané služby jedním z těchto způsobů:</p><ul><li>Přidání Lokace objednané služby typu Jiné do Objednané služby změnou pozice v tabulce s Položkami denního výkonu ve formuláři Denního výkonu (<a href="../../uzivatelske-rozhrani/200uixx/200ui02-83265956.html">200UI02: Formulář denního výkonu</a>).</li><li>Přidání Lokace objednané služby typu Jiné do Objednané služby interakcí v mapě ve formuláři Denního výkonu (<a href="../../uzivatelske-rozhrani/200uixx/200ui02-83265956.html">200UI02: Formulář denního výkonu</a>).</li></ul><h1>Vstupní podmínky</h1><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na moduly a UC</a>:</p><ul><li>Plánování denních výkonů.</li></ul><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na typ entit</a>:</p><ul><li>Objednané služby - zobrazení a modifikace .</li></ul><p>Poznámka: Přidat <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> typu Jiné je možné pouze u Objednané služby, která se nachází v jednom z uvedených stavů: Naplánovaná.</p><h3>Vstupní data</h3><ul><li>Entita <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</li><li>Pořadí.</li><li>Nepovinné: Entita <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>.</li><li>Nepovinné: Entita <a href="../../../datove-modely/datovy-78681044.html">Adresa</a>.</li><li>Nepovinné: Souřadnice.</li><li>Nepovinné: Poznámka.</li></ul><p>Poznámka: Je předána buď <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>, nebo <a href="../../../datove-modely/datovy-78681044.html">Adresa</a> spolu se souřadnicemi.</p><p>Pořadí se musí pohybovat v uzavřením intervalu, který je tvořen následujícími hranicemi:</p><ul><li>jedna,</li><li>počet <a href="../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a> v <a href="../../../datove-modely/datovy-78681044.html">Objednané službě</a> + 1 (atribut Lokace objednané služby entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>, která je získána na vstupu UC).</li></ul><h1>Základní tok událostí</h1><ol><li>[IF] Pokud na vstupu není předána <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>, Systém ji vytvoří:<br><ul><li>Pořadí: Pořadí získané na vstupu UC.</li><li>Akce: Navštívit.</li><li>Typ lokace: Jiné.</li><li>Adresa: <a href="../../../datove-modely/datovy-78681044.html">Adresa</a> získaná na vstupu UC.</li><li>Souřadnice: Souřadnice získané na vstupu UC.</li><li>Manuální posun souřadnic: FALSE.</li><li>Místo realizace: NULL.</li><li>Likvidační místo: NULL.</li><li>Provozovna: NULL.</li><li>Doba manipulace: 0.</li><li>Doba trvání: NULL.</li><li>Platná: TRUE.</li><li>Provést: TRUE.</li><li>Začátek časového okna: 0:00.</li><li>Konec časového okna: 23:59.</li><li>Splněno časové okno: TRUE.</li><li>Vzdálenost do další lokace: NULL (bude doplněno v rámci aktualizace trasy <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>).</li><li>Doba jízdy do další lokace: NULL (bude doplněno v rámci aktualizace trasy <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>).</li><li>Trasa do další lokace: NULL (bude doplněno v rámci aktualizace trasy <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>).</li><li>Poznámka: Poznámka získaná na vstupu UC (může být NULL).</li><li>Monitoring realizace: FALSE.</li><li>Obsluha lokace objednané služby: NULL.</li><li>Fakturace: NULL.</li><li>Druhy odpadu: NULL.</li></ul></li><li>Systém přidá získanou/vytvořenou <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> na zadané pořadí v <a href="../../../datove-modely/datovy-78681044.html">Objednané službě</a> (atribut Lokace objednané služby entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>, která je získána na vstupu UC).</li><li>Systém aktualizuje pořadí všech zbývajících <a href="../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a> tak, aby vznikla nepřerušená číselná řada začínající číslem jedna (atribut Lokace objednané služby entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>, která je získána na vstupu UC).</li><li>Systém spustí <a href="../200ucxx-planovani-denni-vykony/200uc29-83267154.html">200UC29: Získat trasu denního výkonu</a> pro aktualizaci trasy <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> respektující nově nastavené pořadí (atribut Denní výkon entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – atribut Položka denního výkonu entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>, která je získána na vstupu UC).</li></ol><h1>Alternativní toky událostí</h1><h3>AF01: Provést aktualizaci trasy</h3><p>Pokud je na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> přihlášeno zařízení (FOB), musí dojít k aktualizaci trasy a odeslání notifikace o této skutečnosti na přihlášené zařízení.</p><h4>Vstupní podmínky</h4><ul><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="205UC08: Provést aktualizaci trasy denního výkonu">205UC08: Provést aktualizaci trasy denního výkonu</a> (pro odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>). </li></ul><h4>Tok událostí</h4><ol><li>Alternativní tok začíná krokem 4 základního toku událostí.</li><li>Systém provede aktualizaci odpovídající trasy – spustí <a href="#" data-page-title="205UC08: Provést aktualizaci trasy denního výkonu">205UC08: Provést aktualizaci trasy denního výkonu</a>, na vstupu UC jsou předány následující hodnoty:<ul><li>Denní výkon: atribut Denní výkon entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – atribut Položka denního výkonu na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</li></ul></li></ol><p>Poznámka: Pokud akce nad <a href="../../../datove-modely/datovy-78681044.html">Denním výkonem</a> proběhne v rámci obrazovky editace (viz <a href="#" data-page-title="200UC02: Upravit denní výkon">200UC02: Upravit denní výkon</a>), není provedena aktualizace trasy. K té dochází až po uložení provedených změn, tedy po dokončení odkazovaného UC.</p><h4>Výstupní podmínky</h4><ul><li>Došlo k aktualizaci trasy odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> a odeslání notifikace na přihlášené zařízení (pokud jsou splněny další podmínky).</li></ul><h1>Výjimkové toky událostí</h1><p>Nejsou.</p><h1>Výstupní podmínky</h1><ul><li>Do <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> byla přidána <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> typu Jiné.</li></ul><h1>Validace</h1><p>Nejsou.</p><h1>Algoritmy</h1><p>Nejsou.</p><h1>Uživatelské rozhraní</h1><p>Není.</p><h1>Revize</h1><h3>23. 10. 2021: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="201uc10-84216008.html">AF01: Provést aktualizaci trasy</a></td><td colspan="1">Doplnění aktualizace trasy odpovídajícího denního výkonu (naznačeno růžově).</td></tr></tbody></table><h3>28. 3. 2021: Tomáš Nadrchal</h3><p>Provedeny změny v rámci celého dokumentu (naznačeno modře). Viz <a href="../../../rp-sprava-pozadavku/id-89065686.html">ID-040: Násobné rozdělení objednané služby</a>.</p><h3>22. 5. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</th><th>Stručný popis změny/doplnění</th></tr><tr><td colspan="1"><a href="201uc10-84216008.html">Základní tok událostí</a></td><td colspan="1">Aktualizace dle změn v datovém slovníku (naznačeno modře).</td></tr></tbody></table>
</div>
</body>
</html>
