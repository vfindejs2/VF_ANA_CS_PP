<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>602UC07: Přijmout požadavek na získání dostupných tras z FOB</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je přijetí zprávy z rozhraní aplikace FOB, která požaduje poskytnutí dostupných tras.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">FOB</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="#" data-page-title="Přehled aktérů"></a>.</p><h1>Spuštění případů užití</h1><p>FOB zadá požadavek na získání dostupných tras, a to jedním z uvedených způsobů:</p><ul><li>FOB odešle zprávu obsahující požadavek na získání dostupných tras (viz <a href="#" data-page-title="602UC02: Přijmout zprávu z FOB"></a>).</li></ul><h2>Vstupní podmínky</h2><p>–</p><h2>Vstupní data</h2><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Identifikátor objektu</td><td colspan="1">Číslo</td><td colspan="1">Ano</td><td colspan="1">Identifikace objektu (entita FLWW2), z kterého byla přijata zpráva.</td><td colspan="1">–</td></tr><tr><td colspan="1">Obsah zprávy</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Obsah, který byl v rámci zprávy přijat.</td><td colspan="1"><p>Musí být předáno ve formátu dle standardu XML.</p></td></tr><tr><td colspan="1">Identifikátor zprávy</td><td colspan="1">Řetězec</td><td colspan="1">Ne</td><td colspan="1">Identifikátor přijaté zprávy.</td><td colspan="1">–</td></tr><tr><td colspan="1">Verze komunikačního protokolu</td><td colspan="1">Řetězec</td><td colspan="1">Ano</td><td colspan="1">Verze, od které se odvíjí struktura obsahu zprávy.</td><td colspan="1">Jedná se o verzi použité XML obálky pro obsah zprávy (její struktury).</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Systém nalezne takové <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a>, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu Datum realizace entity <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> je rovna dnešnímu dni.</li><li>Hodnota atributu Stav entity entity <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> je rovna jedná z uvedených hodnot: Schválený, Plněný.</li><li>Hodnota atributu Externí identifikátor FLW entity <a href="../../../datove-modely/datovy-78681044.html">Vozidlo</a> (atribut Vozidlo entity <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>) je rovna hodnotě vstupního parametru Identifikátor objektu.</li></ul></li><li>Systém odešle seznam dostupných tras na FOB – spustí <a href="#" data-page-title="602UC08: Odeslat dostupné trasy na FOB">602UC08: Odeslat dostupné trasy na FOB</a>, na vstup jsou předány následující informace:<br><ul><li>Identifikátor objektu: hodnota vstupního parametru Identifikátor objektu.</li><li>Identifikátor odpovědní zprávy: hodnota vstupního parametru Identifikátor zprávy.</li><li>Verze komunikačního protokolu: hodnota vstupního parametru Verze komunikačního protokolu.</li><li>Denní výkony: nalezené <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> v kroku 1 (aktuálně by měl být nalezen maximálně jeden <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>, nemusí však být předán žádný).</li></ul></li></ol><p>Poznámka: V rámci zprávy nejsou aktuálně k dispozici žádné informace (nejsou pro vyhodnocení požadavku potřeba). Pro úplnost je doplněn alespoň náhled paketu, který je odesílán z FOB (zobrazené hodnoty jsou pouze ilustrativní).</p>html/xml1<h1>Alternativní toky událostí</h1><p>–</p><h1>Výjimkové toky událostí</h1><h2>EF01: Čtení obsahu zprávy skončilo chybou</h2><h3>Vstupní podmínky</h3><ul><li>Při čtení obsahu zprávy došlo k chybě.</li></ul><h3>Tok událostí</h3><ol><li>Výjimkový tok událostí začíná krokem 1 základního toku událostí.</li><li>Systém předá na výstupu UC chybové hlášení (MSG_ERR_FOB_PACKET_CONTENT_READ_NOT_SUCCESSFUL, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Případ užití končí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Systém nepřijal zprávu.</li></ul><h2>EF02: Verze obsahu zprávy není podporována</h2><h3>Vstupní podmínky</h3><ul><li>Na vstupu získaná verze obsahu zprávy  (vstupní parametr Verze komunikačního protokolu) není podporována.</li></ul><h3>Tok událostí</h3><ol><li>Výjimkový tok událostí začíná krokem 1 základního toku událostí.</li><li>Systém předá na výstupu UC chybové hlášení s uvedenými parametry (viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>):<br><ul><li>Chybové hlášení: MSG_ERR_FOB_PACKET_VERSION_NOT_SUPPORTED.</li><li>Verze: hodnota vstupního parametru Verze komunikačního protokolu.</li></ul></li><li>Případ užití končí.</li></ol><h3>Výstupní podmínky</h3><ul><li>Systém nepřijal zprávu.</li></ul><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Systém přijal požadavek na získání dostupných tras, na který odpověděl.</p><h2>Výstupní data</h2><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Chybové hlášení</td><td colspan="1">–</td><td colspan="1">Ne</td><td colspan="1">V podstatě se jedná o kód chyby, kvůli které nemohl být dokončen UC.</td><td colspan="1"><p>Informace je předána pouze v případě, kdy nebyly splněny výstupní podmínky tohoto UC.</p></td></tr></tbody></table><h1>Algoritmy</h1><p>–</p><h1>Validace</h1><p>–</p><h1>Uživatelské rozhraní</h1><p>–</p><h1>Grafický návrh</h1><p>–</p><h1>Revize</h1><p>–</p>
</div>
</body>
</html>
