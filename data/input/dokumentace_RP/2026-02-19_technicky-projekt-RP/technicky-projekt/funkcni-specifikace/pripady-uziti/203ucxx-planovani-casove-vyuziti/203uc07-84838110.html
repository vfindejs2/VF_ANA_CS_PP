<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>203UC07: Získat souhrnné informace o denních výkonech</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl UC</h1><p>Cílem UC je získat souhrnné informace o <a href="../../../datove-modely/datovy-78681044.html">Denních výkonech</a>, které jsou předány na vstupu UC.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th>Popis</th><th colspan="1">Typická role</th></tr><tr><td>Uživatel</td><td><p>Jedná se o uživatele aplikace RoadPlan, který musí mít oprávnění spouštět tento UC.</p></td><td colspan="1"><p> </p></td></tr></tbody></table><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek k získání souhrnných informací o Denních výkonech jedním z těchto způsobů:</p><ul><li>Získání souhrnných informací o Denních výkonech z obrazovky časového využití vozidla za období nastavením jednoho z parametrů plánování (<a href="../../uzivatelske-rozhrani/200uixx/200ui09-84838002.html">200UI09: Obrazovka časového využití vozidla za období</a>).</li><li>Získání souhrnných informací o Denních výkonech z obrazovky časového využití vozidla za období obnovením zobrazených dat (<a href="../../uzivatelske-rozhrani/200uixx/200ui09-84838002.html">200UI09: Obrazovka časového využití vozidla za období</a>).</li><li>Získání souhrnných informací o Denních výkonech z obrazovky časového využití vozidel za den nastavením jednoho z parametrů plánování (<a href="../../uzivatelske-rozhrani/200uixx/200ui10-84838004.html">200UI10: Obrazovka časového využití vozidel za den</a>).</li><li>Získání souhrnných informací o Denních výkonech z obrazovky časového využití vozidel za den obnovením zobrazených dat (<a href="../../uzivatelske-rozhrani/200uixx/200ui10-84838004.html">200UI10: Obrazovka časového využití vozidel za den</a>).</li><li>Získání souhrnných informací o Denních výkonech z obrazovky časového využití vozidel za období nastavením jednoho z parametrů plánování (<a href="../../uzivatelske-rozhrani/200uixx/200ui11-84838006.html">200UI11: Obrazovka časového využití vozidel za období</a>).</li><li>Získání souhrnných informací o Denních výkonech z obrazovky časového využití vozidel za období obnovením zobrazených dat (<a href="../../uzivatelske-rozhrani/200uixx/200ui11-84838006.html">200UI11: Obrazovka časového využití vozidel za období</a>).</li><li>Získání souhrnných informací o Denních výkonech z obrazovky časového využití vozidla za rok nastavením jednoho z parametrů plánování (<a href="../../uzivatelske-rozhrani/200uixx/200ui12-84838008.html">200UI12: Obrazovka časového využití vozidla za rok</a>).</li><li>Získání souhrnných informací o Denních výkonech z obrazovky časového využití vozidla za rok obnovením zobrazených dat (<a href="../../uzivatelske-rozhrani/200uixx/200ui12-84838008.html">200UI12: Obrazovka časového využití vozidla za rok</a>).</li><li>Získání souhrnných informací o Denních výkonech z obrazovky časového využití vozidel za měsíc nastavením jednoho z parametrů plánování (<a href="../../uzivatelske-rozhrani/200uixx/200ui13-84838010.html">200UI13: Obrazovka časového využití vozidel za měsíc</a>).</li><li>Získání souhrnných informací o Denních výkonech z obrazovky časového využití vozidel za měsíc obnovením zobrazených dat (<a href="../../uzivatelske-rozhrani/200uixx/200ui13-84838010.html">200UI13: Obrazovka časového využití vozidel za měsíc</a>).</li></ul><h1>Vstupní podmínky</h1><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na moduly a UC</a>:</p><ul><li>Časové využití denních výkonů.</li></ul><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na typ entit</a>:</p><ul><li>Denní výkony - zobrazení,</li><li>Realizace denního výkonu - zobrazení.</li></ul><h3>Vstupní data</h3><ul><li>Denní výkony: entita <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (kolekce).</li></ul><p>Poznámka: Na vstupu UC může být předáno NULL.</p><h1>Základní tok událostí</h1><ol><li>Systém nastaví výstupní data do výchozího stavu:<br><ul><li>Počet: 0,</li><li>Čas celkem: 0,</li><li>Kilometry celkem: 0,</li><li>Servis celkem: 0,</li><li>Počet servisů: 0,</li><li>Časové využití vozidel: 0,</li><li>Podíl kilometrů s přívěsy: 0,</li><li>Objednané služby celkem: 0.</li></ul></li><li>Pokud je na vstupu předáno NULL, případně je předána prázdná kolekce <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a>.<ol><li><strong>Konec toku událostí</strong>.</li></ol></li><li>Systém připraví pomocné proměnné a nastaví je do výchozího stavu:<br><ul><li>Suma časového využití vozidel: 0.</li><li>Suma podílů kilometrů s přívěsem: 0.</li></ul></li><li>Pro všechny <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> předané na vstupu UC.<br><ol><li>Pokud jsou splněny všechny uvedené podmínky zároveň, je <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> přeskočen – <strong>skok na krok 4</strong>.<br><ul><li>datum realizace <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> vychází na sobotu nebo neděli (atribut Datum realizace), </li><li>časové využití je rovno nule (atribut Časové využití),</li><li>není vložen žádný <a href="../../../datove-modely/datovy-78681044.html">Interval omezení denního výkonu</a> typu Alokace na servis (atribut Intervaly omezení).</li></ul></li><li>Jinak je <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> zahrnut do souhrnných informací.<br><ol><li>Systém inkrementuje počet <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a>: Počet++.</li><li>Systém aktualizuje celkový čas strávený alokací na servis a inkrementuje počet těchto alokací: pro všechny obsažené <a href="../../../datove-modely/datovy-78681044.html">Intervaly omezení denního výkonu</a> typu Alokace na servis (atribut Intervaly omezení):<br><ol><li><ol><li>Servis celkem += konec intervalu omezení - začátek intervalu omezení (atributy Čas omezení do, Čas omezení od entity <a href="../../../datove-modely/datovy-78681044.html">Interval omezení denního výkonu</a>).</li><li>Počet servisů++.</li></ol></li></ol></li><li>Pokud je <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> ve stavu Uzavřený (atribut Stav):<br><ol><li>Systém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Realizací denního výkonu</a> – takovou <a href="../../../datove-modely/datovy-78681044.html">Realizaci denního výkonu</a>, u které hodnota atributu Denní výkon odpovídá <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a>, který je právě zkoumán (poznámka: v tomto případě by měla Realizace denního výkonu vždy existovat).</li><li>Systém aktualizuje celkový čas: Čas celkem += doba jízdy <a href="../../../datove-modely/datovy-78681044.html">Realizace denního výkonu</a> (atribut Doba jízdy celkem).</li><li>Systém aktualizuje celkovou vzdálenost: Kilometry celkem += ujetá vzdálenost v <a href="../../../datove-modely/datovy-78681044.html">Realizaci denního výkonu</a> (atribut Ujetá vzdálenost celkem).</li><li>Systém aktualizuje pomocné časové využití: Suma časového využití vozidel += časové využití <a href="../../../datove-modely/datovy-78681044.html">Realizace denního výkonu</a> (atribut Časové využití).</li><li>Systém aktualizuje pomocný podíl kilometrů s přívěsem: Suma podílů kilometrů s přívěsem += podíl kilometrů s přívěsem v rámci <a href="../../../datove-modely/datovy-78681044.html">Realizace denního výkonu</a> (atribut Ujetá vzdálenost s přívěsem / atribut Ujetá vzdálenost celkem).</li><li>Systém aktualizuje počet <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a>: pro všechny <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, u kterých hodnota atributu Realizace denního výkonu odpovídá právě zkoumané <a href="../../../datove-modely/datovy-78681044.html">Realizaci denního výkonu</a>.<br><ol><li>Objednané služby celkem++.<br></li></ol></li></ol></li><li>Jinak:<br><ol><li>Systém aktualizuje celkový čas: Čas celkem += doba jízdy <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut Doba jízdy celkem).</li><li>Systém aktualizuje celkovou vzdálenost: Kilometry celkem += ujetá vzdálenost v <a href="../../../datove-modely/datovy-78681044.html">Denním výkonu</a> (atribut Ujetá vzdálenost celkem).</li><li>Systém aktualizuje pomocné časové využití: Suma časového využití vozidel += časové využití <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut Časové využití).</li><li>Systém aktualizuje pomocný podíl kilometrů s přívěsem: Suma podílů kilometrů s přívěsem += podíl kilometrů s přívěsem v rámci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut Podíl kilometrů s přívěsem).</li><li>Systém aktualizuje počet <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a>: pro všechny obsažené <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> typu Objednaná služba (atribut Položky denního výkonu):<br><ol><li>Objednané služby celkem++.</li></ol></li></ol></li></ol></li></ol></li><li>Systém nastaví souhrnné časové využití: Časové využití vozidel = Suma časového využití vozidel / Počet.</li><li>Systém nastaví souhrnný podíl kilometrů s přívěsem: Podíl kilometrů s přívěsy = Podíl kilometrů s přívěsy / Počet.</li></ol><p>Poznámka: Pokud jsou v toku událostí uvedeny atributy, vztahují se k entitě <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> – není-li uvedeno jinak.</p><h1>Alternativní toky událostí</h1><p>Nejsou.</p><h1>Výjimkové toky událostí</h1><p>Nejsou.</p><h1>Výstupní podmínky</h1><p>Byly získány souhrnné informace o <a href="../../../datove-modely/datovy-78681044.html">Denních výkonech</a>.</p><h3>Výstupní data</h3><ul><li>Počet (počet): počet zahrnutých <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a>,</li><li>Čas celkem (minuty): součet předpokládaných časů potřebných k realizaci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>,</li><li>Kilometry celkem (kilometry): součet předpokládaných vzdáleností ujetých při realizaci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>,</li><li>Servis celkem (minuty): součet délek časových alokací na servis u <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>,</li><li>Počet servisů (počet): součet počtů časových alokací na servis u <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>,</li><li>Časové využití vozidel (procenta): získáno jako průměr časových využití <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>,</li><li>Podíl kilometrů s přívěsy (procenta): získáno jako průměr podílů kilometrů s přívěsy <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>,</li><li>Objednané služby celkem (počet): součet počtů <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a> obsloužených v rámci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ul><p>Poznámka: Za názvem parametru je uveden pouze stručný popis konkrétní hodnoty, jejich výpočet je uveden samostatně.</p><h1>Validace</h1><p>Nejsou.</p><h1>Algoritmy</h1><p>Nejsou.</p><h1>Uživatelské rozhraní</h1><p>Není.</p><h1>Revize</h1><h3>16. 8. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="203uc07-84838110.html">Základní tok událostí</a></td><td colspan="1">Opravena chyba v algoritmu, krok 4.a (naznačeno modře).</td></tr></tbody></table><h3>14. 6. 2019: Tomáš Nadrchal</h3><p>Provedené změny korespondují s <a href="https://confluence.radium.cz/pages/viewpage.action?pageId=84837655">akceptačními testy pro M6</a> (potřebná data jsou k dispozici až v rámci M8) – bude zobrazováno využití <a href="../../../datove-modely/datovy-78681044.html">Vozidla</a> podle toho, zda jsou již k dispozici data ze skutečného provozu (z GPS jednotky).</p><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="203uc07-84838110.html">Vstupní podmínky</a></td><td colspan="1">Doplněno právo pro zobrazení <a href="../../../datove-modely/datovy-78681044.html">Realizací denního výkonu</a> (naznačeno modře).</td></tr><tr><td colspan="1"><a href="203uc07-84838110.html">Základní tok událostí</a></td><td colspan="1">Aktualizován popis výpočtu souhrnných informací (naznačeno modře).</td></tr></tbody></table><div><br></div>
</div>
</body>
</html>
