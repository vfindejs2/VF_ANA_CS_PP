<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>200UC32: Upravit přestávku denního výkonu</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl UC</h1><p>Cílem případu užití je editace přestávky vložené na denním výkonu.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th>Popis</th><th colspan="1">Typická role</th></tr><tr><td>Uživatel</td><td><p>Jedná se o uživatele aplikace RoadPlan, který musí mít oprávnění spouštět tento UC.</p></td><td colspan="1"><p> </p></td></tr></tbody></table><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na editaci vložené přestávky v Denním výkonu jedním z těchto způsobů:</p><ul><li>Editace vložené přestávky Denního výkonu v přehledu s Denními výkony na obrazovce pro plánování Denních výkonů (viz <a href="../../uzivatelske-rozhrani/200uixx/200ui01/200ui01-83266009.html">200UI01: Přehled denních výkonů</a>).</li><li>Editace vložené přestávky Denního výkonu v přehledu s Denními výkony na obrazovce pro plánování Denních výkonů (viz <a href="#" data-page-title="206UC04: Zobrazit panel přehledu denních výkonů"></a>).</li><li>Editace vložené přestávky Denního výkonu v tabulce s Položkami denního výkonu ve formuláři Denního výkonu (viz <a href="../../uzivatelske-rozhrani/200uixx/200ui02/200ui02-84214534.html">200UI02: Tabulka pro editaci denního výkonu</a>).</li></ul><h1>Vstupní podmínky</h1><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na moduly a UC</a>:</p><ul><li>Plánování denních výkonů.</li></ul><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na typ entit</a>:</p><ul><li>Denní výkony - zobrazení a modifikace.</li></ul><h3>Vstupní data</h3><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Lokace objednané služby</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a></td><td colspan="1">Ano</td><td colspan="1">Typ dopravy, pro který probíhá plánování denních výkonů.</td><td colspan="1">–</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Systém zobrazí formulář pro nastavení délky trvání přestávky a provede jeho nastavení – spustí <a href="../../uzivatelske-rozhrani/700uixx-obecne/702uixx-kalendare-a-periodicita/702ui03-84215090.html">702UI03: Formulář pro nastavení délky trvání</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Doba trvání</strong>: hodnota atributu <strong>Doba trvání</strong> na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (vstupní parametr <strong>Lokace objednané služby</strong>).</li></ul></li><li>Uživatel provede požadované změny ve formuláři.</li><li>Uživatel stiskne tlačítko pro potvrzení nastavené přestávky.</li><li>Systém provede validaci vstupních údajů.</li><li>Systém aktualizuje na vstupu získanou <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> (vstupní parametr Lokace objednané služby) dle informací zadaných ve formuláři.<br><ul><li>Atribut <strong>Doba trvání</strong>: na výstupu formuláře předaná doba trvání (viz <a href="../../uzivatelske-rozhrani/700uixx-obecne/702uixx-kalendare-a-periodicita/702ui03-84215090.html">702UI03: Formulář pro nastavení délky trvání</a>).</li></ul></li><li>Systém spustí <a href="200uc29-83267154.html">200UC29: Získat trasu denního výkonu</a> pro aktualizaci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ol><p>Poznámka: <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> je dostupný z <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a>, v rámci které je obsažena na vstupu získaná <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>.</p><h1>Alternativní toky událostí</h1><h3>AF01: Údaje ve formuláři nejsou validní</h3><h4>Vstupní podmínky</h4><ul><li>Údaje ve formuláři nejsou validní – viz <a href="200uc32-84215114.html">Validace</a>.</li></ul><h4>Tok události</h4><ol><li>Alternativní tok událostí začíná krokem 4 základního toku událostí.</li><li>Systém zvýrazní ovládací prvky, které neobsahují validní hodnotu.</li><li>Systém zobrazí uživateli informaci, že některé ze zadaných údajů nejsou validní (TODO: kód hlášky, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).<strong>Návrat na krok 2 základního toku událostí</strong>.</li></ol><h3>AF02: Provést aktualizaci trasy</h3><p>Pokud je na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> přihlášeno zařízení (FOB), musí dojít k aktualizaci trasy a odeslání notifikace o této skutečnosti na přihlášené zařízení.</p><h4>Vstupní podmínky</h4><ul><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="205UC08: Provést aktualizaci trasy denního výkonu">205UC08: Provést aktualizaci trasy denního výkonu</a> (pro odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>). </li></ul><h4>Tok událostí</h4><ol><li>Alternativní tok začíná krokem 6 základního toku událostí.</li><li>Systém provede aktualizaci odpovídající trasy – spustí <a href="#" data-page-title="205UC08: Provést aktualizaci trasy denního výkonu">205UC08: Provést aktualizaci trasy denního výkonu</a>, na vstupu UC jsou předány následující hodnoty:<ul><li>Denní výkon: atribut Denní výkon na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a>.</li></ul></li></ol><p>Poznámka: Pokud akce nad <a href="../../../datove-modely/datovy-78681044.html">Denním výkonem</a> proběhne v rámci obrazovky editace (viz <a href="#" data-page-title="200UC02: Upravit denní výkon">200UC02: Upravit denní výkon</a>), není provedena aktualizace trasy. K té dochází až po uložení provedených změn, tedy po dokončení odkazovaného UC.</p><h4>Výstupní podmínky</h4><ul><li>Došlo k aktualizaci trasy odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> a odeslání notifikace na přihlášené zařízení (pokud jsou splněny další podmínky).</li></ul><h1>Výjimkové toky událostí</h1><h3>EF01: Storno</h3><h4>Tok událostí</h4><ol><li>Výjimkový tok událostí může začít kdykoliv.</li><li>KDYŽ uživatel stiskne tlačítko Storno.<br><ol><li>Systém se vrátí zpět do části aplikace, kde došlo k požadavku na vložení alokace na servisu do <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>. <strong>Konec toku událostí</strong>.</li></ol></li><li>KDYŽ uživatel opustí formulář pro nastavení časového rozmezí alokace na servis.<br><ol><li><strong>Konec toku událostí</strong>.</li></ol></li></ol><h4>Výstupní podmínky</h4><ul><li>Zvolená <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> typu Časový interval v <a href="../../../datove-modely/datovy-78681044.html">Denním výkonu</a> nebyla upravena.</li></ul><h1>Výstupní podmínky</h1><ul><li>Zvolená <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> typu Časový interval v <a href="../../../datove-modely/datovy-78681044.html">Denním výkonu</a> byla upravena.</li></ul><h1>Validace</h1><p>Odpovídá <a href="200uc09-83266969.html">200UC09: Vložit přestávku do denního výkonu: Validace</a>.</p><h1>Algoritmy</h1><p>Nejsou.</p><h1>Uživatelské rozhraní</h1><p>Rozložení formuláře pro specifikaci délky přestávky je uvedeno v samostatném dokumentu – viz <a href="../../uzivatelske-rozhrani/700uixx-obecne/702uixx-kalendare-a-periodicita/702ui03-84215090.html">702UI03: Formulář pro nastavení délky trvání</a>.</p><h1>Revize</h1><h3>17. 6. 2023: Tomáš Nadrchal</h3><p>Došlo k zobecnění případu užití tak, aby dokázal pracovat s jakoukoliv přestávkou vloženou na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (naznačeno modře).</p><h3>23. 10. 2021: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc32-84215114.html">AF02: Provést aktualizaci trasy</a></td><td colspan="1">Doplnění aktualizace trasy odpovídajícího denního výkonu (naznačeno růžově).</td></tr></tbody></table><p><br></p>
</div>
</body>
</html>
