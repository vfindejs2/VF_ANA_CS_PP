<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>200UC01: Přidat denní výkon</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl UC</h1><p>Cílem UC je přidání <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> pro konkrétní den, <a href="../../../datove-modely/datovy-78681044.html">Provozovnu</a> a <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a>.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td>Uživatel</td><td colspan="1">Typicky se jedná o dispečera (výpůjčky vozidel).</td></tr><tr><td colspan="1">Čas</td><td colspan="1">Zajišťuje pravidelné generování denních výkonů.</td></tr><tr><td colspan="1">Synchronizační komponenta</td><td colspan="1">Typicky se jedná o výpůjčky vozidel.</td></tr></tbody></table><h1>Spuštění případu užití</h1><p>UC může být spouštěn buď přímo uživatelem, nebo může být ale zavolán jiným případem užití.</p><h3>Spuštění uživatelem </h3><p>Uživatel zadá požadavek k přidání nového denního výkonu jedním z těchto způsobů:</p><ul><li>Uživatel zadá požadavek na přidání <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> na obrazovce plánování denních výkonů (viz <a href="#" data-page-title="206UC04: Zobrazit panel přehledu denních výkonů"></a>).</li><li>Uživatel zadá požadavek na kontrolu aktuálnosti <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> na obrazovce plánování denních výkonů (viz <a href="#" data-page-title="202UC07: Generovat denní výkony pro plánované období">202UC07: Generovat denní výkony pro plánované období</a>).</li><li>Uživatel zadá požadavek na generování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> mimo plánované období na obrazovce plánování denních výkonů (viz <a href="#" data-page-title="202UC08: Generovat denní výkony mimo plánované období">202UC08: Generovat denní výkony mimo plánované období</a>).</li><li>Uživatel zadá požadavek na přeplánování <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> bez specifikace cílového <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (viz <a href="#" data-page-title="200UC56: Přeplánovat denní výkon"></a>).</li></ul><p>Synchronizační komponenta zadá požadavek k přidání nového denního výkonu jedním z těchto způsobů:</p><ul><li>Synchronizační komponenta získá jízdu, v rámci které je řešeno vypůjčení vozidla (viz <a href="#" data-page-title="605UC03: Získat jízdy">605UC03: Získat jízdy</a>). </li></ul><h3>Spuštění systémem</h3><ul><li>Spuštění v rámci případu užití <a href="#" data-page-title="200UC54: Přegenerovat denní výkony"></a>.</li></ul><h1>Vstupní podmínky</h1><h3>Spuštění uživatelem </h3><ul><li>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na moduly a UC</a>:<br><ul><li>Plánován denních výkonů.</li></ul></li><li>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na typ entit</a>:<br><ul><li>Denní výkony - zobrazení a modifikace.</li></ul></li></ul><h3>Spuštění systémem</h3><ul><li>Nejsou vyžadovány.</li></ul><h3>Vstupní data</h3><ul><li><a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>,</li><li>Datum realizace (datum),</li><li><a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a>,</li><li><a href="../../../datove-modely/datovy-78681044.html">Vozidlo</a> (nepovinné).</li><li>Vytvořen uživatelem (boolean).</li></ul><p>Poznámka: <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> není možné přidat s datem realizace v minulosti.<br></p><h1>Základní tok událostí</h1><ol><li>Systém vytvoří instanci entity <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li><li>Systém nastaví hodnoty atributů instance:<br><ul><li><strong>Stav</strong>: Plánovaný.</li><li><strong>Provozovna</strong>: <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> získaná na vstupu případu užití.</li><li><strong>Datum realizace</strong>: Den plánování získaný na vstupu UC (Datum realizace).</li><li><strong>Typ dopravy</strong>: <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> získaný na vstupu případu užití.</li><li><strong>Vozidlo</strong>: <a href="../../../datove-modely/datovy-78681044.html">Vozidlo</a> předané na vstupu UC (může být NULL).</li><li><strong>Kód barvy</strong>: viz <a href="200uc01-83266874.html">Získány barvy</a>.</li><li><strong>Použití přívěsu</strong>: FALSE.</li><li><strong>Použité přívěsy</strong>: NULL.</li><li><strong>Intervaly omezení</strong> – vložení instancí entity <a href="../../../datove-modely/datovy-78681044.html">Interval omezení denního výkonu</a>:<br><ul><li><strong>Typ omezení</strong> = Mimo provozní dobu, <strong>Čas omezení od</strong> = 0:00, <strong>Čas omezení do</strong> = viz <a href="200uc01-83266874.html">Získání provozní doby</a> (atribut <strong>Začátek provozní doby</strong>).</li><li><strong>Typ omezení</strong> = Mimo provozní dobu, <strong>Čas omezení od</strong> = viz <a href="200uc01-83266874.html">Získání provozní doby</a> (atribut <strong>Konec provozní doby</strong>), <strong>Čas omezení do</strong> = 23:59.</li></ul></li><li><strong>Začátek provozní doby</strong>: viz <a href="200uc01-83266874.html">Získání provozní doby</a> (atribut <strong>Začátek provozní doby</strong>).</li><li><strong>Délka provozní doby</strong>: 0.</li><li><strong>Počáteční položka denního výkonu</strong>: viz <a href="200uc01-83266874.html">Získání stanoviště</a>.</li><li><strong>Koncová položka denního výkonu</strong>: viz <a href="200uc01-83266874.html">Získání stanoviště</a>.</li><li><strong>Položky denního výkonu</strong>: NULL.</li><li><strong>Ujetá vzdálenost celkem</strong>: NULL.</li><li><strong>Doba jízdy celkem</strong>: NULL.</li><li><strong>Poznámka</strong>: NULL.</li><li><strong>Časové využití</strong>: NULL.</li><li><strong>Podíl kilometrů s přívěsem</strong>: NULL.</li><li><strong>Počet objednaných služeb</strong>: 0.</li><li><strong>Schválený denní výkon</strong>: NULL.</li><li><strong>Průběhy editace denního výkonu</strong>: NULL.</li><li><strong>Vytisknuto potvrzení o výkonu objednané služby</strong>: FALSE.</li><li><strong>Textová identifikace vozidla</strong>: dle <a href="../../../datove-modely/datovy-78681044.html">Vozidla</a> získaného na vstupu UC:<br><ul><li>Pokud je <a href="../../../datove-modely/datovy-78681044.html">Vozidlo</a> předáno: hodnota atributu RZ.</li><li>Jinak: NULL.</li></ul></li><li><strong>Způsob vyhodnocení realizace</strong>: hodnota atributu <strong>Způsob vyhodnocení realizace</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (vstupní parametr <strong>Vozidlo</strong>).<br><ul><li>Pokud není hodnota (resp. <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>) k dispozici, je využita výchozí hodnota: <strong>defaultVehicleRealizationType</strong> (viz <a href="#" data-page-title="Konfigurační hodnoty"></a>).</li></ul></li><li><strong>Vytvořen uživatelem</strong>: Informace získaná na vstupu UC (Vytvořen uživatelem).</li></ul></li><li>Systém uloží vytvořený <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li><li>Systém se vrátí zpět do části aplikace, kde došlo k požadavku na přidání <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ol><h1>Alternativní toky událostí</h1><h3>AF01: Vypůjčené vozidlo</h3><h4>Vstupní podmínky</h4><ul><li>Na vstupu UC bylo předáno <a href="../../../datove-modely/datovy-78681044.html">Vozidlo</a>.</li><li><a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> předaná na vstupu UC odpovídá <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a> přiřazené k <a href="../../../datove-modely/datovy-78681044.html">Vozidlu</a> získanému na vstupu UC (atribut Provozovna).</li><li><a href="../../../datove-modely/datovy-78681044.html">Vozidlo</a>, pro které je generován <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>, je již přiřazeno k <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> jiné než „domovské“ <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>. Existuje tedy <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> splňující všechny dále uvedené podmínky zároveň:<br><ul><li><a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> získaná z <a href="../../../datove-modely/datovy-78681044.html">Vozidla</a> (atribut Provozovna) získaného na vstupu UC je různá od <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut Provozovna).</li><li>Datum realizace získaný na vstupu UC je shodný s Datem realizace právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut Datum realizace)..</li><li><a href="../../../datove-modely/datovy-78681044.html">Vozidlo</a> získané na vstupu UC je shodné s <a href="../../../datove-modely/datovy-78681044.html">Vozidlem</a>, které je přiřazeno na právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (atribut Vozidlo).</li></ul></li></ul><h4>Tok událostí</h4><ol><li>Alternativní tok začíná krokem 2 základního toku událostí.</li><li>Systém nastaví stav vytvářeného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> na hodnotu Vypůjčený (atribut Stav).</li></ol><h1>Výjimkové toky událostí</h1><h3>EF01: Nedostupné souřadnice provozovny</h3><h4>Vstupní podmínky</h4><ul><li>Na vstupu získaná <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> nemá vyplněny souřadnice – atribut Souřadnice nabývá hodnoty NULL.</li></ul><h4>Tok událostí</h4><ol><li>Výjimkový tok začíná krokem 1 základního toku událostí.</li><li>Systém zobrazí modální okno s chybovým hlášením, že není možné vytvořit <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (MSG_ERR_DAILY_ROUTE_CREATE_ORGANITAZIONAL_UNIT_COORDINATES_NOT_SET, viz <a href="#" data-page-title="Systémové hlášky">Systémové hlášky</a>).</li><li>Uživatel potvrdí chybové hlášení.</li><li>Systém zavře modální okno.</li><li>Systém se vrátí zpět do části aplikace, kde došlo k požadavku na přidání <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ol><h4>Výstupní podmínky</h4><ul><li>Nebyl přidán <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul><h1>Výstupní podmínky</h1><ul><li>Byl přidán <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul><h1>Validace</h1><p>Nejsou.</p><h1>Algoritmy</h1><h3>Získání stanoviště</h3><p>Stanoviště je v rámci Denního výkonu uloženo jako instance entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> (počáteční a cílová položka). Některé atributy jsou pak společné pro obě dále uvedené možnosti:</p><ul><li>Pořadí: 1 (poznámka: nemá vliv na kolekci <a href="../../../datove-modely/datovy-78681044.html">Položek denního výkonu</a>).</li><li>Typ položky: Lokace objednané služby (viz <a href="../../../datove-modely/datovy-78681044.html">Typ položky denního výkonu</a>).</li><li>Denní výkon: Denní výkon, který je vytvářen v rámci tohoto případu užití.</li><li>Přívěs: FALSE.</li><li>Objednaná služba: NULL.</li><li><em>Lokace objednané služby: viz dále.</em></li></ul><p>Dále je nutné vytvořit instanci <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>, ta může být získána jedním z uvedených způsobů…</p><ul><li>Nalezení <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a>, na které je přiřazen odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>.</li><li>Získání <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>, pod kterou je <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> zakládán.</li></ul><p>Při zakládání <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> tedy postupujeme následovně…</p><ol><li>Pokud je na vstupu UC získán <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> (vstupní parametr <strong>Vozidlo</strong>), pokusíme se najít odpovídající <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a>:<br><ol><li>Systém nalezne takové <a href="../../../datove-modely/datovy-78681044.html">Přiřazení objektu ke stanovišti</a>, které splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Objekt</strong> odpovídá na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (vstupní parametr <strong>Vozidlo</strong>).</li><li>Hodnota atributu <strong>Platnost od</strong> je menší nebo rovna hodnotě vstupního parametru <strong>Datum realizace</strong> (vyhodnocováno jako datum, bez části s časem).</li><li>Hodnota atributu <strong>Platnost do</strong> je větší nebo rovna hodnotě vstupního parametru <strong>Datum realizace</strong> (vyhodnocováno jako datum, bez části s časem).<ul><li><em>Pokud není hodnota k dispozici, není podmínka vyhodnocována – jedná se o neomezené období.</em></li></ul></li><li><em>Poznámka: Měl by existovat maximálně jeden takový záznam. Pokud bychom jich nalezli více, pracujeme s tím s nejvyšším interním ID.</em></li></ul></li><li>Pokud bylo nalezeno alespoň jedno <a href="../../../datove-modely/datovy-78681044.html">Přiřazení objektu ke stanovišti</a> (viz krok <strong>1.a</strong>):<br><ol><li>Systém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> – hodnota atributu <strong>Stanoviště</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Přiřazení objektu ke stanovišti</a> (viz krok <strong>1.a</strong>).</li><li>Pokud získané <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> (viz krok <strong>1.b</strong>) splňuje všechny dále uvedené podmínky – získáme potřebné informace ze <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> (viz <a href="200uc01-83266874.html">Získání lokace ze stanoviště</a>).<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Adresa</strong> je k dispozici.</li><li>Hodnota atributu <strong>Zeměpisná šířka</strong> je k dispozici.</li><li>Hodnota atributu <strong>Zeměpisná délka</strong> je k dispozici.</li></ul></li><li>Jinak získané <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> uvedené podmínky nesplňuje – potřebné informace tedy získáme z odpovídající <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> (viz <a href="200uc01-83266874.html">Získání lokace z provozovny</a>).</li></ol></li><li>Jinak nebylo nalezeno žádné <a href="../../../datove-modely/datovy-78681044.html">Přiřazení objektu ke stanovišti</a> – potřebné informace tedy získáme z odpovídající <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> (viz <a href="200uc01-83266874.html">Získání lokace z provozovny</a>).</li></ol></li><li>Jinak na vstupu UC nebyl získán <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> – potřebné informace tedy získáme z odpovídající <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> (viz <a href="200uc01-83266874.html">Získání lokace z provozovny</a>).</li></ol><p>Dále je pak nutné vytvořit instanci <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> – ta je získána z <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>, pro kterou <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> vznikl.</p><ul><li>Pořadí: 1.</li><li>Akce: Navštívit.</li><li>Typ lokace: Jiné.</li><li>Adresa: Hodnota atributu Adresa entity <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>, která je získána na vstupu UC (poznámka: nalezená <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> pak nemusí představovat „aktivní“ záznam – v takovém případě je nutné aktivní záznam dohledat, viz <a href="../../../datove-modely/persistence-79430071.html">Persistence dat v dynamických entitách</a>).</li><li>Souřadnice: Hodnota atributu Souřadnice entity <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>, která je získána na vstupu UC (poznámka: nalezená <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> pak nemusí představovat „aktivní“ záznam – v takovém případě je nutné aktivní záznam dohledat, viz <a href="../../../datove-modely/persistence-79430071.html">Persistence dat v dynamických entitách</a>).</li><li>Manuální posun souřadnic: FALSE.</li><li>Místo realizace: NULL.</li><li>Likvidační místo: NULL.</li><li>Provozovna: NULL.</li><li>Doba manipulace: 0.</li><li>Doba trvání: NULL.</li><li>Provést: TRUE.</li><li>Začátek časového okna: Hodnota atributu Provozní doba od entity <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>, která je získána na vstupu UC (poznámka: nalezená <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> pak nemusí představovat „aktivní“ záznam – v takovém případě je nutné aktivní záznam dohledat, viz <a href="../../../datove-modely/persistence-79430071.html">Persistence dat v dynamických entitách</a>).</li><li>Konec časového okna: Hodnota atributu Provozní doba od entity <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a>, která je získána na vstupu UC (poznámka: nalezená <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> pak nemusí představovat „aktivní“ záznam – v takovém případě je nutné aktivní záznam dohledat, viz <a href="../../../datove-modely/persistence-79430071.html">Persistence dat v dynamických entitách</a>).</li><li>Splněno časové okno: TRUE.</li><li>Vzdálenost do další lokace: NULL.</li><li>Doba jízdy do další lokace: NULL.</li><li>Trasa do další lokace: NULL.</li><li>Poznámka: NULL.</li><li>Monitoring realizace: FALSE.</li><li>Obsluha lokace objednané služby: NULL.</li><li>Fakturace: NULL.</li><li>Druhy odpadu: NULL.</li></ul><h4>Získání lokace ze stanoviště</h4><p>Vytvářená <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> je tedy získána ze <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a>, ke kterému je přiřazen odpovídající <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>.</p><ul><li>Pořadí: 1.</li><li>Akce: Navštívit.</li><li>Typ lokace: Jiné.</li><li>Adresa: Hodnota atributu <strong>Adresa</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a>.</li><li>Zeměpisná šířka: Hodnota atributu <strong>Zeměpisná šířka</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a>.</li><li>Zeměpisná délka: Hodnota atributu <strong>Zeměpisná délka</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a>.</li><li>Manuální posun souřadnic: FALSE.</li><li>Místo realizace: NULL.</li><li>Likvidační místo: NULL.</li><li>Provozovna: NULL.</li><li>Doba manipulace: 0.</li><li>Doba trvání: NULL.</li><li>Provést: TRUE.</li><li>Začátek časového okna: viz <a href="200uc01-83266874.html">Získání provozní doby</a> (atribut <strong>Začátek provozní doby</strong>).</li><li>Konec časového okna: viz <a href="200uc01-83266874.html">Získání provozní doby</a> (atribut <strong>Konec provozní doby</strong>).</li><li>Splněno časové okno: TRUE.</li><li>Vzdálenost do další lokace: NULL.</li><li>Doba jízdy do další lokace: NULL.</li><li>Trasa do další lokace: NULL.</li><li>Poznámka: NULL.</li><li>Monitoring realizace: FALSE.</li><li>Obsluha lokace objednané služby: NULL.</li><li>Fakturace: NULL.</li><li>Druhy odpadu: NULL.</li></ul><h4>Získání lokace z provozovny</h4><p>Vytvářená <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> je tedy získána z <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>, pro kterou <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> vzniká.</p><ul><li>Pořadí: 1.</li><li>Akce: Navštívit.</li><li>Typ lokace: Jiné.</li><li>Adresa: Hodnota atributu <strong>Adresa</strong> na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> (vstupní parametr <strong>Provozovna</strong>).</li><li>Zeměpisná šířka: Hodnota atributu <strong>Zeměpisná šířka</strong>na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> (vstupní parametr <strong>Provozovna</strong>).</li><li>Zeměpisná délka: Hodnota atributu <strong>Zeměpisná délka</strong> na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> (vstupní parametr <strong>Provozovna</strong>).</li><li>Manuální posun souřadnic: FALSE.</li><li>Místo realizace: NULL.</li><li>Likvidační místo: NULL.</li><li>Provozovna: NULL.</li><li>Doba manipulace: 0.</li><li>Doba trvání: NULL.</li><li>Provést: TRUE.</li><li>Začátek časového okna: viz <a href="200uc01-83266874.html">Získání provozní doby</a> (atribut <strong>Začátek provozní doby</strong>).</li><li>Konec časového okna: viz <a href="200uc01-83266874.html">Získání provozní doby</a> (atribut <strong>Konec provozní doby</strong>).</li><li>Splněno časové okno: TRUE.</li><li>Vzdálenost do další lokace: NULL.</li><li>Doba jízdy do další lokace: NULL.</li><li>Trasa do další lokace: NULL.</li><li>Poznámka: NULL.</li><li>Monitoring realizace: FALSE.</li><li>Obsluha lokace objednané služby: NULL.</li><li>Fakturace: NULL.</li><li>Druhy odpadu: NULL.</li></ul><h3>Získání barvy</h3><p>Na úrovni denního výkonu je možné specifikovat barvu, kterou bude prezentován na uživatelském rozhraní (nepovinný údaj). Její získání pak probíhá následovně.</p><ol><li>Systém získá takové záznamy entity <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a>, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Objekt</strong> odpovídá na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (vstupní parametr <strong>Vozidlo</strong>).</li><li>Hodnota atributu <strong>Platnost od</strong> je menší nebo rovna získanému datu realizace (vstupní parametr <strong>Datum realizace</strong>).</li><li>Hodnota atributu <strong>Platnost do</strong> je větší nebo rovna získanému datu realizace (vstupní parametr <strong>Datum realizace</strong>).<br><ul><li><em>Pokud není hodnota atributu <strong>Platnost do</strong> k dispozici, není tato podmínka vyhodnocována.</em><em><br></em></li></ul></li><li>Hodnota atributu <strong>Barva</strong> je k dispozici.</li><li>Hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong>.</li></ul></li><li>Pokud je získán alespoň jeden záznam entity <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a>:<br><ul><li>Na výstupu je předána hodnota atributu <strong>Barva</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a> (viz krok <strong>1</strong>).<br><ul><li><em>Pokud je získáno více záznamů současně, pracujeme s tím s nejvyšší hodnotou interního ID.</em></li><li><em>Uvedená situace by však neměla nastat, jednalo by se o chybu. </em></li></ul></li></ul></li><li>Jinak žádný záznam entity entity <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a> získán není:<br><ul><li>Na výstupu není předána žádná hodnota (NULL).</li></ul></li></ol><h3>Získání provozní doby</h3><p>Na úrovni denního výkonu je nutné specifikovat provozní dobu, tu je možné získat z více zdrojů. Hledáme hodnoty pro dále uvedené atributy: </p><ul><li>Začátek provozní doby,</li><li>Konec provozní doby.</li></ul><p>Její nastavení probíhá následovně:</p><ol><li>Systém získá takové záznamy entity <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a>, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Objekt</strong> odpovídá na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (vstupní parametr <strong>Vozidlo</strong>).</li><li>Hodnota atributu <strong>Platnost od</strong> je menší nebo rovna získanému datu realizace (vstupní parametr <strong>Datum realizace</strong>).</li><li>Hodnota atributu <strong>Platnost do</strong> je větší nebo rovna získanému datu realizace (vstupní parametr <strong>Datum realizace</strong>).<br><ul><li><em>Pokud není hodnota atributu <strong>Platnost do</strong> k dispozici, není tato podmínka vyhodnocována.</em><em><br></em></li></ul></li><li>Hodnota atributu <strong>Provozní doba od</strong> je k dispozici.</li><li>Hodnota atributu <strong>Provozní doba do</strong> je k dispozici.</li><li>Hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong>.</li></ul></li><li>Pokud je získán alespoň jeden záznam entity <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a>, jsou na výstupu předány tyto hodnoty:<br><ul><li><strong>Začátek provozní doby</strong>: hodnota atributu <strong>Provozní doba od</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a> (viz krok <strong>1</strong>).</li><li><strong>Konec provozní doby</strong>: hodnota atributu <strong>Provozní doba do</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a> (viz krok <strong>1</strong>).</li></ul></li><li>Jinak žádný záznam entity entity <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a> získán není, jsou na výstupu předány tyto hodnoty:<br><ul><li><strong>Začátek provozní doby</strong>: hodnota atributu <strong>Provozní doba od</strong> dané <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> (vstupní parametr <strong>Provozovna</strong>).</li><li><strong>Konec provozní doby</strong>: hodnota atributu <strong>Provozní doba do</strong> dané <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> (vstupní parametr <strong>Provozovna</strong>).</li></ul></li></ol><h1>Uživatelské rozhraní</h1><p>–</p><h1>Revize</h1><h3>14. 9. 2025: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Základní tok událostí</a></td><td colspan="1">Revize nastavení provozní doby, doplnění barvy denního výkonu (naznačen růžově).</td></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Získání barvy</a></td><td colspan="1">Doplněn postup pro získání barvy denního výkonu (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Získání provozní doby</a></td><td colspan="1">Doplněn postup pro získání provozní doby denního výkonu (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Získání lokace ze stanoviště</a></td><td colspan="1">Doplněna aktualizace provozní doby (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Získání lokace z provozovny</a></td><td colspan="1">Doplněna aktualizace provozní doby (naznačeno růžově).</td></tr></tbody></table><h3>6. 4. 2025: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Získání stanoviště</a></td><td colspan="1">Doplněno vyhodnocení pro získání stanoviště (naznačeno modře).</td></tr></tbody></table><h3>23. 10. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Základní tok událostí</a></td><td colspan="1">Doplněno nastavení způsobu vyhodnocení realizace (naznačeno modře).</td></tr></tbody></table><h3>27. 3. 2021: Tomáš Nadrchal</h3><p>Provedeny změny v rámci celého dokumentu (naznačeno modře). Viz <a href="../../../rp-sprava-pozadavku/id-89065686.html">ID-040: Násobné rozdělení objednané služby</a>.</p><h3>31. 1. 2021: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Spuštění případu užití</a></td><td colspan="1">Aktualizovány případy užití, které spouští tento UC (naznačeno modře).</td></tr></tbody></table><h3>18. 11. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc01-83266874.html">EF01: Nedostupné souřadnice provozovny</a></td><td colspan="1">Doplněn výjimkový tok událostí pro případ, že <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> nemá nastavení souřadnice.</td></tr></tbody></table><h3>30. 10. 2019: Miroslav Slivoně</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Spuštění případu užití</a></td><td colspan="1">Doplněna možnost volání systémem v rámci jiného UC.</td></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Vstupní data</a></td><td colspan="1">Doplněna možnost volání systémem v rámci jiného UC.</td></tr></tbody></table><h3>30. 9. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Vstupní data</a></td><td colspan="1">Doplněn vstupní parametr s informací, zda byl <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> vytvořen uživatelem (naznačeno modře).</td></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Základní tok událostí</a></td><td colspan="1">Doplněna výchozí hodnota pro nově přidaný atribut (naznačeno modře).</td></tr><tr><td colspan="1"><a href="200uc01-83266874.html">AF01: Vypůjčené vozidlo</a></td><td colspan="1">Doplněn alternativní tok událostí pro případ, že je <a href="../../../datove-modely/datovy-78681044.html">Vozidlo</a> vypůjčeno.</td></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Získání stanoviště</a></td><td colspan="1">Doplněna výchozí hodnota pro nově přidaný atribut (naznačeno modře).</td></tr></tbody></table><h3>24. 8. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Základní tok událostí</a></td><td colspan="1">Doplněna výchozí hodnota pro nově přidaný atribut (naznačeno modře).</td></tr></tbody></table><h3>21. 5. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Základní tok událostí</a></td><td colspan="1">Revize nastavovaných atributů <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> dle aktuálního stavu datového slovníku (naznačeno modře).</td></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Získání stanoviště</a></td><td colspan="1"><p>Revize nastavovaných atributů <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> a <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> dle aktuálního stavu datového slovníku (naznačeno modře).</p><p>Doplněna poznámka o nutnosti používání „aktivních“ záznamů (naznačeno modře).</p></td></tr></tbody></table><h3>11. 2. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><p><a href="200uc01-83266874.html">Základní tok událostí</a></p></td><td colspan="1"><p>Revize nastavovaných atributů <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> dle aktuálního stavu datového slovníku.</p></td></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Získání stanoviště</a></td><td colspan="1">Revize nastavovaných atributů <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> a <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> dle aktuálního stavu datového slovníku.</td></tr></tbody></table><h3>21. 12. 2018: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Získání stanoviště</a></td><td colspan="1"><p>Byla odebrána možnost získat adresu a souřadnice pro počáteční a koncovou Položku denního výkon z přiřazeného vozidla.</p></td></tr></tbody></table><h3>16. 12. 2018: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Vstupní data</a></td><td colspan="1"><p>Revize dat předaných na vstupu případu užití.</p></td></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Základní tok událostí</a></td><td colspan="1">Zanesení dat na vstupu případu užití do základního toku událostí.</td></tr></tbody></table><h3>6. 12. 2018: Tomáš Nadrchal</h3><p>Po změně odpovídajících entit v <a href="../../../datove-modely/datovy-78681044.html">datovém slovníku</a> bylo nutné aktualizovat celý případ užití.</p><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Základní tok událostí</a></td><td colspan="1"><p>Revize základního toku událostí.</p></td></tr><tr><td colspan="1"><a href="200uc01-83266874.html">Algoritmy</a></td><td colspan="1">Revize algoritmů.</td></tr></tbody></table>
</div>
</body>
</html>
