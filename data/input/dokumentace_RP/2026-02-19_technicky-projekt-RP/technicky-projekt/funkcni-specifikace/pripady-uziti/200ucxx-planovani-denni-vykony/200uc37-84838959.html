<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>200UC37: Schválit denní výkon</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl UC</h1><p>Cílem případu užití je schválení <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> získaných na vstupu. Samotné schválení <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> je pak prováděno ve chvíli, kdy je daný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> připraven k realizaci (již není předpokládána žádná další změna jeho trasy).</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th>Popis</th><th colspan="1">Typická role</th></tr><tr><td>Uživatel</td><td><p>Jedná se o uživatele aplikace RoadPlan, který musí mít oprávnění spouštět tento UC.</p></td><td colspan="1"><p> </p></td></tr></tbody></table><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek ke schválení Denního výkonu jedním z těchto způsobů:</p><ul><li>Schválení denního výkonu v přehledu denních výkonů na obrazovce plánování (viz <a href="../206ucxx-obrazovka-planovani-dennich-vykonu/206uc04-115213112.html">206UC04: Zobrazit panel přehledu denních výkonů</a>).<br></li><li>Schválení denního výkonu při uložení denního výkonu ve formuláři pro editaci Denního výkonu (<a href="#" data-page-title="200UI02: Formulář denního výkonu"></a>).<br></li></ul><h1>Vstupní podmínky</h1><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na moduly a UC</a>:</p><ul><li>Plánování denních výkonů.</li></ul><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na typ entit</a>:</p><ul><li>Denní výkony - zobrazení a modifikace.</li></ul><p>Všechny na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (vstupní parametr <strong>Denní výkony</strong>) jsou ve stavu <strong>Plánovaný</strong> (atribut <strong>Stav</strong>, viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>).</p><h3>Vstupní data</h3><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Denní výkony</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (kolekce)</td><td colspan="1">Ano</td><td colspan="1">Denní výkony, které mají být označeny jako schválené.</td><td colspan="1">–</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Pro všechny na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (vstupní parametr <strong>Denní výkony</strong>):<br><ol><li>Systém smaže všechny uložené <a href="../../../datove-modely/datovy-78681044.html">Průběhy editace denního výkonu</a> u právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> – spustí <a href="200uc41-84839979.html">200UC41: Smazat uložené průběhy editace denního výkonu</a>, na vstup jsou pak předány následující hodnoty:<br><ul><li><strong>Denní výkon</strong>: právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li><li><strong>Průběhy editace denního výkonu</strong>: hodnota atributu <strong>Průběhy editace denního výkonu</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ul></li><li>Systém nastaví hodnotu atributu <strong>Stav</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> na <strong>Schválený</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>).</li><li>Systém připraví novou <a href="../../../datove-modely/datovy-78681044.html">Realizaci denního výkonu</a> (včetně souvisejících informací) pro právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> – spustí <a href="#" data-page-title="300UC12: Připravit realizaci denního výkonu"></a>, na vstup jsou pak předány následující hodnoty:<br><ul><li><strong>Denní výkon</strong>: právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (denní výkon již musí být schválen).<br></li></ul></li><li>Pokud je datum realizace právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut <strong>Datum realizace</strong>) nastaveno na dnešní datum:<br><ol><li>Systém zahájí sledování realizace právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> – spustí <a href="#" data-page-title="300UC13: Zahájit realizaci denního výkonu">300UC13: Zahájit realizaci denního výkonu</a>, na vstup UC jsou předány následující hodnoty:<br><ul><li><strong>Denní výkon</strong>: právě zkoumaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li><li><strong>Datum a čas od</strong>: hodnota atributu <strong>Datum realizace</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (čas nastaven na <strong>0:00:00</strong>).</li><li><strong>Datum a čas do</strong>: hodnota atributu <strong>Datum realizace</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (čas nastaven na <strong>23:59:59</strong>).<br><ul><li><em>Poznámka: Je zadán konec dne, <em>dostupné </em>poziční záznamy by však neměly být starší než aktuální čas.</em><em><br></em></li></ul></li><li><strong>Jen pozice v jízdě</strong>: předána hodnota <strong>FALSE</strong> (v tuto chvíli nemusí být jízdy ještě vygenerovány).</li></ul></li></ol></li></ol></li></ol><p>Poznámka: V rámci kroku 1.a  je ve volaném UC potlačeno zobrazení modálního okna s dotazem, zda si uživatel opravdu přeje smazat uložené <a href="../../../datove-modely/datovy-78681044.html">Průběhy editace denního výkonu</a>.</p><p><em>Interní poznámka: Uvedené chování do určité míry odpovídá původnímu stavu. Jednotlivé úkony však byly rozděleny na dílčí kroky.</em></p><ul><li><em>Největší změnou pak je příprava struktury s informacemi o realizaci pro všechny schválené denní výkony (potvrzovány jsou i takové denní výkony, u kterých nezačala realizace).</em></li><li><em>Odebrání existujících informací o realizaci je prováděno v rámci případného zrušení schválení denního výkonu, proto bylo zmíněné chování odebráno z tohoto UC.</em></li></ul><h1>Alternativní toky událostí</h1><p>Nejsou.</p><h1>Výjimkové toky událostí</h1><h3>EF01: Denní výkon je editován jiným uživatelem</h3><h4>Vstupní podmínky</h4><ul><li><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> je editován jiným uživatelem.</li></ul><h4>Tok událostí</h4><ol><li>Výjimkový tok událostí začíná krokem 1 základního toku událostí.</li><li>Systém zobrazí modální okno s chybovým hlášením, že <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> nemůže být editován, protože ho právě edituje někdo jiný (MSG_INFO_UNAVAILABLE_EDIT_DAILY_ROUTE, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Uživatel stiskne tlačítko OK.</li><li>Systém se vrátí zpět do části aplikace, kde došlo k požadavku na editaci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>. <strong>Konec toku událostí</strong>.</li></ol><h4>Výstupní podmínky</h4><ul><li><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> nebyl schválen.</li></ul><h1>Výstupní podmínky</h1><p>Všechny na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> byly schváleny.</p><h1>Validace</h1><p>–</p><h1>Algoritmy</h1><p>–.</p><h1>Uživatelské rozhraní</h1><p>–</p><h1>Revize</h1><h3>30. 7. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="200uc37-84838959.html">Základní tok událostí</a></td><td colspan="1">Revize způsobu zpracování pozičních záznamů (naznačeno růžově).</td></tr></tbody></table><h3>27. 10. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="200uc37-84838959.html">Základní tok událostí</a></td><td colspan="1">Doplněno chování pro založení informací o realizaci (naznačeno modře).</td></tr></tbody></table><h3>15. 6. 2023: Tomáš Nadrchal</h3><p>Doplněna možnost hromadného provedení akce – změny provedeny v rámci celého dokumentu (naznačeno modře).</p><h3>10. 10. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="200uc37-84838959.html">Základní tok událostí</a></td><td colspan="1">Doplněno chování při schválení <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, pokud datum realizace vychází na dnes (naznačeno modře).</td></tr></tbody></table><h3>20. 6. 2019: Miroslav Slivoně </h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="200uc37-84838959.html">Základní tok událostí</a></td><td colspan="1"><p>Zneplatňování instance Realizace denního výkonu bylo nahrazeno smazáním.</p><div>(Upraveno dle způsobu implementace.)</div></td></tr></tbody></table><h3>2. 4. 2019: Tomáš Nadrchal </h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="200uc37-84838959.html">Základní tok událostí</a></td><td colspan="1"><p>Doplněno volání konkrétního UC.</p></td></tr></tbody></table>
</div>
</body>
</html>
