<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>200UC11: Vložit likvidační místa do denního výkonu</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl UC</h1><p>Cílem UC je vložení jednoho či více Likvidačních míst do Denního výkonu.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th>Popis</th><th colspan="1">Typická role</th></tr><tr><td>Uživatel</td><td><p>Jedná se o uživatele aplikace RoadPlan, který musí mít oprávnění spouštět tento UC.</p></td><td colspan="1"><p> </p></td></tr></tbody></table><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na vložení Likvidačního místa do Denního výkonu jedním z těchto způsobů:</p><ul><li>Vložení Likvidačního místa do Denního výkonu v přehledu s Denními výkony na obrazovce pro plánování Denních výkonů (viz <a href="../../uzivatelske-rozhrani/200uixx/200ui01-83265952.html">200UI01: Obrazovka pro plánování denních výkonů</a>).</li><li>Vložení Likvidačního místa do Denního výkonu v přehledu s Denními výkony na obrazovce pro plánování Denních výkonů (viz <a href="#" data-page-title="206UC04: Zobrazit panel přehledu denních výkonů"></a>).</li><li>Vložení Likvidačního místa do Denního výkonu v tabulce s Položkami denního výkonu ve formuláři Denního výkonu (viz <a href="../../uzivatelske-rozhrani/200uixx/200ui02-83265956.html">200UI02: Formulář denního výkonu</a>).</li><li>Přeplánování denního výkonu (viz <a href="200uc56-115213863.html">200UC56: Přeplánovat denní výkon</a>).</li></ul><h1>Vstupní podmínky</h1><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na moduly a UC</a>:</p><ul><li>Plánování denních výkonů.</li></ul><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na typ entit</a>:</p><ul><li>Denní výkony - zobrazení a modifikace.</li><li>Likvidační místa - zobrazení.</li></ul><p>Poznámka: <a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a> není možné přidat do takového <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, který se nachází v jenom z následujících stavů (atribut Stav):</p><ul><li>Uzavřený.</li></ul><h3>Vstupní data</h3><table><tbody><tr><th>Vstupní parametr</div></div></th><th>Datový typ</div></div></th><th colspan="1">Povinnost</div></div></th><th>Popis</div></div></th><th colspan="1">Poznámka</div></div></th></tr><tr><td colspan="1">Denní výkon</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a></td><td colspan="1">Ano</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>, v rámci kterého má být vloženo <a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a>.</td><td colspan="1">–</td></tr><tr><td colspan="1">Likvidační místo</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a></td><td colspan="1">Ne</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a>, které má být do <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> vloženo.</td><td colspan="1">Pokud je k dispozici <a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a>, musí být předán také kód nakládání.</td></tr><tr><td colspan="1">Kód nakládání</td><td colspan="1"><p>Řetězec</p><p><em>Kód nakládání nakonec není evidován jako číselník.</em></p></td><td colspan="1">Ne</td><td colspan="1">Kód nakládání s odpadem v rámci zvoleného <a href="../../../datove-modely/datovy-78681044.html">Likvidačního místa</a>.</td><td colspan="1">Pokud je k dispozici kód nakládání, musí být předáno také <a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a>.</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>POKUD není na vstupu předáno <a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a> (vstupní parametr Likvidační místo).<br><ol><li>Systém zobrazí formulář pro výběr <a href="../../../datove-modely/datovy-78681044.html">Druhu odpadu likvidačního místa</a> dle <a href="#" data-page-title="700UI05: Výběrové dialogy"></a>, dostupné jsou pak takové <a href="../../../datove-modely/datovy-78681044.html">Druhy odpadu likvidačního místa</a>, které splňují všechny uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je rovna <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Druh odpadu</strong> odpovídá alespoň jednomu z <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu</a>, který se vyskytuje v rámci na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr <strong>Denní výkon</strong>, viz <a href="200uc11-83266974.html">ALG01: Druhy odpadu v denním výkonu</a>).</li><li>Uživatel má oprávnění na odpovídající <a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a> (vyhodnoceno dle <a href="../../../uzivatelska-78681297.html">uživateli dostupných instancí entit</a>, viz <a href="../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>).</li><li>Odpovídající <a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a> je dostupné pro <a href="../../../datove-modely/datovy-78681044.html">Provozovnu</a> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vyhodnoceno dle <a href="200uc11-83266974.html">ALG02: Dostupná likvidační místa dle provozovny denního výkonu</a>).</li><li>Odpovídající <a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a> má nastaveny souřadnice (atribut <strong>Souřadnice</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a> – atribut <strong>Likvidační místo</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Druh odpadu likvidačního místa</a>).<br></li><li>Poznámka: Získané záznamy jsou navíc agregovány dle dvojice atributů <strong>Likvidační místo</strong> a <strong>Kód nakládání</strong>.<br><ul><li>V rámci vkládané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> nastavujeme pouze atributy související s <a href="../../../datove-modely/datovy-78681044.html">Likvidačním místem</a> a kódem nakládání (viz krok <strong>1.d</strong>).</li><li>Zobrazení všech dostupných <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu likvidačního místa</a> tedy není potřeba (z pohledu uživatele se jedná o duplicity). Uvedený problém byl řešen v rámci úkolu <a href="https://jira.radium.cz/browse/RP-640">RP-640</a>.</li></ul></li></ul></li><li>Uživatel vybere právě jeden požadovaný <a href="../../../datove-modely/datovy-78681044.html">Druhu odpadu likvidačního místa</a>.</li><li>Uživatel stiskne tlačítko pro potvrzení výběru.</li><li>Systém pro zvolený <a href="../../../datove-modely/datovy-78681044.html">Druh odpadu likvidačního místa</a> vytvoří <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a>, kterou vloží na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> získaný na vstupu – spustí <a href="200uc25-83267057.html">200UC25: Vložit položku do denního výkonu</a>, na vstup UC jsou předány následující hodnoty:<br><ul><li><strong>Denní výkon</strong>: <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> získaný na vstupu (vstupní parametr <strong>Denní výkon</strong>).</li><li><strong>Likvidační místo</strong>: hodnota atributu <strong>Likvidační místo</strong> zvoleného <a href="../../../datove-modely/datovy-78681044.html">Druhu odpadu likvidačního místa</a>.</li><li><strong>Kód nakládání</strong>: hodnota atributu <strong>Kód nakládání</strong> zvoleného <a href="../../../datove-modely/datovy-78681044.html">Druhu odpadu likvidačního místa</a>.<br></li></ul></li></ol></li><li>JINAK na vstupu <a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a> předáno je.<br><ol><li>Systém v odpovídajícím pořadí postupně vloží <a href="../../../datove-modely/datovy-78681044.html">Likvidační místa</a> na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> získaný na vstupu – spustí <a href="200uc25-83267057.html">200UC25: Vložit položku do denního výkonu</a>, na vstup UC jsou předány následující hodnoty:</li></ol><ul><li><ul><li><strong>Denní výkon</strong>: <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> získaný na vstupu (vstupní parametr <strong>Denní výkon</strong>).</li><li><strong>Likvidační místo</strong>: <a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a> získané na vstupu (vstupní parametr <strong>Likvidační místo</strong>).</li><li><strong>Kód nakládání</strong>: Kód nakládání získaný na vstupu (vstupní parametr <strong>Kód nakládání</strong>).</li></ul></li></ul></li></ol><p>Poznámka:</p><ul><li>Pokud je přidáváno více <a href="../../../datove-modely/datovy-78681044.html">Likvidačních míst</a> zároveň, je přepočet trasy v rámci <a href="200uc25-83267057.html">200UC25: Vložit položku do denního výkonu</a> proveden až po přidání posledního <a href="../../../datove-modely/datovy-78681044.html">Likvidačního místa</a>.</li><li>Na pozadí pracujeme s <a href="../../../datove-modely/datovy-78681044.html">Druhy odpadu likvidačního místa</a> (obsahují totiž informaci o kódu nakládání). Z pohledu uživatele se však jedná přímo o <a href="../../../datove-modely/datovy-78681044.html">Likvidační místa</a>, ta jsou pak při výběru načítána duplicitně, a to pro každý podporovaný kód nakládání.</li></ul><p><em>Interní poznámka: Logika pro získání vkládaného záznamu (viz krok 1) se liší dle verze aplikace…</em></p><ul><li><em><strong>Aktuální verze (pro WinyX)</strong> – vybíráme přímo <a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a>, které přímo obsahuje kód nakládání. Vyhodnocení dostupných záznamů pak vychází z logiky uvedené pro novou verzi aplikace (včetně provedených změn).</em></li><li><em><strong>Nová verze (pro Helios)</strong> – vybíráme <a href="../../../datove-modely/datovy-78681044.html">Druh odpadu likvidačního místa</a>, který obsahuje jak <a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a>, tak kód nakládání (vyhodnocení dostupných záznamů je pak popsáno přímo v základním toku událostí).</em></li></ul><h1>Alternativní toky událostí</h1><p>Nejsou.</p><h1>Výjimkové toky událostí</h1><h3>EF01: Storno</h3><h4>Tok událostí</h4><ol><li>Výjimkový tok událostí může začít kdykoliv v rámci kroku 1 základního toku událostí.</li><li>KDYŽ uživatel stiskne tlačítko Storno.<br><ol><li>Systém se vrátí zpět do části aplikace, kde došlo k požadavku na vložení <a href="../../../datove-modely/datovy-78681044.html">Likvidačního místa</a> do <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>. <strong>Konec toku událostí</strong>.</li></ol></li><li>KDYŽ uživatel opustí formulář pro výběr <a href="../../../datove-modely/datovy-78681044.html">Likvidačního místa</a>.<br><ol><li><strong>Konec toku událostí</strong>.</li></ol></li></ol><h4>Výstupní podmínky</h4><ul><li>Do <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> nebyla vložena žádná <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>.</li></ul><h1>Výstupní podmínky</h1><ul><li>Do <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> byla vložena <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> typu Lokace objednané služby.</li></ul><h1>Validace</h1><p>Nejsou.</p><h1>Algoritmy</h1><h3>ALG01: Druhy odpadu v denním výkonu</h3><p>Aby bylo možné vyhodnotit, které <a href="../../../datove-modely/datovy-78681044.html">Druhy odpadu</a> se vyskytují v rámci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, je nutné projít všechny <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> typu Objednaná služba (atribut Typ položky entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – atribut Položky denního výkonu entity <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>).</p><p>V rámci nalezených <a href="../../../datove-modely/datovy-78681044.html">Položek denního výkonu</a> je pak zkoumána konkrétní <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> (atribut Objednaná služba entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>).</p><p>Z každé <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> pak získáme kolekci s <a href="../../../datove-modely/datovy-78681044.html">Druhy odpadu</a> (atribut Druh odpadu entity <a href="../../../datove-modely/datovy-78681044.html">Vývoz na Likvidační místo</a> – atribut Vývozy na Likvidační místo entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a> – atribut Objednaná nádoba entity <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> – atribut Objednaný úkon entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>).</p><p>Nalezená kolekce <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu</a> je pak upravena tak, aby v ní každý <a href="../../../datove-modely/datovy-78681044.html">Druh odpadu</a> byl obsažen maximálně jednou.</p><h3>ALG02: Dostupná likvidační místa dle provozovny denního výkonu</h3><p>Při výběru <a href="../../../datove-modely/datovy-78681044.html">Druhu odpadu likvidačního místa</a> jsou dostupné pouze takové záznamy, u kterých <a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a> (atribut <strong>Likvidační místo</strong>) spadá pod stejnou <a href="../../../datove-modely/datovy-78681044.html">Provozovnu</a>, jako na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>).</p><p>Pokud tedy hodnota atributu <strong>Provozovna</strong> zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Likvidační místo</a> odpovídá jedné z dále uvedených <a href="../../../datove-modely/datovy-78681044.html">Provozoven</a>, je odpovídající <a href="../../../datove-modely/datovy-78681044.html">Druh odpadu likvidačního místa</a> k dispozici:</p><ul><li>odpovídá některé z <a href="../../../datove-modely/datovy-78681044.html">Provozoven</a>, která je přímo nadřízena <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a> daného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut <strong>Provozovna</strong>; vyhodnoceno dle atributu <strong>Nadřízená provozovna</strong> dané <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>).</li><li>odpovídá přímo <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a>, pro kterou je <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (atribut <strong>Provozovna</strong>) založen.</li><li>odpovídá některé z <a href="../../../datove-modely/datovy-78681044.html">Provozoven</a>, která je podřízena <a href="../../../datove-modely/datovy-78681044.html">Provozovně</a> daného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut <strong>Provozovna</strong>; vyhodnoceno dle atributu <strong>Nadřízená provozovna</strong> dané <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>).</li><li>konkrétní <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> není k dispozici (u daného <a href="../../../datove-modely/datovy-78681044.html">Likvidačního místa</a> není <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> k dispozici).</li></ul><p>Poznámka: Uvedený algoritmus vychází z logiky použité v rámci vyhodnocení <a href="../../../uzivatelska-78681297.html">uživateli dostupných instancí entit</a> (viz <a href="../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>).</p><h1>Uživatelské rozhraní</h1><p>Rozložení formuláře pro výběr <a href="../../../datove-modely/datovy-78681044.html">Likvidačního místa</a> je uveden v samostatném dokumentu – viz <a href="#" data-page-title="700UI05: Výběrové dialogy"></a>.</p><h1>Revize</h1><h3>12. 12. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="200uc11-83266974.html">Základní tok událostí</a></td><td colspan="1">Revize dostupných záznamů při vložení likvidačního místa do denního výkonu (naznačeno modře).</td></tr></tbody></table><h3>11. 9. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="200uc11-83266974.html">Základní tok událostí</a></td><td colspan="1">Revize dostupných záznamů (naznačeno modře).</td></tr><tr><td colspan="1"><a href="200uc11-83266974.html">ALG02: Dostupná likvidační místa dle provozovny denního výkonu</a></td><td colspan="1">Doplněn způsob, jakým jsou získána likvidační místa dostupná pro odpovídající denní výkon (naznačeno modře).</td></tr></tbody></table><h3>7. 11. 2022: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="200uc11-83266974.html">Vstupní data</a></td><td colspan="1">Revize způsobu zobrazení kódu nakládání (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="200uc11-83266974.html">Základní tok událostí</a></td><td colspan="1">Revize způsobu zobrazení kódu nakládání (naznačeno růžově).</td></tr></tbody></table><h3>15. 6. 2022: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="200uc11-83266974.html">Vstupní data</a></td><td colspan="1">Revize vstupních parametrů (naznačeno modře).</td></tr><tr><td colspan="1"><a href="200uc11-83266974.html">Základní tok událostí</a></td><td colspan="1">Revize chování pro možnost práce s kódy nakládání (naznačeno modře).</td></tr></tbody></table><h3>8. 9. 2020: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><p><a href="200uc11-83266974.html">Základní tok událostí</a></p></td><td colspan="1">Doplněna specifikace likvidačních míst, která mají být v rámci přehledu načtena (naznačeno modře).</td></tr></tbody></table><h3>29. 3. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><p><a href="200uc11-83266974.html">Vstupní podmínky</a></p></td><td colspan="1"><p>Aktualizována poznámka o možnosti přidat <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a>.</p></td></tr></tbody></table><h3>8. 2. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><p><a href="200uc11-83266974.html">Základní tok událostí</a></p></td><td colspan="1">Doplněna poznámka o dostupných <a href="../../../datove-modely/datovy-78681044.html">Likvidačních místech</a> dle <a href="../../../datove-modely/datovy-78681044.html">Druhy odpadu</a>.</td></tr><tr><td colspan="1"><p><a href="200uc11-83266974.html">ALG01: Druhy odpadu v denním výkonu</a></p></td><td colspan="1">Doplněn algoritmu pro získání obsažených <a href="../../../datove-modely/datovy-78681044.html">Druhů odpadu</a> v rámci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</td></tr></tbody></table><p><br></p>
</div>
</body>
</html>
