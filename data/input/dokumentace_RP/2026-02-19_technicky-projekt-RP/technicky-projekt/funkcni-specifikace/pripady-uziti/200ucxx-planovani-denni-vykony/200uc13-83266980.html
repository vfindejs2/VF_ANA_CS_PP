<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>200UC13: Vložit servis do denního výkonu</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl UC</h1><p>Cílem případu užití je vložení alokace na servis do denního výkonu (resp. jejich množiny).</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th>Popis</th><th colspan="1">Typická role</th></tr><tr><td>Uživatel</td><td><p>Jedná se o uživatele aplikace RoadPlan, který musí mít oprávnění spouštět tento UC.</p></td><td colspan="1"><p> </p></td></tr></tbody></table><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na vložení alokace na servis do Denního výkonu jedním z těchto způsobů:</p><ul><li>Vložení alokace na servis do Denního výkonu v přehledu s Denními výkony na obrazovce pro plánování Denních výkonů (viz <a href="../../uzivatelske-rozhrani/200uixx/200ui01-83265952.html">200UI01: Obrazovka pro plánování denních výkonů</a>).</li><li>Vložení alokace na servis do Denního výkonu v přehledu s Denními výkony na obrazovce pro plánování Denních výkonů (viz <a href="#" data-page-title="206UC04: Zobrazit panel přehledu denních výkonů"></a>).<br></li><li>Vložení alokace na servis do Denního výkonu v tabulce s Položkami denního výkonu ve formuláři Denního výkonu (viz <a href="../../uzivatelske-rozhrani/200uixx/200ui02-83265956.html">200UI02: Formulář denního výkonu</a>).</li></ul><h1>Vstupní podmínky</h1><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na moduly a UC</a>:</p><ul><li>Plánován denních výkonů.</li></ul><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na typ entit</a>:</p><ul><li>Denní výkony - zobrazení a modifikace.</li></ul><h3>Vstupní data</h3><table><tbody><tr><th>Vstupní parametr</div></div></div></th><th>Datový typ</div></div></div></th><th colspan="1">Povinnost</div></div></div></th><th>Popis</div></div></div></th><th colspan="1">Poznámka</div></div></div></th></tr><tr><td colspan="1">Denní výkony</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (kolekce)</td><td colspan="1">Ano</td><td colspan="1">Denní výkony, u kterých má být provedena alokace na servis.</td><td colspan="1">–</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Systém zobrazí formulář pro nastavení časového rozmezí alokace na servis a provede jeho výchozí nastavení – spustí  <a href="#" data-page-title="702UI02: Formulář pro nastavení termínu"></a>, formulář je pak zobrazen následovně:<br><ul><li><strong>Nadpis okna</strong>: Alokovat pro servis.</li><li><strong>Nastavení data</strong>: Není k dispozici (komponenty Datum od, Datum do).</li><li><strong>Nastavení času</strong>: Je k dispozici (komponenty Čas od, Čas do).<br><ul><li><strong>Nadpis</strong>: Časové rozmezí*.</li><li><strong>Povinnost</strong>: Zadání je povinné.</li></ul></li><li><strong>Nadpis tlačítka pro potvrzení formuláře</strong>: Vložit.</li><li><strong>Vstupní data</strong>:<br><ul><li><strong>Datum od</strong>: není předána žádná hodnota (NULL).</li><li><strong>Datum do</strong>: není předána žádná hodnota (NULL).<br></li><li><strong>Čas od</strong>: není předána žádná hodnota (NULL).</li><li><strong>Čas do</strong>: není předána žádná hodnota (NULL).</li></ul></li></ul></li><li>Uživatel vyplní formulář.</li><li>Uživatel stiskne tlačítko pro vložení alokace na servis.</li><li>Systém provede validaci vstupních údajů.</li><li>Pro všechny na vstupu získané <a href="../../../datove-modely/datovy-78681044.html">Denní výkony</a> (vstupní parametr <strong>Denní výkony</strong>):<ol><li>Systém vloží do právě zkoumaného  <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> nový <a href="../../../datove-modely/datovy-78681044.html">Intervaly omezení denního výkonu</a> (atribut <strong>Intervaly omezení</strong>) dle hodnot získaných ve formuláři:</li></ol><ul><li><ul><li><strong>Typ omezení</strong>: hodnota <strong>Alokace na servis</strong>.</li><li><strong>Čas omezení od</strong>: ve formuláři nastavený <strong>Čas od</strong>.</li><li><strong>Čas omezení do</strong>: ve formuláři nastavený <strong>Čas do</strong>.</li></ul></li></ul></li></ol><h1>Alternativní toky událostí</h1><h3>AF01: Údaje ve formuláři nejsou validní</h3><h4>Vstupní podmínky</h4><ul><li>Údaje ve formuláři nejsou validní – viz <a href="200uc13-83266980.html">Validace</a>.</li></ul><h4>Tok události</h4><ol><li>Alternativní tok událostí začíná krokem 4 základního toku událostí.</li><li>Systém zvýrazní ovládací prvky, které neobsahují validní hodnotu.</li><li>Systém zobrazí uživateli informaci, že některé ze zadaných údajů nejsou validní (TODO: kód hlášky, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).<strong>Návrat na krok 2 základního toku událostí</strong>.</li></ol><h3>AF02: Kolize časového rozmezí</h3><h4>Vstupní podmínky</h4><ul><li>Nastavené časové rozmezí je v kolizi s jinou alokací na servis – viz <a href="200uc13-83266980.html">Validace</a>.</li></ul><h4>Tok události</h4><ol><li>Alternativní tok událostí začíná krokem 4 základního toku událostí.</li><li>Systém zobrazí uživateli informaci, že zadané časové rozmezí je v kolizi s jinou alokací na servis (MSG_ERR_TIME_RANGE_FOR_SERVICE_EXIST, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Uživatel stisknutím tlačítka potvrdí zobrazené hlášení.</li><li>Systém zavře modální okno se zobrazenou informací. <strong>Návrat na krok 2 základního toku událostí</strong>.</li></ol><h1>Výjimkové toky událostí</h1><h3>EF01: Storno</h3><h4>Tok událostí</h4><ol><li>Výjimkový tok událostí může začít kdykoliv.</li><li>KDYŽ uživatel stiskne tlačítko Storno.<br><ol><li>Systém se vrátí zpět do části aplikace, kde došlo k požadavku na vložení alokace na servisu do <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>. <strong>Konec toku událostí</strong>.</li></ol></li><li>KDYŽ uživatel opustí formulář pro nastavení časového rozmezí alokace na servis.<br><ol><li><strong>Konec toku událostí</strong>.</li></ol></li></ol><h4>Výstupní podmínky</h4><ul><li>Do <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> nebyl vložen <a href="../../../datove-modely/datovy-78681044.html">Interval omezení denního výkonu</a> typu Alokace na servis.</li></ul><h1>Výstupní podmínky</h1><ul><li>Do <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> byl vložen <a href="../../../datove-modely/datovy-78681044.html">Interval omezení denního výkonu</a> typu Alokace na servis.</li></ul><h1>Validace</h1><p>Validace je prováděna průběžně, pokud uživatel vstoupí do pole s možností zadání hodnoty, zadá hodnotu a pole opustí ve stavu, kdy hodnota není validní, je na to upozorněn. Ovládací prvek je graficky zvýrazněn a je doplněno chybové hlášení. Konkrétní validace jednotlivých polí jsou uvedeny v <a href="#" data-page-title="702UI02: Formulář pro nastavení termínu"></a>. Hlídána jsou jak konkrétní validační kritéria každé položky, tak i to, zda je položka povinná.</p><p>Jakmile uživatel stiskne tlačítko Uložit, je provedena validace všech polí spolu s kontrolou, zda dané časové rozmezí není v kolizi některou z již přidaných alokací na servis.</p><p>Pro všechny vložené <a href="../../../datove-modely/datovy-78681044.html">Intervaly omezení denního výkonu</a> typu Alokace na servis u odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> musí zároveň platit:</p><ul><li>Čas omezení od ani Čas omezení do nesmí být umístěn uvnitř časového rozmezí některého z <a href="../../../datove-modely/datovy-78681044.html">Intervalů omezení denního výkonu</a>.</li><li>Čas omezení od nesmí být menší než Čas omezení od vloženého <a href="../../../datove-modely/datovy-78681044.html">Intervalu omezení denního výkonu</a> a zároveň Čas omezení do nesmí být větší než Čas omezení do vloženého <a href="../../../datove-modely/datovy-78681044.html">Intervalu omezení denního výkonu</a>.</li></ul><h1>Algoritmy</h1><p>Nejsou.</p><h1>Uživatelské rozhraní</h1><p>Rozložení formuláře pro specifikaci alokace na servis je uvedeno v samostatném dokumentu – viz <a href="#" data-page-title="702UI02: Formulář pro nastavení termínu"></a>.</p><h1>Revize</h1><h3>16. 6. 2023: Tomáš Nadrchal</h3><p>Doplněna možnost hromadného provedení akce (naznačeno modře).</p>
</div>
</body>
</html>
