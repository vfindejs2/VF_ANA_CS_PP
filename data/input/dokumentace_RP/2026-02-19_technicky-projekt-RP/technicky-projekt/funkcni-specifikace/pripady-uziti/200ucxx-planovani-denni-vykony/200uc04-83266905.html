<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>200UC04: Přiřadit vozidlo dennímu výkonu</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl UC</h1><p>Cílem UC je přiřazení <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (resp. vozidla) k <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a>.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th>Popis</th><th colspan="1">Typická role</th></tr><tr><td>Uživatel</td><td><p>Jedná se o uživatele aplikace RoadPlan, který musí mít oprávnění spouštět tento UC.</p></td><td colspan="1"><p>Dispečer</p></td></tr></tbody></table><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek k přiřazení <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> existujícímu <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> jedním z těchto způsobů:</p><ul><li>Přiřazení <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> existujícímu <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> na obrazovce pro plánování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a> (viz <a href="#" data-page-title="206UC04: Zobrazit panel přehledu denních výkonů"></a>).<br></li><li>Přiřazení <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> existujícímu <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> na obrazovce pro editaci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>  (viz <a href="#" data-page-title="200UC02: Upravit denní výkon">200UC02: Upravit denní výkon</a>).</li><li>Přiřazení <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> existujícímu <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> při změně přiřazeného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (viz <a href="#" data-page-title="200UC05: Změnit vozidlo denního výkonu"></a>).</li></ul><h1>Vstupní podmínky</h1><ul><li>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na moduly a UC</a>:<br><ul><li>Plánován denních výkonů.</li></ul></li><li>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na typ entit</a>:<br><ul><li>Denní výkony - zobrazení a modifikace.</li></ul></li><li>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na instance entity</a>:<br><ul><li>Uživatel může mít právo na omezenou množinu <a href="../../../datove-modely/datovy-78681044.html">Provozoven</a> (minimálně pak alespoň na 1).</li><li>Uživatel může mít právo na omezenou množinu <a href="../../../datove-modely/datovy-78681044.html">Objektů</a>.</li></ul></li></ul><h3>Vstupní data</h3><table><tbody><tr><th>Vstupní parametr</div></div></div></div></th><th>Datový typ</div></div></div></div></th><th colspan="1">Povinnost</div></div></div></div></th><th>Popis</div></div></div></div></th><th colspan="1">Poznámka</div></div></div></div></th></tr><tr><td colspan="1">Denní výkon</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a></td><td colspan="1">Ano</td><td colspan="1">Denní výkon, ke kterému má být přiřazeno vozidlo</td><td colspan="1">–</td></tr><tr><td colspan="1">Vozidlo</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Objekt</a></td><td colspan="1">Ne</td><td colspan="1">Vozidlo, které má být k dennímu výkonu přiřazeno.</td><td colspan="1">Pokud není zadáno, je vybráno uživatelem v rámci UC.</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Pokud není na vstupu UC předán <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> (vstupní parametr <strong>Objekt</strong>):<br><ol><li>Systém zobrazí modální okno pro výběr <a href="../../../datove-modely/datovy-78681044.html">Objektu</a>(viz <a href="../../uzivatelske-rozhrani/700uixx-obecne/700ui05-79430047.html">700UI05: Výběrové dialogy</a>), změny oproti běžnému zobrazení jsou následující:<br><ul><li>Sloupce <strong>Typ dopravy</strong> a <strong>Provozovna</strong> nejsou zobrazeny.</li><li>Jsou zobrazeny pouze <a href="../../../datove-modely/datovy-78681044.html">Objekty</a>, které splňují všechny dále uvedené podmínky zároveň:<br><ul><li>Uživatel má oprávnění na zobrazení <a href="../../../datove-modely/datovy-78681044.html">Objektu</a>.</li><li>Hodnota atributu <strong>Provozovna</strong> daného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> je k dispozici a tato <a href="../../../datove-modely/datovy-78681044.html">Provozovna</a> je aktivní (hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong>).<br></li><li><a href="../../../datove-modely/datovy-78681044.html">Objekt</a> podporuje stejný <a href="../../../datove-modely/datovy-78681044.html">Typy dopravy</a> jako na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>) – existuje záznam entity <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy objektu</a>, který splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Objekt</strong> odpovídá právě zkoumanému <a href="../../../datove-modely/datovy-78681044.html">Objektu</a>.</li><li>Hodnota atributu <strong>Typ dopravy</strong> odpovídá <a href="../../../datove-modely/datovy-78681044.html">Typu dopravy</a> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut <strong>Typ dopravy</strong>).</li></ul></li><li><a href="../../../datove-modely/datovy-78681044.html">Objekt</a> není naplánován na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> jiné než „domovské“ <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> – neexistuje tedy <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> splňující všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Provozovna</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> je různá od hodnoty atributu <strong>Provozovna</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a>.</li><li>Hodnota atributu <strong>Datum realizace</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> je shodná s hodnotou atributu <strong>Datum realizace</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li><li>Hodnota atributu <strong>Vozidlo</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> odpovídá právě zkoumanému <a href="../../../datove-modely/datovy-78681044.html">Objektu</a>.</li></ul></li><li><a href="../../../datove-modely/datovy-78681044.html">Objekt</a> může být přiřazen k na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> (vstupní parametr <strong>Denní výkon</strong>) – není splněna ani jedna z dále uvedených podmínek:<br><ul><li>Hodnota atributu <strong>Datum zařazení</strong> není k dispozici (NULL) a současně je konfigurační hodnota <strong>generateDailyRoutesIsInsertionDateCompulsory</strong> nastavena na <strong>TRUE</strong> (viz <a href="../../../konfiguracni-81592468.html">Konfigurační hodnoty</a>).</li><li>Hodnota atributu <strong>Datum zařazení</strong> je větší než datum realizace na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut <strong>Datum realizace</strong>; pokud není hodnota k dispozici, není podmínka vyhodnocována).</li><li>Hodnota atributu <strong>Datum vyřazení</strong> je menší než datum realizace na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut <strong>Datum realizace</strong>; pokud není hodnota k dispozici, není podmínka vyhodnocována).</li></ul></li></ul></li><li>Je možné vybrat pouze jednu položku.<br></li></ul></li><li>Uživatel vybere požadovaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a>.</li><li>Uživatel stiskne tlačítko pro potvrzení výběru (jinak dojde k <a href="200uc04-83266905.html">EF01: Storno</a>).</li><li>Systém zavře modální okno.</li></ol></li><li>Systém provede nastavení na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr <strong>Denní výkon</strong>): <br><ol><li>Atribut <strong>Vozidlo</strong>: Na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> (vstupní parametr <strong>Vozidlo</strong>), případně <a href="../../../datove-modely/datovy-78681044.html">Objekt</a> vybraný uživatelem (viz krok 1).</li><li>Atribut <strong>Identifikace denního výkonu</strong>: Hodnota atributu <strong>Identifikátor objektu</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (vstupní parametr <strong>Vozidlo</strong>), případně <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> vybraného uživatelem (viz krok 1).</li><li>Atribut <strong>Způsob vyhodnocení realizace</strong>: Hodnota atributu <strong>Způsob vyhodnocení realizace</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (vstupní parametr <strong>Vozidlo</strong>), případně <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> vybraného uživatelem (viz krok 1).</li></ol></li><li>Pokud je na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> v jednom z uvedených stavů: <strong>Schválený</strong>, <strong>Plněný</strong> (atribut <strong>Stav</strong>, viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>):<br><ol><li>Systém aktualizuje informace o realizaci – spustí <a href="#" data-page-title="300UC16: Aktualizovat realizaci denního výkonu">300UC16: Aktualizovat realizaci denního výkonu</a>, na vstupu UC jsou předány následující hodnoty:<br><ul><li><strong>Denní výkon</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>).</li></ul></li></ol></li></ol><p>Poznámka: Pokud dochází k přepočtu trasy <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (konkrétně <a href="200uc29-83267154.html">200UC29: Získat trasu denního výkonu</a>) ve více částech UC, může být provedení této akce provedeno společně v závěru UC.</p><h1>Alternativní toky událostí</h1><h3>AF01: Vypůjčené vozidlo</h3><h4>Vstupní podmínky</h4><ul><li><a href="../../../datove-modely/datovy-78681044.html">Objekt</a>, který má být přiřazeno na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>, je již přiřazen k <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> „domovské“ <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a>. Existuje tedy <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> splňující všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Provozovna</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> je shodná s hodnotou atributu <strong>Provozovna</strong> <a href="../../../datove-modely/datovy-78681044.html">Objektu</a>, který má být přiřazen na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> získaný na vstupu UC.</li><li>Hodnota atributu <strong>Datum realizace</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> je shodná s hodnotou atributu <strong>Datum realizace</strong> <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, který je získán na vstupu UC.</li><li>Hodnota atributu <strong>Vozidlo</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> odpovídá <a href="../../../datove-modely/datovy-78681044.html">Objektu</a>, který má být přiřazen na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> získaný na vstupu UC.<br></li></ul></li></ul><p>Poznámka: Stav <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> je pak omezen na úrovni možnosti jeho editace – plánování není možné provést v minulosti. Tím je omezena i množina stavů <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, ve kterých lze vypůjčení uskutečnit (dostupné je tedy ve stavech Plánovaný, Schválený, Plněný).</p><h4>Tok událostí</h4><ol><li>Alternativní tok začíná krokem 2 základního toku událostí.</li><li>Pokud <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> „domovské“ <a href="../../../datove-modely/datovy-78681044.html">Provozovny</a> (viz <a href="200uc04-83266905.html">Vstupní podmínky</a>) obsahuje alespoň jednu <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> (atribut Položky denního výkonu):<br><ol><li>Systém zobrazí modální okno s dotazem, zda si uživatel opravdu přeje provést přiřazení <a href="../../../datove-modely/datovy-78681044.html">Objektu</a>– MSG_CONF_CANCEL_ASSIGN_VEHICLE, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>.</li></ol></li><li>Uživatel stiskne tlačítko pro potvrzení výběru (jinak dojde k <a href="200uc04-83266905.html">EF01: Storno</a>).</li><li>Systém zavře modální okno.</li><li>Systém provede vyčištění nalezeného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> – spustí <a href="#" data-page-title="200UC36: Vyčistit denní výkon"></a>, na vstup UC jsou předány následující hodnoty:<br><ul><li>Denní výkon: nalezený <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul></li><li>Systém nastaví stav nalezeného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> na hodnotu Vypůjčený (atribut Stav).</li></ol><h3>AF02: Vozidlo s nastaveným stanovištěm</h3><p>Pokud je k <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> přiřazeno vozidlo s nastaveným <a href="../../../datove-modely/datovy-78681044.html">Stanovištěm</a>, provádíme aktualizaci jeho počáteční a cílové <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a>.</p><h4>Vstupní podmínky</h4><ul><li>Existuje alespoň jedno <a href="../../../datove-modely/datovy-78681044.html">Přiřazení objektu ke stanovišti</a>, které splňuje všechny dále uvedené podmínky zároveň:<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Objekt</strong> odpovídá na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (vstupní parametr <strong>Vozidlo</strong>).</li><li>Hodnota atributu <strong>Platnost od</strong> je menší nebo rovna hodnotě atributu <strong>Datum realizace</strong> u na vstup získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr <strong>Denní výkon</strong>; vyhodnocováno jako datum, bez části s časem).</li><li>Hodnota atributu <strong>Platnost do</strong> je větší nebo rovna hodnotě atributu <strong>Datum realizace</strong> u na vstup získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr <strong>Denní výkon</strong>; vyhodnocováno jako datum, bez části s časem).</li></ul></li></ul><h4>Tok událostí</h4><ol><li>Alternativní tok začíná krokem <strong>2</strong> základního toku událostí.<br></li><li>Systém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> – hodnota atributu <strong>Stanoviště</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Přiřazení objektu ke stanovišti</a> (viz <strong>Vstupní podmínky</strong>).<br><ul><li><em>Poznámka: Mělo by existovat maximálně jedno takové přiřazení. Pokud bychom jich nalezli více, pracujeme s tím s nejvyšším interním ID.</em></li></ul></li><li>Pokud získané <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> (viz krok <strong>2</strong>) splňuje všechny dále uvedené podmínky – pokračujeme nastavením počátku a konce získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (přechod na krok <strong>3</strong>).<br><ul><li>Hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong>.</li><li>Hodnota atributu <strong>Adresa</strong> je k dispozici.</li><li>Hodnota atributu <strong>Zeměpisná šířka</strong> je k dispozici.</li><li>Hodnota atributu <strong>Zeměpisná délka</strong> je k dispozici.</li></ul></li><li>Systém provede aktualizaci počáteční a cílové <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a>:<br><ol><li>Systém získá počáteční <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> – atribut <strong>Lokace objednané služby</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – atribut <strong>Počáteční položka denního výkonu</strong> na vstupu algoritmu získaného <strong>Denního výkonu</strong> (vstupní parametr <strong>Denní výkon</strong>).</li><li>Systém aktualizuje dále uvedené atributy počáteční <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (viz krok <strong>4.a</strong>) dle získaného <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> (viz krok <strong>2</strong>):<br><ul><li><strong>Adresa</strong>: Hodnota atributu <strong>Adresa</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a>.</li><li><strong>Zeměpisná šířka</strong>: Hodnota atributu <strong>Zeměpisná šířka</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a>.</li><li><strong>Zeměpisná délka</strong>: Hodnota atributu <strong>Zeměpisná délka</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a>.</li></ul></li><li>Systém získá koncovou <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> – atribut <strong>Lokace objednané služby</strong> entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – atribut <strong>Koncová položka denního výkonu</strong> na vstupu algoritmu získaného <strong>Denního výkonu</strong> (vstupní parametr <strong>Denní výkon</strong>).</li><li>Systém aktualizuje dále uvedené atributy koncové <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (viz krok <strong>4.c</strong>) dle získaného <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a> (viz krok <strong>2</strong>):<br><ul><li><strong>Adresa</strong>: Hodnota atributu <strong>Adresa</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a>.</li><li><strong>Zeměpisná šířka</strong>: Hodnota atributu <strong>Zeměpisná šířka</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a>.</li><li><strong>Zeměpisná délka</strong>: Hodnota atributu <strong>Zeměpisná délka</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Stanoviště</a>.</li></ul></li><li>Systém provede aktualizaci trasy <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> – spustí <a href="200uc29-83267154.html">200UC29: Získat trasu denního výkonu</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Denní výkon</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>).</li></ul></li></ol></li></ol><p>Poznámka: Změna počáteční či cílové <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> uživatelem nemá vliv na provedení této akce.</p><h3>AF03: Vozidlo s nastavenými parametry denního výkonu</h3><p>Pokud je k <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> přiřazeno vozidlo s dostupným nastavením pro denní výkon (viz <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a>), provedeme odpovídající úpravy tohoto <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</p><h4>Vstupní podmínky</h4><p>Probíhá po přiřazení vozidla k dennímu výkonu.</p><ul><li>Pro zachování přehlednosti není uvedeno vyhodnocení, zda skutečně dochází ke změně hodnot.</li><li>Nicméně v rámci implementace tato logika doplněna být může.</li></ul><p>Existuje alespoň jeden takový záznam entity <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a>, který splňuje všechny dále uvedené podmínky:</p><ul><li>Hodnota atributu <strong>Objekt</strong> odpovídá na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> (vstupní parametr <strong>Vozidlo</strong>).</li><li>Hodnota atributu <strong>Platnost od</strong> je menší nebo rovna hodnotě atributu <strong>Datum realizace</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr <strong>Denní výkon</strong>).</li><li>Hodnota atributu <strong>Platnost do</strong> je větší nebo rovna hodnotě atributu <strong>Datum realizace</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr <strong>Denní výkon</strong>).<br><ul><li><em>Pokud není hodnota atributu <strong>Platnost do</strong> k dispozici, není tato podmínka vyhodnocována.</em></li></ul></li><li>Hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong>.</li></ul><p>Poznámka: Pokud je získáno více záznamů entity <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a> současně, pracujeme s tím s nejvyšší hodnotou interního ID. Uvedená situace by však neměla nastat, jednalo by se o chybu.</p><h4>Tok událostí</h4><ol><li>Alternativní tok začíná krokem <strong>2</strong> základního toku událostí.</li><li>Pokud je v rámci získaného <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a> (viz <strong>Vstupní podmínky</strong>) k dispozici hodnota atributu <strong>Barva</strong>:<br><ol><li>Systém aktualizuje hodnotu atributu <strong>Barva</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> dle této hodnoty.</li></ol></li><li>Pokud je v rámci získaného <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a> (viz <strong>Vstupní podmínky</strong>) k dispozici hodnota atributu <strong>Provozní doba od</strong> i <strong>Provozní doba do</strong> současně:<br><ol><li>Systém připraví odpovídající <a href="../../../datove-modely/datovy-78681044.html">Intervaly omezení denního výkonu</a> představující provozní dobu:<br><ul><li><p><strong>Typ omezení</strong>: Mimo provozní dobu, <strong>Čas omezení od</strong>: 0:00, <strong>Čas omezení do</strong>: hodnota atribut <strong>Provozní doba od</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a>.</p></li><li><p><strong>Typ omezení</strong>: Mimo provozní dobu, <strong>Čas omezení od</strong>: hodnota atribut <strong>Provozní doba do</strong> získaného <a href="../../../datove-modely/datovy-78681044.html">Nastavení objektu pro denní výkon</a>, <strong>Čas omezení do</strong>: 23:59.</p></li></ul></li><li>Systém aktualizuje provozní dobu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> – spustí <a href="#" data-page-title="200UC33: Upravit provozní dobu denního výkonu">200UC33: Upravit provozní dobu denního výkonu</a>, na vstup jsou předány dále uvedené hodnoty:<br><ul><li><strong>Denní výkony</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>).</li><li><strong>Intervaly omezení denního výkonu</strong>: vytvořené <a href="../../../datove-modely/datovy-78681044.html">Intervaly omezení denního výkonu</a> (viz krok 3.a).</li><li><em>Poznámka: V rámci UC probíhá také aktualizace trasy <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</em></li></ul></li><li>Systém aktualizuje časové okno lokace představující začátek denního výkonu:<em><br></em><ol><li>Systém získá počáteční <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> – atribut <strong>Počáteční položka denního výkonu</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr <strong>Denní výkon</strong>).</li><li>Systém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> – atribut <strong>Lokace objednané služby</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> (viz předchozí krok).</li><li>Systém nastaví hodnotu atributu <strong>Začátek časového okna</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>: získaná hodnota <strong>začátek provozní doby</strong> (viz krok <strong>1.a.i</strong> nebo <strong>2.a</strong>).</li><li>Systém nastaví hodnotu atributu <strong>Konec časového okna</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>: získaná hodnota <strong>konec provozní doby</strong> (viz krok <strong>1.a.ii</strong> nebo <strong>2.b</strong>).</li></ol></li><li>Systém aktualizuje časové okno lokace představující konec denního výkonu:<br><ol><li>Systém získá koncovou <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> – atribut <strong>Koncová položka denního výkonu</strong> na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (vstupní parametr <strong>Denní výkon</strong>).</li><li>Systém získá odpovídající <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> – atribut <strong>Lokace objednané služby</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> (viz předchozí krok).</li><li>Systém nastaví hodnotu atributu <strong>Začátek časového okna</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>: získaná hodnota <strong>začátek provozní doby</strong> (viz krok <strong>1.a.i</strong> nebo <strong>2.a</strong>).</li><li>Systém nastaví hodnotu atributu <strong>Konec časového okna</strong> získané <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>: získaná hodnota <strong>konec provozní doby</strong> (viz krok <strong>1.a.ii</strong> nebo <strong>2.b</strong>).<br></li></ol></li></ol></li></ol><h1>Výjimkové toky událostí</h1><h3>EF01: Storno</h3><h4>Tok událostí</h4><ol><li>Výjimkový tok událostí může začít kdykoliv.</li><li>KDYŽ uživatel stiskne tlačítko pro zrušení prováděné akce.<br><ol><li>Systém zavře modální okno.</li><li>Systém se vrátí zpět do části aplikace, kde došlo k požadavku na přiřazení <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>. <strong>Konec toku událostí</strong>.</li></ol></li><li>KDYŽ uživatel opustí modální.<br><ol><li><strong>Konec toku událostí</strong>.</li></ol></li></ol><h4>Výstupní podmínky</h4><ul><li><a href="../../../datove-modely/datovy-78681044.html">Objekt</a> nebyl přiřazen na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul><h1>Výstupní podmínky</h1><ul><li><a href="../../../datove-modely/datovy-78681044.html">Objekt</a> byl přiřazen na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul><h1>Validace</h1><p>Nejsou.</p><h1>Algoritmy</h1><p>Nejsou.</p><h1>Uživatelské rozhraní</h1><p>Rozložení modálního okna pro výběr <a href="../../../datove-modely/datovy-78681044.html">Objektu</a> je uvedeno v samostatném dokumentu – viz <a href="../../uzivatelske-rozhrani/700uixx-obecne/700ui05-79430047.html">700UI05: Výběrové dialogy</a>.</p><h1>Revize</h1><h3>14. 9. 2025: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></div></div></th></tr><tr><td colspan="1"><a href="200uc04-83266905.html">Základní tok událostí</a></td><td colspan="1">Doplněna poznámka k přepočtu trasy denního výkonu (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="200uc04-83266905.html">AF03: Vozidlo s nastavenými parametry denního výkonu</a></td><td colspan="1">Doplněn alternativní tok událostí pro nastavení DV dle parametrů vozidla (naznačeno růžově).</td></tr></tbody></table><h3>11. 4. 2025: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></div></div></th></tr><tr><td colspan="1"><a href="200uc04-83266905.html">AF02: Vozidlo s nastaveným stanovištěm</a></td><td colspan="1">Doplněn alternativní tok událostí pro nastavení DV dle stanoviště vozidla (naznačeno modře).</td></tr></tbody></table><h3>7. 9. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></div></div></th></tr><tr><td colspan="1"><a href="200uc04-83266905.html">Základní tok událostí</a></td><td colspan="1">Revize způsobu vyhodnocení zařazení vozidla (naznačeno modře).</td></tr></tbody></table><h3>5. 2. 2024 M. Slivoně</h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="200uc04-83266905.html">Základní tok událostí</a></td><td colspan="1">Doplněna kontrola Objektu na aktivitu jeho Provozovny (naznačeno zeleně).</td></tr></tbody></table><h3>23. 10. 2023 Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="200uc04-83266905.html">Základní tok událostí</a></td><td colspan="1">Doplněno nastavení způsobu vyhodnocení realizace (naznačeno růžově).</td></tr><tr><td colspan="1"><a href="200uc04-83266905.html">AF02: Plněný denní výkon</a></td><td colspan="1">Chování upraveno a přeneseno do základního toku událostí (naznačeno růžově).</td></tr></tbody></table><h3>15. 9. 2023 Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="200uc04-83266905.html">Základní tok událostí</a></td><td colspan="1">Revize dostupných vozidel (naznačeno modře).</td></tr></tbody></table><h3>27. 11. 2019 Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="200uc04-83266905.html">AF01: Vypůjčené vozidlo</a></td><td colspan="1">Doplněna podmínka pro zobrazení dotazu, zda si uživatel opravdu přeje provést přiřazení <a href="../../../datove-modely/datovy-78681044.html">Vozidla</a> (naznačeno modře).</td></tr></tbody></table><h3>8. 10. 2019 Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="200uc04-83266905.html">AF02: Plněný denní výkon</a></td><td colspan="1">Doplněn alternativní tok událostí pro případ, kdy je <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> ve stavu Plněný.</td></tr></tbody></table><h3>25. 9. 2019 Tomáš Nadrchal</h3><p>Provedeny změny v rámci celého dokumentu dle požadavků v M10.</p><h3>19. 3. 2019 Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"></td><td colspan="1"><p>Doplněna informace, že UC již není požadován.</p></td></tr></tbody></table><h3>21. 12. 2018 Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="200uc04-83266905.html">Základní tok událostí</a></td><td colspan="1"><p>Byla odebrána možnost získat adresu a souřadnice pro počáteční a koncovou Položku denního výkon z přiřazeného vozidla.</p></td></tr></tbody></table><h3>6. 12. 2018 Tomáš Nadrchal</h3><p>Po změně odpovídajících entit v <a href="../../../datove-modely/datovy-78681044.html">datovém slovníku</a> bylo nutné aktualizovat celý případ užití.</p><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc04-83266905.html">Základní tok událostí</a></td><td colspan="1"><p>Revize základního toku událostí.</p></td></tr></tbody></table><p><br></p>
</div>
</body>
</html>
