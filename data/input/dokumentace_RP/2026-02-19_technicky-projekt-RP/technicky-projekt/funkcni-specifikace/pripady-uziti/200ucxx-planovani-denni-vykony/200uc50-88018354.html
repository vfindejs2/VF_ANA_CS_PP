<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>200UC50: Změnit dobu manipulace</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl UC</h1><p>Cílem UC je nastavení doby manipulace pro <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>. V tuto chvíli je dobu manipulace změnit pouze u takových <a href="../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a>, které jsou sledovány v rámci monitoringu realizace.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th>Popis</th><th colspan="1">Typická role</th></tr><tr><td>Uživatel</td><td><p>Jedná se o uživatele aplikace RoadPlan, který musí mít oprávnění spouštět tento UC.</p></td><td colspan="1"><p> Dispečer</p></td></tr></tbody></table><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na editaci doby manipulace <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> jedním z těchto způsobů:</p><ul><li>Editace doby manipulace <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> na obrazovce pro editaci <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (viz <a href="#" data-page-title="200UC02: Upravit denní výkon">200UC02: Upravit denní výkon</a>).</li><li>Uživatel zadá požadavek na změnu doby manipulace z panelu objednaných služeb na obrazovce plánování denních výkonů (viz <a href="#" data-page-title="206UC02: Zobrazit panel přehledu objednaných služeb"></a>).</li><li>Uživatel zadá požadavek na rychlou změnu doby manipulace z panelu objednaných služeb na obrazovce plánování denních výkonů (viz <a href="#" data-page-title="206UC02: Zobrazit panel přehledu objednaných služeb"></a>).</li><li>Uživatel zadá požadavek na změnu doby manipulace ve formuláři lokací objednané služby (viz <a href="#" data-page-title="200UI05: Formulář lokací objednané služby"></a>).</li><li><p>Uživatel zadá požadavek na rychlou změnu doby manipulace ve formuláři lokací objednané služby (viz <a href="#" data-page-title="200UI05: Formulář lokací objednané služby"></a>).</p></li></ul><h1>Vstupní podmínky</h1><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na moduly a UC</a>:</p><ul><li>Plánování denních výkonů.</li></ul><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na typ entit</a>:</p><ul><li>Objednané služby - zobrazení,</li><li>Denní výkony - zobrazení a modifikace.</li></ul><p><a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>, ve které je <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> obsažena, musí být naplánována na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (hodnota atributu Položka denního výkonu je různá od NULL). Tento <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> pak musí být v jednom z dále uvedených stavů (atribut Stav):</p><ul><li>Plánovaný,</li><li>Schválený,</li><li>Plněný.</li></ul><p>Dále se musí jednat o <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a>, která je sledována v rámci monitoringu realizace – hodnota atributu Monitoring realizace je rovna TRUE.</p><h3>Vstupní data</h3><ul><li><a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>,</li><li>Doba manipulace (nepovinné).</li></ul><h1>Základní tok událostí</h1><ol><li>POKUD není na vstupu předána doba manipulace.<br><ol><li>Systém zobrazí formulář pro nastavení délky trvání a provede jeho výchozí nastavení dle <a href="../../uzivatelske-rozhrani/700uixx-obecne/702uixx-kalendare-a-periodicita/702ui03-84215090.html">702UI03: Formulář pro nastavení délky trvání</a>, na vstup jsou předány následující hodnoty.<br><ol><li>Doba trvání: hodnota atributu Doba manipulace entity <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>, která je získána na vstupu UC.</li></ol></li><li>Uživatel vyplní formulář.</li><li>Uživatel stiskne tlačítko pro potvrzení doby manipulace.</li><li>Systém provede validaci vstupních údajů.</li><li>Systém předá nastavenou délku přestávky.</li></ol></li><li>Systém nastaví dobu manipulace <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>, která je získána na vstupu UC (atribut Doba manipulace), na hodnotu získanou na vstupu UC, případně na výstupu formuláře.</li><li>Systém aktualizuje trasu <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> – spustí <a href="#" data-page-title="200UC29: Získat trasu denního výkonu">200UC29: Získat trasu denního výkonu</a>, na vstup UC jsou předány následující hodnoty:<br><ul><li>Denní výkon: <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>, na který je naplánována <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>, ve které je obsažena <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> získaná na vstup UC (atribut Denní výkon entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – atribut Položka denního výkonu entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>).</li></ul></li></ol><p>Poznámka: V rámci formuláře <a href="../../uzivatelske-rozhrani/700uixx-obecne/702uixx-kalendare-a-periodicita/702ui03-84215090.html">702UI03: Formulář pro nastavení délky trvání</a> jsou pak provedeny drobné změny:</p><ul><li>Nadpis formuláře: Nastavit dobu manipulace.</li><li>Nadpis komponenty Doba trvání: Doba manipulace (hh:mm)*.</li></ul><h1>Alternativní toky událostí</h1><h3>AF01: Provést aktualizaci trasy</h3><p>Pokud je na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> přihlášeno zařízení (FOB), musí dojít k aktualizaci trasy a odeslání notifikace o této skutečnosti na přihlášené zařízení.</p><h4>Vstupní podmínky</h4><ul><li>Jsou splněny vstupní podmínky v rámci <a href="#" data-page-title="205UC08: Provést aktualizaci trasy denního výkonu">205UC08: Provést aktualizaci trasy denního výkonu</a> (pro odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>). </li></ul><h4>Tok událostí</h4><ol><li>Alternativní tok začíná krokem 3 základního toku událostí.</li><li>Systém provede aktualizaci odpovídající trasy – spustí <a href="#" data-page-title="205UC08: Provést aktualizaci trasy denního výkonu">205UC08: Provést aktualizaci trasy denního výkonu</a>, na vstupu UC jsou předány následující hodnoty:<ul><li>Denní výkon: <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>, na který je naplánována <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>, ve které je obsažena <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> získaná na vstup UC (atribut Denní výkon entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – atribut Položka denního výkonu entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>).</li></ul></li></ol><p>Poznámka: Pokud akce nad <a href="../../../datove-modely/datovy-78681044.html">Denním výkonem</a> proběhne v rámci obrazovky editace (viz <a href="#" data-page-title="200UC02: Upravit denní výkon">200UC02: Upravit denní výkon</a>), není provedena aktualizace trasy. K té dochází až po uložení provedených změn, tedy po dokončení odkazovaného UC.</p><h4>Výstupní podmínky</h4><ul><li>Došlo k aktualizaci trasy odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> a odeslání notifikace na přihlášené zařízení (pokud jsou splněny další podmínky).</li></ul><h1>Výjimkové toky událostí</h1><h3>EF01: Storno</h3><h4>Tok událostí</h4><ol><li>Výjimkový tok událostí začíná krokem 1.d základního toku událostí.</li><li>KDYŽ uživatel stiskne tlačítko Storno.<br><ol><li>Systém se vrátí zpět do části aplikace, kde došlo k požadavku na změnu doby manipulace. <strong>Konec toku událostí</strong>.</li></ol></li><li>KDYŽ uživatel opustí formulář pro nastavení doby manipulace.<br><ol><li><strong>Konec toku událostí</strong>.</li></ol></li></ol><h4>Výstupní podmínky</h4><ul><li>Doba manipulace zvolené <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> nebyla změněna.</li></ul><h1>Výstupní podmínky</h1><ul><li>Doba manipulace zvolené <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> nebyla změněna.</li></ul><h1>Validace</h1><p>Validace je prováděna průběžně, pokud uživatel vstoupí do pole s možností zadání hodnoty, zadá hodnotu a pole opustí ve stavu, kdy hodnota není validní, je na to upozorněn. Ovládací prvek je graficky zvýrazněn a je doplněno chybové hlášení. Konkrétní validace jednotlivých polí jsou uvedeny v <a href="../../uzivatelske-rozhrani/700uixx-obecne/702uixx-kalendare-a-periodicita/702ui03-84215090.html">702UI03: Formulář pro nastavení délky trvání</a>. Hlídána jsou jak konkrétní validační kritéria každé položky, tak i to, zda je položka povinná.</p><p>Jakmile uživatel stiskne tlačítko Uložit, je provedena validace všech polí.</p><h1>Algoritmy</h1><p>Nejsou.</p><h1>Uživatelské rozhraní</h1><p>Rozložení formuláře pro specifikaci doby manipulace je uvedeno v samostatném dokumentu – viz <a href="../../uzivatelske-rozhrani/700uixx-obecne/702uixx-kalendare-a-periodicita/702ui03-84215090.html">702UI03: Formulář pro nastavení délky trvání</a>.</p><h1>Revize</h1><h3>6. 12. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></div></div></th></tr><tr><td colspan="1"><a href="200uc50-88018354.html">Základní tok událostí</a></td><td colspan="1">Revize nadpisu komponenty ve formuláři pro nastavení doby manipulace (naznačeno modře).</td></tr></tbody></table><p><br></p><h3>23. 5. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></div></div></th></tr><tr><td colspan="1"><a href="200uc50-88018354.html">Spuštění případu užití</a></td><td colspan="1">Revize případů užití, které spouštějí tento UC (naznačeno modře).</td></tr></tbody></table><p><br></p><h3>23. 10. 2021: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc50-88018354.html">AF01: Provést aktualizaci trasy</a></td><td colspan="1">Doplnění aktualizace trasy odpovídajícího denního výkonu (naznačeno růžově).</td></tr></tbody></table><p><br></p>
</div>
</body>
</html>
