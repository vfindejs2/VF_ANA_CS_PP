<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>200UC07: Vložit objednanou službu do denního výkonu</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl UC</h1><p>Cílem UC je vložení Objednané služby do Denního výkonu.</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td>Uživatel</td><td colspan="1">–</td></tr><tr><td colspan="1">Synchronizační komponenta</td><td colspan="1">–</td></tr></tbody></table><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na vložení objednané služby do denního výkonu jedním z těchto způsobů:</p><ul><li>Vložení objednané služby do Denního výkonu ve formuláři pro plánování Denních výkonů pomocí tlačítka (<a href="#" data-page-title="200UI01: Obrazovka pro plánování denních výkonů"></a>).</li><li>Vložení objednané služby do Denního výkonu ve formuláři pro plánování Denních výkonů pomocí Drag&Drop (<a href="#" data-page-title="200UI01: Obrazovka pro plánování denních výkonů"></a>).</li><li>Přeplánování denního výkonu (viz <a href="200uc56-115213863.html">200UC56: Přeplánovat denní výkon</a>).<br></li></ul><p>Synchronizační komponenta zadá požadavek na vložení objednané služby do denního výkonu jedním z těchto způsobů:</p><ul><li> Synchronizační komponenta získá jízdu (viz <a href="../605ucxx-winyx-synchronizace-dat-recovera/605uc03-116788570.html">605UC03: Získat jízdy</a>).</li></ul><h1>Vstupní podmínky</h1><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na moduly a UC</a>:</p><ul><li>Plánování denních výkonů.</li></ul><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na typ entit</a>:</p><ul><li>Objednané služby - zobrazení,</li><li>Denní výkony - zobrazení a modifikace.</li></ul><p>Poznámka: <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a> není možné přidat do takového <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, který se nachází v jenom z následujících stavů (atribut Stav):</p><ul><li>Uzavřený.</li></ul><h3>Vstupní data</h3><ul><li>Entita <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</li><li>Nepovinné: Entita <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul><h1>Základní tok událostí</h1><ol><li>Systém vloží <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> typu Objednaná služba do <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, a to jako v pořadí poslední <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> – spustí <a href="#" data-page-title="200UC25: Vložit položku do denního výkonu"></a>, na vstup UC jsou předány následující hodnoty:<br><ul><li>Denní výkon: <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> získaný na vstupu UC (může být NULL).<br></li><li>Objednaná služba: <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> získaná na vstupu UC.</li><li>Doba trvání: NULL.</li></ul></li><li>Systém aktualizuje vkládanou <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a>:<br><ol><li>Stav = Naplánovaná.</li><li>Položka denního výkonu = <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> vytvořená v kroku 1 základního toku událostí.</li></ol></li><li>Pokud <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> této <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> odpovídá možnosti Lisovací vozidlo nebo Komunální vozidlo – pilot (atribut Název entity <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> – atribut Typ dopravy entity <a href="../../../datove-modely/datovy-78681044.html">Typ nádoby</a> – Atribut Typ nádoby entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a> – atribut Objednaná nádoba entity <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> – atribut Objednaný úkony entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>):<br><ol><li>Systém nalezne všechny <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> typu Likvidační místo, které jsou obsaženy v této <a href="../../../datove-modely/datovy-78681044.html">Objednané službě</a> (atribut Typ lokace entity <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> – atribut Lokace objednané služby entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>).</li><li>Systém všem nalezeným <a href="../../../datove-modely/datovy-78681044.html">Lokacím objednané služby</a> nastaví hodnotu atributu Provést na FALSE.</li></ol></li></ol><h1>Alternativní toky událostí</h1><h3>AF01: Objednaná služba je reprezentována dobou trvání</h3><h4>Vstupní podmínky</h4><ul><li><a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> předaná na vstupu UC splňuje všechny uvedené podmínky zároveň:<br><ul><li><a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> nabývá hodnoty Valník (atribut Typ dopravy entity <a href="../../../datove-modely/datovy-78681044.html">Typ nádoby</a> – atribut Typ nádoby entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a> – atribut Objednaná nádoba entity <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> – atribut Objednaný úkony entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>),</li><li>Typ úkonu nabývá hodnoty Rozvoz (atribut Typ úkonu entity <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> – atribut Objednaný úkony entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>).</li></ul></li></ul><h4>Tok událostí</h4><ol><li>Alternativní tok událostí začíná krokem 1 základního toku událostí.</li><li>Systém zobrazí formulář pro nastavení předpokládané délky trvání realizace <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> a provede jeho nastavení dle <a href="../../uzivatelske-rozhrani/700uixx-obecne/702uixx-kalendare-a-periodicita/702ui03-84215090.html">702UI03: Formulář pro nastavení délky trvání</a>, na vstupu jsou předány následující hodnoty:<br><ol><li>Doba trvání: 240.</li></ol></li><li>Uživatel vyplní formulář.</li><li>Uživatel stiskne tlačítko pro potvrzení předpokládané délky trvání realizace <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</li><li>Systém provede validaci vstupních údajů.</li><li>Systém předá nastavenou předpokládanou délku trvání realizace <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</li><li>Systém vloží <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> typu Objednaná služba do <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, a to jako v pořadí poslední <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> – spustí <a href="#" data-page-title="200UC25: Vložit položku do denního výkonu"></a>, na vstup UC jsou předány následující hodnoty:<ul><li>Denní výkon: <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> získaný na vstupu UC (může být NULL).</li><li>Objednaná služba: <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> získaná na vstupu UC.</li><li>Doba trvání: získaná předpokládaná délka trvání realizace <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</li></ul></li><li><strong><strong>Návrat </strong>na krok 2 základního toku událostí</strong>.</li></ol><h3>AF02: Údaje ve formuláři nejsou validní</h3><h4>Vstupní podmínky</h4><ul><li>Údaje ve formuláři nejsou validní – viz <a href="200uc07-83266964.html">Validace</a>.</li></ul><h4>Tok události</h4><ol><li>Alternativní tok událostí začíná krokem 5 alternativní toku událostí <a href="200uc07-83266964.html">AF01: Objednaná služba je reprezentována dobou trvání</a>.</li><li>Systém zvýrazní ovládací prvky, které neobsahují validní hodnotu.</li><li>Systém zobrazí uživateli informaci, že některé ze zadaných údajů nejsou validní (TODO: kód hlášky, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>). <strong>Návrat na krok 3 alternativního toku událostí <a href="200uc07-83266964.html">AF01: Objednaná služba je reprezentována dobou trvání</a></strong>.</li></ol><h1>Výjimkové toky událostí</h1><h3>EF01: Storno</h3><h4>Tok událostí</h4><ol><li>Výjimkový tok událostí může začít kdykoliv v rámci kroků 3 až 5 alternativní toku událostí <a href="200uc07-83266964.html">AF01: Objednaná služba je reprezentována dobou trvání</a>.</li><li>KDYŽ uživatel stiskne tlačítko Storno.<br><ol><li>Systém se vrátí zpět do části aplikace, kde došlo k požadavku na vložení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> do <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>. <strong>Konec toku událostí</strong>.</li></ol></li><li>KDYŽ uživatel opustí formulář pro nastavení časového rozmezí alokace na servis.<br><ol><li><strong>Konec toku událostí</strong>.</li></ol></li></ol><h4>Výstupní podmínky</h4><ul><li>Nebyla vložena <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> do <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ul><h1>Výstupní podmínky</h1><ul><li>Byla vložena <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> do <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</li></ul><h1>Validace</h1><p>Validace je prováděna průběžně, pokud uživatel vstoupí do pole s možností zadání hodnoty, zadá hodnotu a pole opustí ve stavu, kdy hodnota není validní, je na to upozorněn. Ovládací prvek je graficky zvýrazněn a je doplněno chybové hlášení. Konkrétní validace jednotlivých polí jsou uvedeny v <a href="../../uzivatelske-rozhrani/700uixx-obecne/702uixx-kalendare-a-periodicita/702ui03-84215090.html">702UI03: Formulář pro nastavení délky trvání</a>. Hlídána jsou jak konkrétní validační kritéria každé položky, tak i to, zda je položka povinná.</p><p>Jakmile uživatel stiskne tlačítko Uložit, je provedena validace všech polí.</p><h1>Algoritmy</h1><p>Nejsou.</p><h1>Uživatelské rozhraní</h1><p>Není.</p><h1>Revize</h1><h3>13. 4. 2023: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="200uc07-83266964.html">Základní tok událostí</a></td><td colspan="1">Specifikováno chování pro <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, kde <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> nabývá hodnoty Komunální vozidlo – pilot (naznačeno modře).</td></tr></tbody></table><h3>23. 5. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><a href="200uc07-83266964.html">Základní tok událostí</a></td><td colspan="1">Specifikováno chování pro <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, kde <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a> nabývá hodnoty Lisovací vozidlo (naznačeno modře).</td></tr></tbody></table><h3>29. 3. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></th></tr><tr><td colspan="1"><p><a href="200uc07-83266964.html">Vstupní podmínky</a></p></td><td colspan="1"><p>Aktualizována poznámka o možnosti přidat <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a>.</p></td></tr></tbody></table><h3>2. 2. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc07-83266964.html">Základní tok událostí</a></td><td colspan="1">Doplněn nově přidaný parametr pro volaný UC.</td></tr><tr><td colspan="1"><a href="200uc07-83266964.html">AF01: Objednaná služba je reprezentována dobou trvání</a></td><td colspan="1"><p>Doplněn alternativní tok událostí pro případ, kde je realizace <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> reprezentována dobou trvání.</p></td></tr><tr><td colspan="1"><a href="200uc07-83266964.html">AF02: Údaje ve formuláři nejsou validní</a></td><td colspan="1">Doplněn alternativní tok událostí pro validaci zadané hodnoty doby trvání.</td></tr><tr><td colspan="1"><a href="200uc07-83266964.html">EF01: Storno</a></td><td colspan="1">Doplněn výjimkový tok událostí pro možnost přerušení zadávání hodnoty doby trvání.</td></tr></tbody></table><h3>17. 12. 2018: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc07-83266964.html">Základní tok událostí</a></td><td colspan="1">Doplněn popis změn v <a href="../../../datove-modely/datovy-78681044.html">Objednané službě</a> při vložení do <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</td></tr></tbody></table>
</div>
</body>
</html>
