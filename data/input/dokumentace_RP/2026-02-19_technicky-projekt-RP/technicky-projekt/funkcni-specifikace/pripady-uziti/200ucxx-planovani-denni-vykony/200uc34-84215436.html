<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>200UC34: Rozdělit položku denního výkonu</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl UC</h1><p>Cílem případu užití je rozdělení <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> typu Objednaná služba. V takovém případě, pokud jsou splněny vstupní podmínky, vzniká nová <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>. Obsažené <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> v původní <a href="../../../datove-modely/datovy-78681044.html">Objednané službě</a> jsou pak rozděleny mezi tuto a nově vytvořenou <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a> (dle zvoleného místa rozdělení). Nově vytvořená <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> je pak vložena jako v pořadí poslední <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>.</p><p>Poznámka: Dále v dokumentu jsou uváděny pojmy jako <strong>výchozí</strong> a <strong>nově vytvořená</strong> <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>, jejich význam je následující:</p><ul><li>Výchozí <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>: získána z <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> (atribut Objednaná služba), která je předána na vstupu UC (vstupní parametr Položka denního výkonu). Jedná se o <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a>, která má být rozdělena.</li><li>Nově vytvořená <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>: kopie výchozí <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, která vznikla v rámci rozdělení. </li></ul><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th>Popis</th><th colspan="1">Typická role</th></tr><tr><td>Uživatel</td><td><p>Jedná se o uživatele aplikace RoadPlan, který musí mít oprávnění spouštět tento UC.</p></td><td colspan="1"><p> </p></td></tr></tbody></table><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na rozdělení Položky denního výkonu jedním z těchto způsobů:</p><ul><li>Rozdělení Položky denního výkonu v tabulce s Položkami denního výkonu ve formuláři Denního výkonu (<a href="../../uzivatelske-rozhrani/200uixx/200ui02/200ui02-84214534.html">200UI02: Tabulka pro editaci denního výkonu</a>).</li></ul><h1>Vstupní podmínky</h1><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na moduly a UC</a>:</p><ul><li>Plánování denních výkonů.</li></ul><p>Uživatel má následující <a href="../../../uzivatelska-78681297.html">oprávnění na typ entit</a>:</p><ul><li>Denní výkony - zobrazení a modifikace,</li><li>Objednané služby - zobrazení a modifikace.</li></ul><p>Musí být umožněna editace odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (atribut Denní výkon entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – vstupní parametr Položka denního výkonu):</p><ul><li>atribut Stav je nastaven na hodnotu <strong>Plánovaný</strong>, <strong>Schválený</strong> nebo <strong>Plněný</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>): entita <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>.</li></ul><p>Rozdělit je možné pouze <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> typu Objednaná služba:</p><ul><li>atribut Typ položky je nastavena na hodnotu <strong>Objednaná služba</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Typ položky denního výkonu</a>): entita <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – vstupní parametr Položka denního výkonu.</li></ul><p>Některé <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (atribut Objednaná služba entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – vstupní parametr Položka denního výkonu) nemohou být rozděleny již ze své podstaty – jsou reprezentovány pouze časovým rozmezím. Nesmí tedy nastat uvedený případ:</p><ul><li>atribut Typ dopravy je nastavena na hodnotu <strong>Valník</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Typ dopravy</a>, atribut Název): entita <a href="../../../datove-modely/datovy-78681044.html">Typ nádoby</a> – atribut Typ nádoby entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná nádoba</a> – atribut Objednaná nádoba entity <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> – atribut Objednaný úkony entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>,</li><li>atribut Typ úkonu je nastavena na hodnotu <strong>Rozvoz</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Typ úkonu</a>): entita <a href="../../../datove-modely/datovy-78681044.html">Objednaný úkon</a> – atribut Objednaný úkony entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</li></ul><p>Obsažené <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> (atribut Lokace objednané služby entity <a href="../../../datove-modely/datovy-78681044.html">Objednaná služby</a> – atribut Objednaná služba entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a> – vstupní parametr Položka denního výkonu) pak musí umožňovat rozdělení. Musí být k dispozici alespoň <strong>dvě</strong> <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>, které jsou důležité z pohledu monitoringu realizace:</p><ul><li>atribut Typ lokace je nastaven na hodnotu <strong>Místo realizace</strong>, <strong>Likvidační místo</strong>, <strong>Výchozí likvidační místo</strong>, <strong>Provozovna</strong> nebo <strong>Místo dočasného uložení</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Typ lokace objednané služby</a>): entita <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>.</li></ul><h3>Vstupní data</h3><table><tbody><tr><th>Vstupní parametr</div></div></div></th><th>Datový typ</div></div></div></th><th colspan="1">Povinnost</div></div></div></th><th>Popis</div></div></div></th><th colspan="1">Poznámka</div></div></div></th></tr><tr><td colspan="1">Položka denního výkonu</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a></td><td colspan="1">Ano</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>, která má být rozdělena.</td><td colspan="1">–</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Systém zobrazí formulář pro rozdělení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> – spustí <a href="#" data-page-title="200UI07: Formulář rozdělení objednané služby"></a>, na vstupu jsou předána následující data:<br><ul><li>Objednaná služba: atribut Objednaná služba entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>, která byla získána na vstupu (vstupní parametr Položka denního výkonu).</li><li>Datum realizace: atribut Datum realizace entity <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> – atribut Denní výkon entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>, která byla získána na vstupu (vstupní parametr Položka denního výkonu).<br></li></ul></li><li>Uživatel provede požadovaná nastavení.</li><li>Uživatel stiskne tlačítko pro potvrzení nastaveného rozdělení.</li><li>Systém provede validaci zadaných údajů.</li><li>Systém vytvoří kopii výchozí <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</li><li>Pokud je u výchozí <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> k dispozici hodnota atributu Následující objednaná služba (akce nutné k zachování informace o dříve provedeném rozdělení či vytvoření MDU):<br><ol><li>Systém nastaví hodnotu uvedených atributů u nově vytvořené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> následovně:<br><ul><li>Následující objednaná služba: hodnota atributu Následující objednaná služba výchozí <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</li><li>Způsob rozdělení následující objednané služby: hodnota atributu Způsob rozdělení následující objednané služby výchozí <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</li></ul></li><li>Systém nastaví hodnotu uvedených atributů u navazující <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (atributu Následující objednaná služba výchozí <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>) následovně (u této <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> služby již nemusí být povolena editace, i tak je nutné nastavení provést):<br><ul><li>Předchozí objednaná služba: nově vytvořená <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</li><li>Způsob rozdělení předchozí objednané služby: hodnota zachována.</li></ul></li></ol></li><li>Systém provede nastavení původní i nově vytvořené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> – viz <a href="200uc34-84215436.html">Nastavení objednaných služeb</a>.<br><ul><li>Potřebné informace o rozdělení je získána z formuláře rozdělení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</li></ul></li><li>Systém aktualizuje pořadí jednotlivých částí <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> – spustí <a href="#" data-page-title="101UC08: Aktualizovat pořadí v rámci objednané služby"></a>, na vstupu jsou předána následující data:<br><ul><li>Objednaná služba: výchozí <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</li></ul></li><li>Systém vloží nově vytvořenou <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a> na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>, a to jako v pořadí poslední <a href="../../../datove-modely/datovy-78681044.html">Položku denního výkonu</a> – spustí <a href="#" data-page-title="200UC07: Vložit objednanou službu do denního výkonu"></a>, na vstupu jsou předána následující data:<br><ul><li>Objednaná služba: nově vytvořená <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>,</li><li>Denní výkon: atribut Denní výkon entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>, která byla získána na vstupu (vstupní parametr Položka denního výkonu).</li></ul></li><li>Systém přepočítá trasu odpovídajícího <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> – spustí <a href="#" data-page-title="200UC29: Získat trasu denního výkonu">200UC29: Získat trasu denního výkonu</a>, na vstupu jsou předána následující data:<br><ul><li>Denní výkon: atribut Denní výkon entity <a href="../../../datove-modely/datovy-78681044.html">Položka denního výkonu</a>, která byla získána na vstupu (vstupní parametr Položka denního výkonu).</li></ul></li></ol><p>Poznámka: Přepočet trasy <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> se vztahuje na jeho editovanou verzi. <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> jako takový je uložen až po potvrzení provedených změn na obrazovce plánování <a href="../../../datove-modely/datovy-78681044.html">Denních výkonů</a>.</p><h1>Alternativní toky událostí</h1><h3>AF01: Údaje ve formuláři nejsou validní</h3><h4>Vstupní podmínky</h4><ul><li>Údaje ve formuláři nejsou validní – viz <a href="200uc34-84215436.html">Validace</a>.</li></ul><h4>Tok události</h4><ol><li>Alternativní tok událostí začíná krokem 4 základního toku událostí.</li><li>Systém zvýrazní ovládací prvky, které neobsahují validní hodnotu.</li><li>Systém zobrazí uživateli informaci, že některé ze zadaných údajů nejsou validní (TODO: kód hlášky, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).<strong> Návrat na krok 2 základního toku událostí</strong>.</li></ol><h3>AF02: Nedovolené umístění místa rozdělení</h3><h4>Vstupní podmínky</h4><ul><li>Před nebo za místem rozdělení není obsažena ani jedna <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> uvedeného typu (atribut Typ lokace):<br><ul><li>Místo realizace,</li><li>Likvidační místo,</li><li>Výchozí likvidační místo,</li><li>Provozovna,</li><li>Místo dočasného uložení.</li></ul></li></ul><p>Poznámka: Uvedená <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a> se může vyskytovat libovolně v rámci první i druhé části <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>. Nemusí být bezprostředně za/před místem rozdělení.</p><h4>Tok událostí</h4><ol><li>Alternativní tok událostí začíná krokem 4 základního toku událostí.</li><li>Systém zobrazí modální okno s informací, že je místo rozdělení špatně umístěno (MSG_ERR_SERVICES_SPLIT_NOT_POSSIBLE, viz <a href="../../../systemove-78681299.html">Systémové hlášky</a>).</li><li>Uživatel stisknutím tlačítka potvrdí zobrazené hlášení.</li><li>Systém zavře modální okno se zobrazenou informací. <strong>Návrat na krok 2 základního toku událostí</strong>.<br></li></ol><h1>Výjimkové toky událostí</h1><h3>EF01: Storno</h3><h4>Tok událostí</h4><ol><li>Výjimkový tok událostí může začít kdykoliv v rámci kroků 1 až 3 základního toku událostí.</li><li>KDYŽ uživatel stiskne tlačítko Storno.<br><ol><li>Systém se vrátí zpět do části aplikace, kde došlo k požadavku na rozdělení <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> typu Objednaná služba. <strong>Konec toku událostí</strong>.</li></ol></li><li>KDYŽ uživatel opustí formulář pro rozdělení <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a> typu Objednaná služba.<br><ol><li><strong>Konec toku událostí</strong>.</li></ol></li></ol><h4>Výstupní podmínky</h4><ul><li>Nedošlo k rozdělení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> obsažené v rámci <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a>, která byla získána na vstupu.</li></ul><h1>Výstupní podmínky</h1><ul><li>Došlo k rozdělení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> obsažené v rámci <a href="../../../datove-modely/datovy-78681044.html">Položky denního výkonu</a>, která byla získána na vstupu. Nově vytvořená <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> bylo vložena na odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denního výkon</a>.</li></ul><h1>Validace</h1><p>Validace je prováděna průběžně, pokud uživatel vstoupí do pole s možností zadání hodnoty, zadá hodnotu a pole opustí ve stavu, kdy hodnota není validní, je na to upozorněn. Ovládací prvek je graficky zvýrazněn a je doplněno chybové hlášení. Konkrétní validace jednotlivých polí jsou uvedeny v <a href="#" data-page-title="200UI07: Formulář rozdělení objednané služby"></a>. Hlídána jsou jak konkrétní validační kritéria každé položky, tak i to, zda je položka povinná.</p><p>Jakmile uživatel stiskne tlačítko Uložit, je provedena validace všech polí.</p><h1>Algoritmy</h1><h3>Nastavení objednaných služeb</h3><p>Při rozdělení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> dochází ke vzniku nové <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, do které je přenesena část <a href="../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a> z výchozí <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>. Je pak nutné aktualizovat hodnoty některých atributů v rámci obou <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a> tak, abychom dostáhli požadovaného rozdělení.</p><p>Poznámka: U atributů, které nejsou uvedeny, případně u kterých není přímo uvedena nová hodnota, nedochází k žádné změně. </p><table><tbody><tr><th>Atribut</th><th>Výchozí objednaná služba</th><th>Nová objednaná služba</th><th>Poznámka</th></tr><tr><td>Stav</td><td>–</td><td>K naplánování</td><td><p>Nová <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> je následně vkládána na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>, dochází u ní tedy i ke změně hodnoty tohoto atributu (viz <a href="#" data-page-title="200UC07: Vložit objednanou službu do denního výkonu"></a>).</p></td></tr><tr><td colspan="1">Objednaný úkon</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">Konkrétní objednaná nádoba</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">Datum realizace od</td><td colspan="1">–</td><td colspan="1">Získáno v rámci <a href="#" data-page-title="200UI07: Formulář rozdělení objednané služby"></a> (výstupní parametr Datum realizace od).</td><td colspan="1">–</td></tr><tr><td colspan="1">Datum realizace do</td><td colspan="1">–</td><td colspan="1">Získáno v rámci <a href="#" data-page-title="200UI07: Formulář rozdělení objednané služby"></a> (výstupní parametr Datum realizace do).</td><td colspan="1">–</td></tr><tr><td colspan="1">Čas realizace od</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">Čas realizace do</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">Poznámka</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr><tr><td colspan="1">Datum vytvoření</td><td colspan="1">–</td><td colspan="1">Datum a čas vytvoření nové <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</td><td colspan="1">–</td></tr><tr><td colspan="1">Vytvořil</td><td colspan="1">–</td><td colspan="1"><a href="https://confluence.radium.cz/pages/viewpage.action?pageId=88033012#Datov%C3%BDslovn%C3%ADk-U%C5%BEivatel">Uživatele</a>, který spustil tento UC.</td><td colspan="1">–</td></tr><tr><td colspan="1">Vytvořeno uživatelem</td><td colspan="1">–</td><td colspan="1">TRUE</td><td colspan="1">–</td></tr><tr><td colspan="1"><p>Vytvořeno na výzvu</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Zůstává zachována informace z prvotního vygenerování <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</td></tr><tr><td colspan="1">Pořadí v rámci objednávky</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Zůstává zachována informace z prvotního vygenerování <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</td></tr><tr><td colspan="1"><p>Identifikátor jízdy</p></td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Zůstává zachována informace z prvotního vygenerování <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</td></tr><tr><td colspan="1">Evidenční číslo výchozího vozidla</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Zůstává zachována informace z prvotního vygenerování <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</td></tr><tr><td colspan="1">Výchozí datum realizace</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Zůstává zachována informace z prvotního vygenerování <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>.</td></tr><tr><td colspan="1">Položka denního výkonu</td><td colspan="1">–</td><td colspan="1">NULL</td><td colspan="1">Nová <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> je následně vkládána na <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a>, dochází u ní tedy i ke změně hodnoty tohoto atributu (viz <a href="#" data-page-title="200UC07: Vložit objednanou službu do denního výkonu"></a>).</td></tr><tr><td colspan="1">Lokace objednané služby</td><td colspan="1">Viz <a href="200uc34-84215436.html">Nastavení lokací objednané služby</a>.</td><td colspan="1">Viz <a href="200uc34-84215436.html">Nastavení lokací objednané služby</a> .</td><td colspan="1">Dochází k mazání <a href="../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a> dle místa rozdělení, viz <a href="#" data-page-title="200UI07: Formulář rozdělení objednané služby"></a> (výstupní parametr Místo rozdělení).</td></tr><tr><td colspan="1">Pořadí v rámci objednané služby</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1"><p>Dochází k aktualizaci pořadí všech částí <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (viz <a href="#" data-page-title="101UC08: Aktualizovat pořadí v rámci objednané služby"></a>).</p></td></tr><tr><td colspan="1">Následující objednaná služba</td><td colspan="1">Nově vytvořená <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</td><td colspan="1">–</td><td colspan="1">Hodnota atributu u nově vytvořené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> byla nastavena (pokud to bylo žádoucí) před provedením tohoto algoritmu (viz <a href="200uc34-84215436.html">Základní tok událostí</a>).</td></tr><tr><td colspan="1">Způsob rozdělení následující objednané služby</td><td colspan="1">Rozdělení (viz <a href="../../../datove-modely/datovy-78681044.html">Způsob rozdělení objednané služby</a>).</td><td colspan="1">–</td><td colspan="1">Hodnota atributu u nově vytvořené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> byla nastavena (pokud to bylo žádoucí) před provedením tohoto algoritmu (viz <a href="200uc34-84215436.html">Základní tok událostí</a>).</td></tr><tr><td colspan="1">Předchozí objednaná služba</td><td colspan="1">–</td><td colspan="1">Výchozí <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>.</td><td colspan="1">Hodnota atributu u původní <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> zůstává zachována.</td></tr><tr><td colspan="1">Způsob rozdělení předchozí objednané služby</td><td colspan="1">–</td><td colspan="1">Rozdělení (viz <a href="../../../datove-modely/datovy-78681044.html">Způsob rozdělení objednané služby</a>).</td><td colspan="1">Hodnota atributu u původní <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> zůstává zachována.</td></tr><tr><td colspan="1">Realizace denního výkonu</td><td colspan="1">–</td><td colspan="1">NULL</td><td colspan="1">V případě, že je rozdělení prováděno v rámci právě realizovaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, dojde k aktualizaci hodnoty tohoto atributu po uložení změn <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (dojde k vyhodnocení jeho realizace).</td></tr><tr><td colspan="1">Pořadí v realizaci denního výkonu</td><td colspan="1">–</td><td colspan="1">NULL</td><td colspan="1">V případě, že je rozdělení prováděno v rámci právě realizovaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a>, dojde k aktualizaci hodnoty tohoto atributu po uložení změn <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (dojde k vyhodnocení jeho realizace).</td></tr><tr><td colspan="1">Realizována</td><td colspan="1">–</td><td colspan="1">NULL</td><td colspan="1">Pokud je k dispozici hodnota tohoto atributu, již není možné editovat odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (ani obsažené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>).</td></tr><tr><td colspan="1">Způsob přeplánování</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud je k dispozici hodnota tohoto atributu, již není možné editovat odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (ani obsažené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>).</td></tr><tr><td colspan="1">Přeplánováno do objednané služby</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">Pokud je k dispozici hodnota tohoto atributu, již není možné editovat odpovídající <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (ani obsažené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>).</td></tr><tr><td colspan="1">Přeplánováno z objednané služby</td><td colspan="1">–</td><td colspan="1">–</td><td colspan="1">–</td></tr></tbody></table><p>Pro úplnost je uvedeno i grafické znázornění této akce. Nejprve jednoduché rozdělení běžné <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, následně i komplikovanější situace.</p><p>Poznámka: Přerušovanou čarou jsou naznačeny <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>, které není možné dále dělit.</p><p><img src="200uc34-rozdelit-polozku-denniho-vykonu-84215436_images/image2021-3-25 8-36-41.png" data-attachment="true"></p><p>Dále je pak naznačen příklad, kdy dělíme již rozdělenou <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a>.</p><p><img src="200uc34-rozdelit-polozku-denniho-vykonu-84215436_images/image2021-3-25 8-51-48.png" data-attachment="true"></p><h4>Nastavení lokací objednané služby</h4><p>Při rozdělení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> dochází ke vzniku nové <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (kopie výchozí <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>) – je tedy vytvořena i kopie obsažených <a href="../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a>. V rámci obou <a href="../../../datove-modely/datovy-78681044.html">Objednaných služeb</a>, výchozí i nové, je pak nutné provést určité akce i nad obsaženými <a href="../../../datove-modely/datovy-78681044.html">Lokacemi objednané služby</a>. Konkrétně se jedná o smazání takových <a href="../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a>, které po provedení rozdělení nedávají smysl. Navíc je třeba provést kontrolu, zda v obou částech rozdělené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> zůstala alespoň jedna <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>, která má být provedena.</p><ol><li>V rámci výchozí <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> jsou nad obsaženými <a href="../../../datove-modely/datovy-78681044.html">Lokacemi objednané služby</a> (atribut Lokace objednané služby) provedeny následující akce:<ol><li>Systém smaže všechny takové <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>, které se vyskytují <strong>za</strong> místem rozdělní (viz <a href="#" data-page-title="200UI07: Formulář rozdělení objednané služby"></a>, výstupní parametr Místo rozdělení).<br></li><li>Pokud <strong>není</strong> mezi <a href="../../../datove-modely/datovy-78681044.html">Lokacemi objednané služby</a> <strong>obsažena</strong> ani jediná <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>, u které atribut Provést nabývá hodnoty TRUE:<ol><li>Systém nastaví u všech obsažených <a href="../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a> hodnotu atributu Provést na TRUE.</li></ol></li></ol></li><li>V rámci nově vytvořené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> jsou nad obsaženými <a href="../../../datove-modely/datovy-78681044.html">Lokacemi objednané služby</a> (atribut Lokace objednané služby) provedeny následující akce:<br><ol><li>Systém smaže všechny takové <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>, které se vyskytují <strong>před</strong> místem rozdělní (viz <a href="#" data-page-title="200UI07: Formulář rozdělení objednané služby"></a>, výstupní parametr Místo rozdělení).<br></li><li>Pokud <strong>není</strong> mezi <a href="../../../datove-modely/datovy-78681044.html">Lokacemi objednané služby</a> <strong>obsažena</strong> ani jediná <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>, u které atribut Provést nabývá hodnoty TRUE:<ol><li>Systém nastaví u všech obsažených <a href="../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a> hodnotu atributu Provést na TRUE.</li></ol></li></ol></li></ol><p>Poznámka: Vazby mezi samotnými <a href="../../../datove-modely/datovy-78681044.html">Lokacemi objednané služby</a> jsou řešeny v rámci přepočtu trasy <a href="../../../datove-modely/datovy-78681044.html">Denního výkon</a> (např. vzdálenost do další <a href="../../../datove-modely/datovy-78681044.html">Lokace objednané služby</a>). Není je tedy nutné získávat již v rámci tohoto algoritmu.</p><h4>Technická poznámka</h4><p>Při dělení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> dochází k rozdělení obsažených <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a> mezi dvě <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>…</p><ul><li><strong>Výchozí</strong> – existující <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a> obsahující první polovinu z původní množiny lokací.</li><li><strong>Vytvořená</strong> – nově založená <a href="../../../datove-modely/datovy-78681044.html">Objednaná služba</a>, do které je přenesena druhá polovina lokací.</li></ul><p>Aktuálně pak dochází k mazání těch <a href="../../../datove-modely/datovy-78681044.html">Lokaci objednané služby</a>, které se vyskytují v druhé polovině <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a>…</p><ul><li>jsou smazány v rámci výchozí <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (původní stav před rozdělením),</li><li>následně je vytvořena jejich kopie pro nově vytvořenou <a href="../../../datove-modely/datovy-78681044.html">Objednanou službu</a>.</li></ul><p>Situace je naznačena na ilustrativním obrázku, kde na začátku uvedené číslo představuje ID záznamu.</p><p><img src="200uc34-rozdelit-polozku-denniho-vykonu-84215436_images/image2025-1-15 13-18-28.png" data-attachment="true"></p><p>Je pak žádoucí, aby k uvedenému mazání <a href="../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a> nedocházelo. Mělo by dojít k jejich přenesení (viz obrázek).</p><p><img src="200uc34-rozdelit-polozku-denniho-vykonu-84215436_images/image2025-1-15 13-18-46.png" data-attachment="true"></p><h1>Uživatelské rozhraní</h1><p>Rozložení formuláře pro rozdělení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> je uvedeno v samostatném dokumentu – viz <a href="#" data-page-title="200UI07: Formulář rozdělení objednané služby"></a>.</p><h1>Revize</h1><h3>15. 1. 2025: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</th><th>Stručný popis změny/doplnění</th></tr><tr><td colspan="1"><a href="200uc34-84215436.html">Technická poznámka</a></td><td colspan="1">Bližší informace k implementaci případu užití (naznačeno modře).</td></tr></tbody></table><h3>16. 2. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</th><th>Stručný popis změny/doplnění</th></tr><tr><td colspan="1"><a href="200uc34-84215436.html">Vstupní podmínky</a></td><td colspan="1">Doplněno chování pro nový typ lokace objednané služby (naznačeno modře).</td></tr><tr><td colspan="1"><a href="200uc34-84215436.html">AF02: Nedovolené umístění místa rozdělení</a></td><td colspan="1">Doplněno chování pro nový typ lokace objednané služby (naznačeno modře).</td></tr><tr><td colspan="1"><a href="200uc34-84215436.html">Nastavení objednaných služeb</a></td><td colspan="1">Doplněno nastavení nově přidaných atributů Objednané služby (naznačeno modře).</td></tr></tbody></table><h3>15. 3. 2022: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</th><th>Stručný popis změny/doplnění</th></tr><tr><td colspan="1"><a href="200uc34-84215436.html">Základní tok událostí</a></td><td colspan="1">Doplněno chování pro výpočet pořadí jednotlivých částí objednané služby (naznačeno růžově). <em><strong>ID-053 </strong></em></td></tr><tr><td colspan="1"><a href="200uc34-84215436.html">Nastavení objednaných služeb</a></td><td colspan="1">Doplněno nastavení nově přidaných atributů Objednané služby (naznačeno růžově). <em><strong>ID-053 </strong></em></td></tr></tbody></table><h3>10. 3. 2022: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</th><th>Stručný popis změny/doplnění</th></tr><tr><td colspan="1"><a href="200uc34-84215436.html">Nastavení objednaných služeb</a></td><td colspan="1">Doplněno nastavení nově přidaných atributů Objednané služby (naznačeno modře). <em><strong>ID-054</strong></em></td></tr></tbody></table><h3>21. 3. 2021: Tomáš Nadrchal</h3><p>Provedeny změny v rámci celého dokumentu (naznačeno modře). Viz <a href="#" data-page-title="ID-040: Násobné rozdělení objednané služby"></a>.</p><h3>9. 1. 2020: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</th><th>Stručný popis změny/doplnění</th></tr><tr><td colspan="1"><a href="200uc34-84215436.html">Nastavení objednaných služeb</a></td><td colspan="1">Aktualizován výčet pro nastavení výchozích hodnot atributů vytvářené <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (naznačeno modře).</td></tr></tbody></table><h3>5. 9. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="200uc34-84215436.html">Nastavení lokací objednané služby</a></td><td colspan="1">Doplněno chování pro nastavení <a href="../../../datove-modely/datovy-78681044.html">Lokací objednané služby</a> při rozdělení <a href="../../../datove-modely/datovy-78681044.html">Objednané služby</a> (naznačeno modře).</td></tr></tbody></table><h3>21. 6. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="200uc34-84215436.html">Základní tok událostí</a></td><td colspan="1">Doplněna vstupní data předávaná na formulář pro rozdělení (naznačeno modře).</td></tr></tbody></table><h3>29. 3. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></th><th>Stručný popis změny/doplnění</div></div></th></tr><tr><td colspan="1"><a href="200uc34-84215436.html">Vstupní podmínky</a></td><td colspan="1">Doplněny podmínky, které musí být splněny, aby bylo možné provést rozdělení.</td></tr></tbody></table><h3>31. 1. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="200uc34-84215436.html">AF02: Nedovolené umístění místa rozdělení</a></td><td colspan="1">Doplněn alternativní tok událostí.</td></tr></tbody></table><p><br></p>
</div>
</body>
</html>
