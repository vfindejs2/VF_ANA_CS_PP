<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>300UC16: Aktualizovat realizaci denního výkonu</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je aktualizace datové struktury pro uchování informací o realizaci konkrétního denního výkonu. Ke spuštění pak dochází v případech, kdy dojde k takové změně denního výkonu, která má vliv na jeho realizaci (např. změna vozidla či úprava trasy).</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Uživatel</td><td colspan="1">–</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="../../../high-level-concept/akteri-78680673.html">Aktéři</a>.</p><h1>Spuštění případu užití</h1><p>Uživatel zadá požadavek na aktualizaci realizace denního výkonu, a to jedním z uvedených způsobů:</p><ul><li>Uživatel upraví trasu denního výkonu (viz <a href="#" data-page-title="200UC29: Získat trasu denního výkonu">200UC29: Získat trasu denního výkonu</a>).<br><ul><li><em>Změna v rámci trasy denního výkonu má typicky vliv na související informace o realizaci.</em></li></ul></li><li>Uživatel přiřadí vozidlo k dennímu výkonu (viz <a href="#" data-page-title="200UC04: Přiřadit vozidlo dennímu výkonu"></a>).</li><li>Uživatel změní vozidlo u denního výkonu (viz <a href="#" data-page-title="200UC05: Změnit vozidlo denního výkonu"></a>).</li><li>Uživatel odeber vozidlo od denního výkonu (viz <a href="#" data-page-title="200UC06: Odebrat vozidlo denního výkonu">200UC06: Odebrat vozidlo denního výkonu</a>).</li></ul><h2>Vstupní podmínky</h2><p>Na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>) splňuje všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Stav</strong> je nastavena na <strong>Schválený</strong>, <strong>Plněný</strong> (viz <a href="../../../datove-modely/datovy-78681044.html">Stav denního výkonu</a>).<br><ul><li><em>Datum realizace není nutné vyhodnocovat, schválené denní výkony se v minulosti nevyskytují. </em><em>Nově jsou pak informace o realizaci připravovány i pro denní výkony v budoucnosti.</em></li><li><em>Pokud by nedošlo k překlopení denních výkonů, bude sice existovat schválený denní výkon v minulosti, ale jeho realizace bude případně přepočítána dle dosud získaných informací.</em></li><li><em>V potaz jsou pak brány také denní výkony, u kterých není přiřazeno vozidlo. I ty je nutné dispečerem potvrdit, pokud došlo k jejich schválení.</em></li><li><em>Spuštění případu užití pro plněný denní výkon pak může nastat po provedení operativní změny v rámci tohoto denního výkonu (např. změna trasy či vozidla).</em></li></ul></li></ul><p>Pro na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> existuje takový záznam entity <a href="../../../datove-modely/datovy-78681044.html">Realizace denního výkonu</a>, který splňuje všechny dále uvedené podmínky zároveň:</p><ul><li>Hodnota atributu <strong>Denní výkon</strong> odpovídá na vstupu získanému <a href="../../../datove-modely/datovy-78681044.html">Dennímu výkonu</a> (vstupní parametr <strong>Denní výkon</strong>).</li><li>Hodnota atributu <strong>Je aktivní</strong> je nastavena na <strong>TRUE</strong> (atribut implementován, ale nevyužíván).</li></ul><p>Ke spuštění případu užití jsou nutná následující oprávnění na entity (viz <a href="../../../uzivatelska-78681297.html">Uživatelská oprávnění a role</a>):</p><ul><li>Realizace denního výkonu - zobrazení a modifikace.</li></ul><h2>Vstupní data</h2><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Denní výkon</td><td colspan="1"><a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a></td><td colspan="1">Ano</td><td colspan="1">Denní výkon, u kterého má být aktualizována struktura pro uchování informací o realizaci.</td><td colspan="1">–</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Systém zruší stávající realizaci na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkon</a> – spustí <a href="#" data-page-title="300UC15: Zrušit realizaci denního výkonu">300UC15: Zrušit realizaci denního výkonu</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Denní výkon</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>).<br></li></ul></li><li>Systém připraví novou realizaci pro na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> – spustí <a href="#" data-page-title="300UC12: Připravit realizaci denního výkonu"></a>, na vstup jsou předány následující informace:<br><ul><li><strong>Denní výkon</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>).<br></li></ul></li><li>Pokud je na vstupu získán dnešní <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> – hodnota atributu <strong>Datum realizace</strong> odpovídá dnešnímu datu:<br><ol><li>Systém zahájí realizaci na vstupu získaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkon</a> – spustí <a href="#" data-page-title="300UC13: Zahájit realizaci denního výkonu">300UC13: Zahájit realizaci denního výkonu</a>, na vstup jsou předány následující informace:<br><ul><li><strong>Denní výkon</strong>: na vstupu získaný <a href="../../../datove-modely/datovy-78681044.html">Denní výkon</a> (vstupní parametr <strong>Denní výkon</strong>).<br></li><li><strong>Datum a čas od</strong>: hodnota atributu <strong>Datum realizace</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (čas nastaven na <strong>0:00:00</strong>).</li><li><strong>Datum a čas do</strong>: hodnota atributu <strong>Datum realizace</strong> právě zkoumaného <a href="../../../datove-modely/datovy-78681044.html">Denního výkonu</a> (čas nastaven na <strong>23:59:59</strong>).<br><ul><li><em>Poznámka: Je zadán konec dne, dostupné poziční záznamy by však neměly být starší než aktuální čas.</em></li></ul></li><li><strong>Jen pozice v jízdě</strong>: předána hodnota <strong>FALSE</strong> (v tuto chvíli nemusí být jízdy ještě vygenerovány).<em><br></em></li></ul></li></ol></li></ol><h1>Alternativní toky událostí</h1><p>–</p><h1>Výjimkové toky událostí</h1><p>–</p><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>U na vstupu získaného denního výkonu byla zrušena existující datová struktura pro uchování informací o realizaci. Následně byla připravena nová, která respektuje aktuální stav denního výkonu.</p><h2>Výstupní data</h2><table><tbody><tr><th>Výstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Chybové hlášení</td><td colspan="1">–</td><td colspan="1">Ne</td><td colspan="1">V podstatě se jedná o kód chyby, kvůli které nemohl být dokončen UC.</td><td colspan="1"><p>Informace je předána pouze v případě, kdy nebyly splněny výstupní podmínky tohoto UC.</p></td></tr></tbody></table><h1>Algoritmy</h1><p>–</p><h1>Validace</h1><p>–</p><h1>Uživatelské rozhraní</h1><p>–</p><h1>Grafický návrh</h1><p>–</p><h1>Revize</h1><h3>30. 7. 2024: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></div></div></div></th><th>Stručný popis změny/doplnění</div></div></div></div></th></tr><tr><td colspan="1"><a href="../200ucxx-planovani-denni-vykony/200uc37-84838959.html">Základní tok událostí</a></td><td colspan="1">Revize způsobu zpracování pozičních záznamů (naznačeno růžově).</td></tr></tbody></table>
</div>
</body>
</html>
