<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>605UC04: Import předávacích míst</title>
</head>
<body>
<div class="wiki-content">
<p></p><h1>Stručný popis, cíl</h1><p>Cílem případu užití je import předávacích míst. Ta představují podklad pro zpracování <a href="../../../datove-modely/datovy-78681044.html">Míst realizace</a>, s kterými pracujeme při synchronizaci jízd (viz <a href="#" data-page-title="605UC03: Získat jízdy">605UC03: Získat jízdy</a>).</p><p>Poznámka: Import je připraven pro data ze systému WinyX (zákazník Recovera).</p><h1>Seznam aktérů</h1><table><tbody><tr><th>Aktér</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">Systémový administrátor</td><td colspan="1">Jedná se o jednorázový import záznamů.</td></tr></tbody></table><p>Poznámka: Úplný přehled aktérů je zobrazen samostatně, viz <a href="../../../high-level-concept/akteri-78680673.html">Aktéři</a>.</p><h1>Spuštění případu užití</h1><p>Systémový administrátor zadá požadavek na import předávacích míst.</p><h2>Vstupní podmínky</h2><p>–</p><h2>Vstupní data</h2><table><tbody><tr><th>Vstupní parametr</div></th><th>Datový typ</div></th><th colspan="1">Povinnost</div></th><th>Popis</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">Adresy</td><td colspan="1">csv</td><td colspan="1">Ano</td><td colspan="1">Importní soubor obsahující adresy předávacích míst.</td><td colspan="1">Importní soubor: .</td></tr><tr><td colspan="1">Předávací místa</td><td colspan="1">csv</td><td colspan="1">Ano</td><td colspan="1">Importní soubor obsahující informace o předávacích místech.</td><td colspan="1">Importní soubor: .</td></tr></tbody></table><h1>Základní tok událostí</h1><ol><li>Systém provede import <a href="../../../datove-modely/datovy-78681044.html">Adres</a> ze souboru získaného na vstupu UC (vstupní parametr <strong>Adresy</strong>, viz <a href="605uc04-119636843.html">ALG01: Import adres</a>).</li><li>Systém provede import <a href="../../../datove-modely/datovy-78681044.html">RECO Předávacích míst</a> ze souboru získaného na vstupu UC (vstupní parametr <strong>Předávací místa</strong>, viz <a href="605uc04-119636843.html">ALG02: Import předávacích míst</a>).</li></ol><h1>Alternativní toky událostí</h1><p>–</p><h1>Výjimkové toky událostí</h1><p>–</p><h1>Ukončení případu užití</h1><h2>Výstupní podmínky</h2><p>Došlo k založení záznamů dále uvedených typů, ty byly uložena do databáze.</p><ul><li><strong>Adresa předávacího místa</strong>: získané <a href="../../../datove-modely/datovy-78681044.html">Adresy</a> v rámci <a href="605uc04-119636843.html">ALG01: Import adres</a>.</li><li><strong>Předávací místo</strong>: získaná <a href="../../../datove-modely/datovy-78681044.html">RECO Předávací místa</a> v rámci <a href="605uc04-119636843.html">ALG02: Import předávacích míst</a>.</li></ul><h2>Výstupní data</h2><p>–</p><h1>Algoritmy</h1><h2>ALG01: Import adres</h2><p>Algoritmu slouží k načtení <a href="../../../datove-modely/datovy-78681044.html">Adres</a>, které jsou dostupné v rámci importního souboru (vstupní parametr <strong>Adresy</strong>), jeho struktura je následující…</p><ul><li><strong>Řádek s hlavičkou</strong>: ano.</li><li><strong>Oddělovač záznamů</strong>: nový řádek.</li><li><strong>Oddělovač položek záznamu</strong>: středník.</li></ul><table><tbody><tr><th>Sloupec</th><th>Stručný popis</th><th colspan="1">Příklad hodnoty</th><th>Poznámka</th></tr><tr><td colspan="1"><p>ExterniIdentifikator</p></td><td colspan="1">Externí identifikátor adresy.</td><td colspan="1">PM::2021</td><td colspan="1">Externí identifikátor je připraven tak, aby bylo možné <a href="../../../datove-modely/datovy-78681044.html">Adresy</a> založené v rámci tohoto importu snadno odlišit od ostatních.</td></tr><tr><td colspan="1">Ulice</td><td colspan="1">Ulice dané adresy.</td><td colspan="1"><p>U kabelovny</p></td><td colspan="1">–</td></tr><tr><td colspan="1">CisloPopisne</td><td colspan="1">Číslo popisné dané adresy.</td><td colspan="1"><p>130</p></td><td colspan="1">–</td></tr><tr><td colspan="1">CisloOrientacni</td><td colspan="1">Číslo popisné dané adresy.</td><td colspan="1"><p>22</p></td><td colspan="1">–</td></tr><tr><td colspan="1">Mesto</td><td colspan="1">Město dané adresy.</td><td colspan="1"><p>Praha</p></td><td colspan="1">–</td></tr><tr><td colspan="1">PSC</td><td colspan="1">PSČ dané adresy.</td><td colspan="1"><p>10200</p></td><td colspan="1">–</td></tr><tr><td colspan="1">Stat</td><td colspan="1">Stát dané adresy.</td><td colspan="1"><p>Česká republika</p></td><td colspan="1">–</td></tr></tbody></table><p>Samotný import záznamů pak probíhá následovně:</p><ol><li>Pro všechny záznamy (mimo hlavičky) získané v rámci importního souboru (vstupní parametr <strong>Adresy</strong>):<br><ol><li>Systém založí <a href="../../../datove-modely/datovy-78681044.html">Adresu</a> pro právě zkoumaný řádek importního souboru:<br><ul><li><strong>Externí identifikátor</strong>: hodnota ve sloupci <strong>ExterniIdentifikator</strong> právě zkoumaného řádku.</li><li><strong>Externí identifikátor v registru adres</strong>: není předána žádná hodnota (NULL).</li><li><strong>Ulice</strong>: hodnota ve sloupci <strong>Ulice</strong> právě zkoumaného řádku.</li><li><strong>Číslo popisné</strong>: hodnota ve sloupci <strong>CisloPopisne</strong> právě zkoumaného řádku.</li><li><strong>Číslo orientační</strong>: hodnota ve sloupci <strong>CisloOrientacni</strong> právě zkoumaného řádku.</li><li><strong>Město</strong>: hodnota ve sloupci <strong>Mesto</strong> právě zkoumaného řádku.</li><li><strong>PSČ</strong>: hodnota ve sloupci <strong>PSC</strong> právě zkoumaného řádku.</li><li><strong>Stát</strong>: hodnota ve sloupci <strong>Stat</strong> právě zkoumaného řádku.</li><li><strong>Je aktivní</strong>: nastavena hodnota <strong>TRUE</strong>.</li><li><strong>Datum vytvoření</strong>: datum a čas spuštění importu.</li><li><strong>Datum poslední změny</strong>: datum a čas spuštění importu.</li></ul></li></ol></li></ol><p>Poznámka: Jedná se o jednorázový import záznamů, tomu odpovídá také uvedené chování.</p><h2>ALG02: Import předávacích míst</h2><p>Algoritmu slouží k načtení <a href="../../../datove-modely/datovy-78681044.html">RECO Předávacích míst</a>, která jsou dostupná v rámci importního souboru (vstupní parametr <strong>Předávací místa</strong>), jeho struktura je následující…</p><ul><li><strong>Řádek s hlavičkou</strong>: ano.</li><li><strong>Oddělovač záznamů</strong>: nový řádek.</li><li><strong>Oddělovač položek záznamu</strong>: středník.</li></ul><table><tbody><tr><th>Sloupec</th><th>Stručný popis</th><th colspan="1">Příklad hodnoty</th><th>Poznámka</th></tr><tr><td colspan="1"><p>ExterniIdentifikator</p></td><td colspan="1">Externí identifikátor předávacího místa.</td><td colspan="1">PM::627::S</td><td colspan="1"><p>–</p></td></tr><tr><td colspan="1">Nazev</td><td colspan="1">Název předávacího místa.</td><td colspan="1">Sanace - Zentiva</td><td colspan="1">–</td></tr><tr><td colspan="1">Adresa_ExterniIdentifikator</td><td colspan="1">Externí identifikátor adresy.</td><td colspan="1">PM::2021</td><td colspan="1">Odpovídá hodnotě atributu Externí identifikátor dané <a href="../../../datove-modely/datovy-78681044.html">Adresy</a> (viz <a href="605uc04-119636843.html">ALG01: Import adres</a>).</td></tr><tr><td colspan="1"><p>ZemepisnaSirka</p></td><td colspan="1">Souřadnice předávacího místa.</td><td colspan="1">50.0601336</td><td colspan="1">–</td></tr><tr><td colspan="1"><p>ZemepisnaDelka</p></td><td colspan="1">Souřadnice předávacího místa.</td><td colspan="1">14.5460467</td><td colspan="1">–</td></tr></tbody></table><p>Samotný import záznamů pak probíhá následovně:</p><ol><li>Pro všechny záznamy (mimo hlavičky) získané v rámci importního souboru (vstupní parametr <strong>Předávací místa</strong>):<br><ol><li>Systém založí <a href="../../../datove-modely/datovy-78681044.html">RECO Předávací místo</a> pro právě zkoumaný řádek importního souboru:<br><ul><li><strong>Externí identifikátor</strong>: hodnota ve sloupci <strong>ExterniIdentifikator</strong> právě zkoumaného řádku.</li><li><strong>Název</strong>: hodnota ve sloupci <strong>Nazev</strong> právě zkoumaného řádku.</li><li><strong>Externí identifikátor adresy</strong>: hodnota ve sloupci <strong>Adresa_ExterniIdentifikator</strong> právě zkoumaného řádku.</li><li><strong>Zeměpisná šířka</strong>: hodnota ve sloupci <strong>ZemepisnaSirka</strong> právě zkoumaného řádku.</li><li><strong>Zeměpisná délka</strong>: hodnota ve sloupci <strong>ZemepisnaDelka</strong> právě zkoumaného řádku.</li></ul></li></ol></li></ol><p>Poznámka: Jedná se o jednorázový import záznamů, tomu odpovídá také uvedené chování.</p><h1>Validace</h1><p>–</p><h1>Uživatelské rozhraní</h1><p>–</p><h1>Grafický návrh</h1><p>–</p><h1>Revize</h1><p>–</p>
</div>
</body>
</html>
