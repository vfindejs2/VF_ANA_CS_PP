<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>Návrhy realizace požadavků pro M10</title>
</head>
<body>
<div class="wiki-content">
<p></p><p>V rámci dokumentu jsou uvedeny návrhy řešení implementace jednotlivých požadavků pro M10 – jedná se pouze o rámcový popis pro potřeby schválení a případného odhadu pracnosti.</p><p>Modře jsou naznačeny změny oproti původní verzi, červeně pak otázky či jiná upozornění.</p><p>Nadpisy jsou pro rychlejší orientaci barevně rozlišeny dle aktuálního stavu:</p><ul><li>implementováno,</li><li>v řešení,</li><li>zamítnuto,</li><li>řešeno v rámci jiného dokumentu.</li></ul><h1>Obecné</h1><h2>Zobrazení mapy v samostatném okně</h2><p> Implementováno.</p><p>Při plánování denních výkonů dochází k situaci, kdy je zobrazeno velké množství informací zároveň a prostor v rámci jedné obrazovky není dostačující. Jako vhodné řešení se jeví možnost zobrazit část obrazovky, konkrétně pak hlavní mapu, na druhém monitoru. Dojde tedy k rozdělení obrazovky na dvě části, ty spolu však komunikují – obě zobrazují aktuální data a změny provedené v jedné části se během okamžiku projeví i v té druhé.</p><p>Poznámka: Jedná se o obecný popis chování – konkrétní implementace je pak uvedena v rámci jednotlivých obrazovek.</p><h3>Struktura obrazovky</h3><p>Abychom docílili požadovaného chování, musíme rozdělit obrazovku na 2 části:</p><ul><li>Primární – přijímá a odesílá informace, které se zobrazují v rámci obrazovky. Komunikuje tedy se zbytkem systému, dále pak se sekundární částí obrazovky.</li><li>Sekundární – zobrazuje informace v mapě. Komunikuje s primární částí obrazovky.</li></ul><p>Poznámka: Pokud je k dispozici sekundární část obrazovky, musí být k dispozici i primární část.<br></p><h3>Rozdělení obrazovky</h3><p>Způsob, kterým uživatel vyvolá rozdělení obrazovky, je dán v rámci popisu chování konkrétního modulu. Zde jsou tedy uvedeny pouze společné akce, které je při rozdělení nutné provést.</p><ol><li>Uživatel zadá požadavek na zobrazení mapy v samostatném okně.</li><li>Systém uloží právě nastavené rozložení obrazovky do uživatelského nastavení.</li><li>Systém vypne ukládání nastaveného rozložení obrazovky do uživatelského nastavení pro tuto obrazovku.</li><li>Systém aktualizuje rozložení primární obrazovky (skryje hlavní mapu).</li><li>Systém přidá v prohlížeči novou kartu, která obsahuje sekundární část obrazovky (hlavní mapu).</li><li>Systém zapne režim rozdělení pro tuto obrazovku.</li></ol><h3>Komunikace mezi částmi obrazovky</h3><p>Obě části obrazovky spolu komunikují, zajišťují tak zobrazení aktuálních dat v primární i sekundární části obrazovky. Komunikace probíhá především v těchto případech:</p><ul><li>Požadavek na aktualizaci dat na primární obrazovce, která nebyla vyvolána uživatelem:<br><ul><li>Periodická aktualizace dat – modul získává od systému aktuální data v časovém intervalu.</li><li>Událost vyžadující aktualizaci dat – systém dodá informaci modulu, že jsou k dispozici aktuální data.</li></ul></li><li>Požadavek na aktualizaci dat na primární obrazovce vyvolaný uživatelem:<br><ul><li>Nastavení parametrů pro zobrazení dat (parametry omezující načtená data, nastavení filtrů přehledů a tabulek…).<br></li><li>Změna některé z hodnot v rámci primární části obrazovky (přidání, změna, odebrání).</li><li>Označení některé z hodnot v rámci primární části obrazovky (položka přehledu, řádek tabulky…).</li></ul></li><li>Požadavek na aktualizaci dat na sekundární obrazovce vyvolaný uživatelem:<ul><li>Nastavení parametrů pro zobrazení dat (zobrazené vrstvy…).</li><li>Změna některé z hodnot v rámci sekundární části obrazovky (přidání, změna, odebrání).</li><li>Označení některé z hodnot v rámci sekundární části obrazovky (položka přehledu, řádek tabulky).<br></li></ul></li></ul><p>Tím dochází k zajištění uvedených požadavků:</p><ul><li>Data zobrazená na primární části obrazovky odpovídají těm na sekundární části obrazovky.</li><li>Označené položky na primární části obrazovky odpovídají těm na sekundární části obrazovky.</li></ul><p>Poznámka: Jedná se o obecný popis situací, kdy dochází ke komunikaci mezi jednotlivými částmi obrazovky. Některé situace jsou obecně platné, jiné musí být přímo specifikovány u konkrétního použití.</p><h3>Zrušení rozdělení obrazovky</h3><p>Způsob, kterým uživatel vyvolá zrušení rozdělení obrazovky, je dán nejen v rámci popisu chování konkrétního modulu, ale i obecně platnými akcemi. Zde jsou tedy uvedeny pouze obecné situace, ve kterých dochází ke zrušení rozdělení obrazovky.</p><ul><li>Uživatel zadá požadavek na zrušení rozdělení obrazovky.</li><li>Uživatel zavře kartu s primární nebo sekundární částí obrazovky.</li><li>Uživatel zavře okno prohlížeče, které obsahuje alespoň jednu z částí obrazovky.</li><li>Dojde k „pádu“ operačního systému nebo jinému ukončení prohlížeče bez možnosti provést potřebná opatření.</li></ul><p>Jakmile je vyvoláno zrušení rozdělení obrazovky, musí být provedeny následující akce:</p><ol><li>Pokud uživatel vyvolá zrušení rozložení obrazovky jedním z dále uvedených způsobů, je zavřeno okno se sekundární částí obrazovky (v dalších případech je sekundární část obrazovky zavřena jiným způsobem).<ul><li>Uživatel zadá požadavek na zrušení rozdělení obrazovky (v libovolné části obrazovky).</li><li>Uživatel zavře kartu s primární částí obrazovky.</li><li>Uživatel zavře okno prohlížeče, které obsahuje primární část obrazovky.</li></ul></li><li>Systém vypne režim rozdělení obrazovky pro tuto obrazovku.</li><li>Systém aktualizuje rozložení primární obrazovky (zobrazí hlavní mapu) dle naposledy uloženého uživatelského nastavení pro tuto obrazovku.</li><li>Systém zapne ukládání nastaveného rozložení obrazovky do uživatelského nastavení pro tuto obrazovku.</li></ol><h3>Možná omezení</h3><p>Popisovaná funkčnost má však i svá omezení. Některá se mohou projevit okamžitě, některá v rámci budoucího rozvoje.</p><ul><li>Práce v režimu Drag&Drop mezi primární a sekundární částí obrazovky.</li><li>Obě části obrazovky musí být otevřeny ve stejném prohlížeči.</li><li>Prodleva při aktualizaci dat napříč jednotlivými částmi obrazovky při velkém množství dat.</li><li>Daná obrazovka může být otevřena v několika instancích, každou je pak možné rozdělit na primární a sekundární.</li></ul><h2>Přiřazení vozidla k dennímu výkonu</h2><p> Implementováno.</p><p>V rámci plánování denních výkonů je možné přidat další denní výkony ručně. Ty ale nemají přiřazeno žádné vozidlo. V tomto případě pak může uživatel zvolit, jaké vozidlo bude k dennímu výkonu přiřazeno. Vybírat pak může z vozidel, které splňují dále uvedené podmínky:</p><ul><li>Uživatel má právo na konkrétní vozidlo.</li><li>Vozidle je stejného typu dopravy jako denní výkon.</li><li>Vozidlo není v daný den přiřazeno na žádný denní výkon odpovídající provozovny (pro „domovskou“ provozovnu vozidla je denní výkon vygenerován systémem).</li></ul><p>Poznámka:</p><ul><li>Na některých obrazovkách pak může být zobrazeno více denních výkonů pro stejné vozidlo a stejný den (obrazovky s možností zobrazení dat za více provozoven zároveň).</li><li>Pokud změníme u vozidla ve FLWW2 skupinu objektu, uvidí toto vozidlo sice dispečer provozovny odpovídající této skupině, ale již ho nemusí vidět dispečer z provozovny, která odpovídala předchozí skupině.</li></ul><p>Vozidlo je pak možné z denního výkonu odebrat, případně ho zaměnit za jiné. Přiřazení, odebrání a změna vozidla je možná pouze u takového denního výkonu, který byl vytvořen uživatelem. U systémem vygenerovaných denních výkonů uvedené akce k dispozici nejsou.</p><p>Poznámka: Jedná se o obecný popis chování – konkrétní implementace je pak uvedena v rámci jednotlivých obrazovek.</p><h3>Nastavení denního výkonu vozidla v rámci domovské provozovny</h3><p>Pokud uživatel přiřadí vypůjčené vozidlo k dennímu výkonu, budou pro jedno vozidlo v jeden den existovat 2 denní výkony:</p><ul><li>Původní denní výkon v rámci „domovské“ provozovny.</li><li>Vytvořený denní výkon v rámci provozovny, které bylo zapůjčeno vozidlo.</li></ul><p>Poznámka: Může nastat situace, že vozidlo změní skupinu objektu v rámci FLWW2 vícekrát v jeden den, pak mohou být vytvořeny i více jak 2 denní výkony.</p><p>Uvedenou situaci je pak nutné řešit. Navrhujeme tedy nastavení stavu denního výkonu v rámci domovské provozovny na Vypůjčený (nový stav denního výkonu). K tomu dojde ve chvíli, kdy uživatel přiřadí vozidlo na denní výkon jiné než „domovské“ provozovny. Z denního výkonu v rámci „domovské“ provozovny nejsou odebrány položky denního výkonu, ale je pouze změněn stav tohoto denního výkonu.</p><p>Pokud dojde k odebrání vozidla z denního výkonu v rámci provozovny, na kterou je vozidlo zapůjčeno, je denní výkon „domovské“ provozovny vrácen do stavu Plánovaný.</p><p>Přiřazení vozidla na denní výkon formou zápůjčky je pak dostupné pouze v uvedených případech:</p><ul><li>Denní výkon „domovské“ provozovny je ve stavu Plánovaný (nebo zatím denní výkon ještě neexistuje).</li><li>Vozidlo již není naplánováno na jinou než požadovanou a „domovskou“ provozovnu zároveň. Může být zapůjčeno právě na jednu provozovnu.</li></ul><p>Poznámka: Denní výkony ve stavu Vypůjčený není možní schválit a nejsou rušeny v rámci algoritmu pro rušení neschválených denních výkonů v minulosti.</p><h3>Zobrazení vypůjčeného vozidla v rámci jednotlivých modulů</h3><p>Pokud je v rámci FLWW2 změněna skupina objektu vozidla, může nastat situace, kdy uživatel ztratí dočasně právo na zobrazení tohoto objektu. Příkladem pak může být zobrazení přehledu denních výkonů v rámci obrazovky pro plánování denních výkonů (M4). V tomto případě by uživatel v rámci „domovské“ provozovny viděl sice denní výkon, ale již by neviděl, jaké vozidlo je na něj přiřazeno. Místo konkrétní SPZ by byl zobrazen zástupný text Chybí oprávnění.</p><p>Uvedenou situaci je nutné řešit. Navrhujeme tedy u denních výkonů abstrahovat od práv na konkrétní vozidla. Jinými slovy, pokud má uživatel právo na denní výkony určité provozovny, vidí SPZ všech vozidel, která jsou přiřazena na denní výkony této provozovny.</p><h2>Panel objednané služby</h2><p> Implementováno.</p><p>V rámci panelu objednané služby bude dále kromě poznámky k místu realizace, která je nastavena při zakládání objednávky, zobrazen i kontakt k místu realizace získaný na stejném místě. Panel Objednané služby se vyskytuje na více místech, aktualizován pak bude na všech. Ty stěžejní jsou pak vyjmenovány dále:</p><ul><li>obrazovka pro plánování denních výkonů,</li><li>obrazovka pro editaci denního výkonu,</li><li>obrazovka pro potvrzení realizace denního výkonu.</li></ul><p>Dále bude mírně aktualizováno rozložení panelu (viz obrázek, naznačeno modře):</p><ul><li>Místo názvu místa realizace je zobrazen název zákazníka.</li><li>Za první řádek vložena adresa Místa realizace.</li></ul><div>Poznámka: Změny jsou provedeny v rámci uvedených výskytů panelu s tím, že adresa místa realizace je zobrazena pouze v rámci obrazovky pro plánování denních výkonů (M4).</div><p><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-18 14-52-23.png" data-attachment="true"></p><h1>Plánování denních výkonů</h1><h2>Změna rozložení obrazovky</h2><p> Implementováno.</p><p>V rámci plánování denních výkonů (M4) dojde ke změně rozložení obrazovky, jak je vidět na přiloženém obrázku. Další změna spočívá v chování mapy s objednanými službami, ve které se bude nově zobrazovat trajektorie denního výkonu, který je právě označen. Zásadní provedené změny jsou tedy následující:</p><ul><li>Hlavní mapu s objednanými službami je možné zobrazit v samostatném okně.</li><li>Je přidána mapa s trajektoriemi denních výkonů.</li><li>V nástrojové liště obrazovky je uveden počet objednaných služeb. Uvedeny jsou pak 2 hodnoty – právě zobrazené objednané služby a všechny načtené objednané služby.</li><li>Přehled objednaných služeb je umístěn na levé straně obrazovky, a to přes celou její výšku.</li><li>Spojnice zobrazené v rámci mapy s objednanými službami je možné skrýt. odpovídají stavu jednotlivých objednaných služeb:<br><ul><li>Pokud není služba naplánována na denní výkon, jsou zobrazeny spojnice v rámci objednané služby.</li><li>Pokud je služba naplánována na denní výkon, jsou zobrazovány spojnice v rámci denního výkonu, na který je objednaná služba naplánovaná.</li></ul></li><li>V rámci přehledu denních výkonů je možné jednotlivým denním výkonům přiřadit vozidlo, případně toto přiřazení zrušit či změnit. Uvedené akce lze pak provést pro takové denní výkony, které byly vytvořeny uživatelem.</li><li>V rámci přehledu denních výkonů je možné pro požadovaný denní výkon zobrazit mapu denního výkonu, a to ve formě bublinkové nápovědy. Funkce je dostupná pro takové denní výkony, které obsahují alespoň jednu položku denního výkonu.</li><li>V rámci přehledu denních výkonů jsou graficky odlišeny schválené denní výkony od ostatních.</li></ul><p><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-15 18-11-45.png" data-attachment="true"></p><p> </p><p><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-18 15-1-20.png" data-attachment="true"></p><p>Jak bylo uvedeno dříve, bude možné pro jednotlivé denní výkony zobrazit plánovanou trasu, a to formou bublinkové nápovědy. Ta se zobrazí po najetí myší na odpovídající ikonu, viz obrázek.</p><p><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-16 8-27-26.png" data-attachment="true"></p><p>Dále jsou uvedeny 2 návrhy řešení pro grafické odlišení schválených denních výkonů od ostatních, viz tabulka.</p><p><strong>Zvolena varianta 1.</strong></p><table><tbody><tr><th>Varianta</th><th>Náhled</th><th>Popis</th></tr><tr><td>1</td><td><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-12 13-0-33.png" data-attachment="true"></td><td><p>Schválené denní výkony (zahrnuje i navazující stavy denního výkonu) jsou odlišeny pomocí ikony ve sloupci Vozidlo.</p><p>Indikace je pak vložena do samostatného sloupce, který je umístěn jako první.</p><p>Samostatně je pak oddělen stav Vypůjčený.</p></td></tr><tr><td>2</td><td><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-30 12-29-41.png" data-attachment="true"></td><td><p>Denní výkony jsou odlišeny pomocí barevného pruhu ve sloupci Vozidlo:</p><ul><li>Zelený pruh – schválené denní výkony (zahrnuje i navazující stavy denního výkonu).</li><li>Červený pruh – ostatní denní výkony.</li></ul></td></tr></tbody></table><p>Změny ve vykreslování mapy se pak projeví i v možnostech jejího nastavení. Viz tabulka s návrhem nástrojové lišty pro jednotlivé mapy.</p><table><tbody><tr><th>Mapa</th><th>Popis</th><th colspan="1">Náhled</th></tr><tr><td>Objednané služby</td><td><ul><li>Objednané služby – skrytí celé vrstvy.<ul><li>Možnost zobrazit/skrýt spojnice mezi lokacemi.</li><li>Možnost naznačit směr.</li></ul></li><li>Denní výkony – skrytí celé vrstvy.<ul><li>Možnost zobrazit skutečnou trasu kopírující pozemní komunikace.</li><li>Možnost naznačit směr.</li></ul></li><li>Rychlé volby:<ul><li>Zobrazit všechny vrstvy.</li></ul></li></ul></td><td colspan="1"><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-18 15-3-10.png" data-attachment="true"></td></tr><tr><td>Denní výkony</td><td>Denní výkony – skrytí celé vrstvy.<ul><li>Možnost zobrazit skutečnou trasu kopírující pozemní komunikace.</li><li>Možnost naznačit směr.</li></ul></td><td colspan="1"><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-15 18-19-41.png" data-attachment="true"></td></tr></tbody></table><p>Poznámka: Lokace typu Rozdělení a Bod průjezdu nejsou v mapě zobrazeny. Lokace typu Provozovna a Likvidační místo jsou pak zobrazeny vždy, i když dojde ke skrytí obou vrstev.</p><h2>Zobrazení mapy v samostatném okně</h2><p> Implementováno.</p><p>Vzhledem k množství informací zobrazených v rámci obrazovky pro plánování denních výkonů (M4) bude umožněno zobrazení mapy denních výkonů v samostatném okně.</p><p>Obecný popis chování je pak uveden zde: <a href="navrhy-88015546.html">Zobrazení mapy v samostatném okně</a>.</p><p>Ke spuštění či zrušení režimu zobrazení mapy v samostatném okně je určeno tlačítko <img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 14-32-12.png" data-attachment="true"> v hlavičce obrazovky, viz obrázek.</p><p><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 14-35-14.png" data-attachment="true"></p><p>Obrazovka je rozdělena na 2 části (viz náhled):</p><ul><li>Primární – červeně.</li><li>Sekundární – modře.</li></ul><p><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 13-27-44.png" data-attachment="true"></p><p>Po rozdělení obrazovky dojde ke změně rozložení – to je naznačeno dále, viz tabulka. Spolu s rozložením je zobrazen i detail hlavičky, konkrétně tlačítka změny rozložení, která se v režimu samostatného zobrazení mapy liší.</p><table><tbody><tr><th colspan="1"> </th><th>Primární část</th><th>Sekundární část</th></tr><tr><td colspan="1">Rozložení obrazovky</td><td><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-23 15-2-57.png" data-attachment="true"></td><td><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-18 15-6-25.png" data-attachment="true"></td></tr><tr><td colspan="1">Hlavička</td><td colspan="1"><p>Dostupná jsou následující tlačítka pro nastavení rozložení:</p><ul><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-15 18-39-5.png" data-attachment="true"> Skrytí mapy denních výkonů.</li><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 14-27-35.png" data-attachment="true"> Zrušení režimu samostatného zobrazení mapy.</li></ul><p>Poznámka: Při spuštěném režimu není možné dále skrývat jednotlivé panely.</p></td><td colspan="1"><p>Dostupná jsou následující tlačítka pro nastavení rozložení:</p><ul><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 14-27-35.png" data-attachment="true"> Zrušení režimu samostatného zobrazení mapy.</li></ul></td></tr></tbody></table><h2>Přiřazení vozidla k dennímu výkonu</h2><p> Implementováno.</p><p>V rámci obrazovky pro plánování denních výkonů (M4) bude možné v přehledu denních výkonů nastavit pro konkrétní denní výkon požadované vozidlo. Bude možné provést následující akce:</p><ul><li>přiřadit vozidlo k dennímu výkonu,</li><li>změnit přiřazené vozidlo u denního výkonu,</li><li>zrušit přiřazení vozidla k dennímu výkonu.</li></ul><p>Poznámka: Akce jsou dostupné pouze pro denní výkony vytvořené přímo uživatelem.</p><p>Tlačítka, která umožní spuštění uvedených akcí, jsou pak dostupná ve sloupci Vozidlo:</p><ul><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-23 9-13-13.png" data-attachment="true"> Přiřadit nebo změnit vozidlo.</li><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-23 9-13-29.png" data-attachment="true"> Zrušit přiřazení vozidla.</li></ul><p><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-23 9-12-35.png" data-attachment="true"></p><p>Obecný popis je pak uveden samostatně, viz <a href="navrhy-88015546.html">Přiřazení vozidla k dennímu výkonu</a>.</p><h2>Hromadné přesunutí objednaných služeb na denní výkon</h2><p> Implementováno.</p><p>V rámci obrazovky pro plánování denních výkonů (M4) bude možné v přehledu objednaných služeb označit více objednaných služeb zároveň. Takto označené objednané služby bude možné vložit všechny najednou na požadovaný denní výkon. Dále jsou pak uvedeny 2 možné varianty řešení.</p><p><strong>Zvolena varianta <a href="navrhy-88015546.html">Režim hromadného plánování</a>.</strong></p><h3>Režim hromadného plánování</h3><p>V přehledu objednaných služeb bude možné zapnout režim hromadného plánování, který je po jednotlivých krocích popsán v tabulce a na přiloženém obrázku.</p><p>Poznámka: Světle šedě zvýrazněné objednané služby jsou takové objednané služby, které jsou již naplánovány na denní výkon.</p><p>Pokud je vkládána na denní výkon taková objednaná služba, která je dána dobou trvání, je tato doba automaticky nastavena na jednu hodinu (doba trvání je implementována jako konfigurační hodnota a lze ji snadno změnit).</p><table><tbody><tr><th>Krok</th><th>Popis</th><th colspan="1">Poznámka</th></tr><tr><td>1</td><td><p>Uživatel vidí objednané služby, které odpovídají nastaveným parametrům plánování a použitým filtrům v přehledu objednaných služeb.</p><p>Pokud chce uživatel přejít k hromadnému plánování, stiskne tlačítko <img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-22 13-53-44.png" data-attachment="true"> a systém spustí režim hromadného plánování.</p></td><td colspan="1">Tlačítko je dostupné, pokud je zobrazena alespoň jedna objednaná služba.</td></tr><tr><td>2</td><td><p>Systém zobrazí v nástrojové liště přehledu pouze taková tlačítka, která jsou v rámci režimu hromadného plánování potřeba. Jejich význam je následující:</p><ul><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-22 13-58-1.png" data-attachment="true"> Zrušení režimu hromadného plánování.</li><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-22 14-0-37.png" data-attachment="true"> Označení všech dostupných objednaných služeb.</li><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-22 14-0-55.png" data-attachment="true"> Zrušení označení všech objednaných služeb.</li><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-22 14-1-12.png" data-attachment="true"> Naplánování označených objednaných služeb na požadovaný denní výkon (dostupné dle označených objednaných služeb). Chování odpovídá tlačítku v rámci panelu objednané služby.</li><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-22 14-1-26.png" data-attachment="true"> Zrušení naplánování označených objednaných služeb na požadovaný denní výkon (dostupné dle označených objednaných služeb). Chování odpovídá tlačítku v rámci panelu objednané služby.</li></ul><p>Zároveň dojde ke změně režimu zobrazení panelů s objednanými službami, není s nimi možné provádět žádné další akce (např. režim Drag&Drop), kromě výběru požadovaných objednaných služeb.</p><p>Uživatel vybere požadované objednané služby. Ty může buď naplánovat na požadovaný denní výkon, nebo jejich naplánování v rámci denních výkonů zrušit. Následně dojde k provedení požadovaných akcí a ukončení režimu hromadného plánování.</p></td><td colspan="1">Zrušení dodatečně načteného období přeruší režim hromadného plánování.</td></tr><tr><td>3</td><td>Následně systém aktualizuje přehled objednaných služeb – projeví se změny provedené v rámci režimu hromadného plánování.</td><td colspan="1">Na obrázku naznačeno naplánováním 2 objednaných služeb, které v rámci obrázku 1 naplánovány nebyly.</td></tr></tbody></table><p><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-22 13-46-3.png" data-attachment="true"></p><h3>Hromadné plánování pomocí Drag&Drop</h3><p>V přehledu objednaných služeb bude možné označit jednu nebo více objednaných služeb. Následně je půjde „přetáhnout“ na požadovaný denní výkon. Chování je po jednotlivých krocích popsáno v tabulce a na přiloženém obrázku.</p><p>Poznámka: Světle šedě zvýrazněné objednané služby jsou takové objednané služby, které jsou již naplánovány na denní výkon.</p><p>Jedná se o preferovanou variantu.</p><table><tbody><tr><th>Krok</th><th>Popis</th><th colspan="1">Poznámka</th></tr><tr><td colspan="1">1</td><td colspan="1"><p>Uživatel vidí objednané služby, které odpovídají nastaveným parametrům plánování a použitým filtrům v přehledu objednaných služeb.</p><p>Pokud chce uživatel přejít k hromadnému plánování, označí jeden nebo více denních výkonů zároveň. To je umožněno pomocí myši nebo kliknutím na tlačítko <img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-22 14-0-37.png" data-attachment="true">, které způsobí označení všech dostupných objednaných služeb zároveň.</p><p>Tlačítko <img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-22 14-33-34.png" data-attachment="true"> pak slouží ke zrušení označení objednaných služeb.</p></td><td colspan="1">Označení objednaných služeb je umožněno klikáním na jednotlivé panely objednané služby. Pokud při tom uživatel „drží“ klávesu Ctrl, dochází k hromadnému označení.</td></tr><tr><td colspan="1">2</td><td colspan="1"><p>Jakmile uživatel označí alespoň jednu objednanou službu, zobrazí se tlačítka pro hromadné plánování:</p><ul><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-22 14-1-12.png" data-attachment="true"> Naplánování označených objednaných služeb na požadovaný denní výkon (dostupné dle označených objednaných služeb). Chování odpovídá tlačítku v rámci panelu objednané služby.</li><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-22 14-1-26.png" data-attachment="true"> Zrušení naplánování označených objednaných služeb na požadovaný denní výkon (dostupné dle označených objednaných služeb). Chování odpovídá tlačítku v rámci panelu objednané služby.</li></ul><p>Uživatel vybere požadované objednané služby. Ty může buď naplánovat na požadovaný denní výkon, nebo jejich naplánování v rámci denních výkonů zrušit. Následně dojde k provedení požadovaných akcí.</p></td><td colspan="1">Označené objednané služby jsou od ostatních graficky odlišeny.</td></tr><tr><td colspan="1">3</td><td colspan="1">Následně systém aktualizuje přehled objednaných služeb – projeví se změny provedené v rámci režimu hromadného plánování. Dojde ke zrušení označení objednaných služeb, a tím i ke skrytí tlačítek pro hromadné plánování.</td><td colspan="1">Na obrázku naznačeno naplánováním 2 objednaných služeb, které v rámci obrázku 1 naplánovány nebyly.</td></tr></tbody></table><p><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-22 14-29-12.png" data-attachment="true"></p><h2>Zobrazení podrobných informací v diagramu denního výkonu</h2><p> Implementováno.</p><p>V rámci obrazovky pro plánování denních výkonů (M4) bylo v diagramu denního výkonu doplněno zobrazení doplňujících informací o položce denního výkonu pomocí bublinkové nápovědy. Pro položky denního výkonu typu Objednaná služba je pak zobrazené informace potřeba rozšířit. Vzhledem k tomu, že již bylo požadované řešení schváleno, je uvedena pouze zvolená varianta. Struktura obsahu je pak následující:</p><ul><li>Objednaná služba: Pořadí v rámci dne plánování a název úkonu.</li><li>Zákazník: Název zákazníka.</li><li>Adresa MR: Adresa místa realizace (v rámci vývozu či manipulace jsou pak zobrazeny 2 adresy).</li><li>Objednaná nádoba: Informace o objednané nádobě – druhy odpadu, typ nádoby a její vlastnictví.</li><li>Časové okno: Časové okno realizace.</li><li>Poznámka: Poznámka k objednané službě.</li></ul><p><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-23 15-14-19.png" data-attachment="true"></p><p>Poznámka: Jednotlivé varianty jsou uvedeny v dokumentu <a href="#" data-page-title="Návrhy realizace požadavků"></a>, konkrétně se pak jedná o <a href="navrhy-86147199.html">Doplňují informace položek diagramu denního výkonu</a>.</p><h2>Označení objednané služby</h2><p> Implementováno.</p><p>Bude možné označit objednanou službu, a to na třech místech:</p><ul><li>přehled objednaných služeb,</li><li>mapa objednaných služeb,</li><li>diagram denního výkonu.</li></ul><p>Pokud uživatel klikne na objednanou službu v jednom z uvedených míst, dojde ke zvýraznění objednané služby na ostatních místech.</p><h1>Editace denního výkonu</h1><h2>Změna rozložení obrazovky</h2><p> Implementováno.</p><p>V rámci editace denního výkonu (M5) dojde ke změně rozložení obrazovky, jak je vidět na přiloženém obrázku. To ovlivní i množství zobrazených informací o jednotlivých lokacích. Zásadní provedené změny jsou tedy následující:</p><ul><li>Hlavní mapu je možné zobrazit v samostatném okně.</li><li>Zobrazenému dennímu výkonu je možné v hlavičce aplikace přiřadit vozidlo, případně toto přiřazení zrušit či změnit. Uvedené akce lze pak provést pro takový denní výkon, který byl vytvořen uživatelem.</li><li>Výška diagramu je oproti stávající verzi snížena.</li><li>Tabulka objednaných služeb a jejich lokací je umístěn na levé straně obrazovky, a to přes celou její výšku.</li><li>Tabulka objednaných služeb a jejich lokací může být umístěn i na pravé straně obrazovky, pokud si to uživatel přeje.</li><li>Hlavní mapa, detail a informace o denním výkonu jsou umístěny ve formě záložek na společném panelu.</li><li>Pokud denní výkon zatím není schválen, je nově k dispozici tlačítko pro uložení přímo do tohoto stavu.</li><li>Trajektorie mezi položkami denního výkonu bude vykreslena plnou čarou.</li><li>Při stisknutí tlačítka Zrušit v případě, že již byla provedena nějaká změna, bude uživatel dotázán, zda si opravdu přeje zrušit provedené změny.</li></ul><p><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-15 18-53-11.png" data-attachment="true"></p><p>V rámci tabulky objednaných služeb a jejich lokací pak došlo k odebrání některých informací. Nyní jsou tedy k dispozici pouze následující sloupce:</p><ul><li>Pořadí položky denního výkonu v rámci denního výkonu.</li><li>Informace o položce denního výkonu.</li><li>Pořadí lokace objednané služby v rámci denního výkonu.</li><li>Informace, zda bude lokace objednané služby v rámci denního výkonu navštívena.</li><li>Informace, jaká akce bude v rámci lokace objednané služby provedena. Zobrazeno formou ikony, po najetí myší je pak zobrazena bublinková nápověda s názvem úkonu. Sloupec bude mírně rozšířen oproti obsahu. Dostupné jsou následující akce:<br><ul><li>Vyzvednout,</li><li>Vyprázdnit,</li><li>Umístit,</li><li>Navštívit.</li></ul></li><li>Informace, o jaký typ lokace objednané služby se jedná. Zobrazeno formou ikony a zkráceného názvu. Dostupné jsou následující typy lokace objednané služby:<br><ul><li>Provozovna (P),</li><li>Likvidační místo (LM),</li><li>Místo realizace (MR),</li><li>Ostatní (Jiné).</li></ul></li><li>Adresa lokace objednané služby s možností editace.</li><li>Předpokládaná doba příjezdu na konkrétní lokaci objednané služby.</li><li>Předpokládaná doba trvání obsluhy denního výkonu v konkrétní lokaci objednané služby.</li><li>Předpokládaná ujetá vzdálenost v konkrétní lokaci objednané služby.</li><li>Předpokládaná ujetá vzdálenost mezi 2 lokacemi.<br></li><li>Poznámka k lokaci objednané služby s možností editace (skryto, viz dále).</li></ul><p>Poznámka:</p><ul><li>Zobrazení informace o době manipulace a poznámky je pak popsáno samostatně.</li><li>TODO: Možnost práce se sloupci (změna pořadí a šířky, viditelnost) a omezení těchto akcí pro jednotlivé sloupce. Předáno na vývoj.</li></ul><p>Panel s kartami pak obsahuje tři položky, které se v rámci revize obrazovky také mění, viz tabulka.</p><table><tbody><tr><th>Karta</th><th>Náhled</th><th>Popis</th></tr><tr><td>Mapa</td><td><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-16 9-1-47.png" data-attachment="true"></td><td>Zobrazuje mapu s celou plánovanou trasou denního výkonu.</td></tr><tr><td>Detail</td><td><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-29 11-53-34.png" data-attachment="true"></td><td>Zobrazuje mapu s objednanou službou nebo lokací objednané služby – dle vybraného záznamu v rámci tabulky objednaných služeb a jejich lokací.</td></tr><tr><td>Denní výkon</td><td><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-29 11-53-16.png" data-attachment="true"></td><td><p>Karta zobrazuje souhrnné informace o denním výkonu. Dále je v rámci karty umožněno uložit průběh editace denního výkonu. Jedná se pak pouze o změnu rozložení, chování zůstává zachováno.</p><p>Poznámka: V rámci souhrnných informací je aktualizováno pořadí jednotlivých položek tak, aby odpovídalo zbývajícím částem modulu RP.</p></td></tr></tbody></table><h2>Zobrazení mapy v samostatném okně</h2><p> Implementováno.</p><p>Vzhledem k množství informací zobrazených v rámci obrazovky pro editaci denního výkonu (M5) bude umožněno zobrazení panelu s hlavní mapou v samostatném okně.</p><p>Obecný popis chování je uveden pak zde: <a href="navrhy-88015546.html">Zobrazení mapy v samostatném okně</a>.</p><p>Ke spuštění či zrušení režimu zobrazení mapy v samostatném okně je určeno tlačítko <img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 14-32-12.png" data-attachment="true"> v hlavičce obrazovky, viz obrázek.</p><p><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 14-33-34.png" data-attachment="true"></p><p>Obrazovka je rozdělena na 2 části (viz náhled):</p><ul><li>Primární – červeně.</li><li>Sekundární – modře.</li></ul><p><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 13-27-0.png" data-attachment="true"></p><p>Po rozdělení obrazovky dojde ke změně rozložení – to je naznačeno dále, viz tabulka. Spolu s rozložením je zobrazen i detail hlavičky, konkrétně tlačítka změny rozložení, která se v režimu samostatného zobrazení mapy liší. Uvedeny jsou pak 2 varianty řešení. <strong>Zvolena varianta 2.</strong></p><table><tbody><tr><th colspan="2"> </th><th>Primární část</th><th>Sekundární část</th></tr><tr><td rowspan="2"><p>Varianta 1 (v novém okně je zobrazen celý panel s mapou)</p></td><td colspan="1">Rozložení obrazovky</td><td><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 14-10-10.png" data-attachment="true"></td><td><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 14-11-58.png" data-attachment="true"></td></tr><tr><td colspan="1">Hlavička</td><td colspan="1"><p>Dostupná jsou následující tlačítka pro nastavení rozložení:</p><ul><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 14-27-35.png" data-attachment="true"> Zrušení režimu samostatného zobrazení mapy.</li></ul><p>Poznámka: Při spuštěném režimu není možné dále skrývat jednotlivé panely a měnit jejich pořadí.</p></td><td colspan="1"><p>Dostupná jsou následující tlačítka pro nastavení rozložení:</p><ul><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 14-27-35.png" data-attachment="true"> Zrušení režimu samostatného zobrazení mapy.</li></ul></td></tr><tr><td rowspan="2">Varianta 2 (v novém okně je zobrazena pouze mapa)</td><td colspan="1">Rozložení obrazovky</td><td colspan="1"><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 14-10-55.png" data-attachment="true"></td><td colspan="1"><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 14-12-38.png" data-attachment="true"></td></tr><tr><td colspan="1">Hlavička</td><td colspan="1"><p>Dostupná jsou následující tlačítka pro nastavení rozložení:</p><ul><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 14-29-0.png" data-attachment="true"> Změna pořadí jednotlivých panelů (Tabulka denního výkonu, Panel s detailními informacemi).</li><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 14-28-50.png" data-attachment="true"> Skrytí/zobrazení panelu s detailním informacemi.</li><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 14-27-35.png" data-attachment="true"> Zrušení režimu samostatného zobrazení mapy.</li></ul></td><td colspan="1"><p>Dostupná jsou následující tlačítka pro nastavení rozložení:</p><ul><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 14-27-35.png" data-attachment="true"> Zrušení režimu samostatného zobrazení mapy.</li></ul><p>Poznámka: Při spuštěném režimu je možné skrývat jednotlivé panely a měnit jejich pořadí pouze v rámci primární části obrazovky.</p></td></tr></tbody></table><h2>Přiřazení vozidla k dennímu výkonu</h2><p> Implementováno.</p><p>V rámci obrazovky pro editaci denního výkonu (M5) bude možné nastavit požadované vozidlo. Bude možné provést následující akce:</p><ul><li>přiřadit vozidlo k dennímu výkonu,</li><li>změnit přiřazené vozidlo u denního výkonu,</li><li>zrušit přiřazení vozidla k dennímu výkonu.</li></ul><p>Poznámka: Akce jsou dostupné pouze pro denní výkony vytvořené přímo uživatelem.</p><p>Tlačítka, která umožní spuštění uvedených akcí, jsou pak dostupná v hlavičce formuláře:</p><ul><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-23 9-13-13.png" data-attachment="true"> Přiřadit nebo změnit vozidlo.</li><li><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-23 9-13-29.png" data-attachment="true"> Zrušit přiřazení vozidla.</li></ul><p><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-23 11-21-27.png" data-attachment="true"></p><p>Obecný popis je pak uveden samostatně, viz <a href="navrhy-88015546.html">Přiřazení vozidla k dennímu výkonu</a>.</p><h2>Změna doby manipulace</h2><p> Implementováno.</p><p>V rámci obrazovky pro editaci denního výkonu (M5) bude možné nastavit dobu manipulace v rámci jednotlivých lokací objednané služby. Dále jsou tedy uvedeny 2 varianty řešení, viz tabulka.</p><p>Nově tedy bude možné nastavit dobu manipulace i pro takové lokace objednané služby, u kterých to dříve nebylo možné (např. bod průjezdu). Nastavení doby manipulace bude umožněno pouze pro takové lokace objednané služby, u kterých probíhá manipulace s kontejnerem.</p><p><strong>Zvolena varianta 2.</strong></p><table><tbody><tr><th>Varianta</th><th>Náhled</th><th>Popis</th></tr><tr><td>1</td><td><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-8-28 15-8-10.png" data-attachment="true"></td><td><p>Je přidán sloupec s informací o délce doby manipulace (viz 1). V rámci sloupce je pak k dispozici tlačítko pro změnu právě nastavené hodnoty. Po jeho stisknutí dojde k zobrazení formuláře pro nastavení délky trvání. Doba trávní je zadávána ve formátu Čas (např. 0:30).</p></td></tr><tr><td>2</td><td><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-12 13-15-37.png" data-attachment="true"></td><td><p>Do sloupce Lokace je doplněna indikace doby manipulace (viz 3). Ta je uvedena pouze v případě, kdy se liší od výchozí hodnoty doby manipulace (nyní 15 min). Po najetí myši na ikonu je zobrazena bublinková nápověda s právě nastavenou dobou manipulace.</p><p>Změna doby manipulace je pak umožněna pomocí tlačítka v nástrojové liště (viz 1). Uživatel vybere požadovanou lokaci objednané služby a stiskne tlačítko. Následně dojde k zobrazení formuláře pro nastavení délky trvání. Doba trávní je zadávána ve formátu Čas (např. 0:30).</p><p>Dále je možné změnit dobu manipulace pomocí tlačítka rychlého přičtení – po jeho stisknutí je k době manipulace u vybrané lokace přičteno 5 minut (viz 2).</p></td></tr></tbody></table><h2>Zobrazení poznámky k lokaci</h2><p> Implementováno.</p><p>Je požadována změna formy zobrazení poznámek u jednotlivých lokací. Dále jsou pak uvedeny jednotlivé návrhy řešení.</p><p><strong>Zvolena varianta 1.</strong></p><table><tbody><tr><th>Varianta</th><th>Náhled</th><th>Popis</th></tr><tr><td colspan="1">1</td><td colspan="1">–</td><td colspan="1"><p>Zůstane zachováno stávající rozložení, poznámka bude zobrazena stejně jako nyní.</p><p>Z toho důvodu, že zatím není uvedená informace potřeba, nebude sloupec dostupný pro uživatele. Následně může být kdykoliv vrácen, například ve chvíli, kdy bude trasa nahrávána do tabletu a bude možné tyto informace zobrazit přímo řidiči.</p><p>Sloupec bude pouze skryt a bude možné jej případně vrátit. Sloupec pak nesmí být dostupný ani pro případné nastavení viditelnosti sloupců a podobně.</p></td></tr><tr><td colspan="1">2</td><td colspan="1"><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-15 19-11-18.png" data-attachment="true"></td><td colspan="1">Sloupec s poznámkou je omezen tak, že jsou zobrazeny pouze ikony. Ty se liší dle toho, zda je poznámka obsažena nebo ne. Editace je pak spuštěna pomocí tlačítka v rámci buňky.</td></tr><tr><td colspan="1">3</td><td colspan="1"><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-15 19-11-57.png" data-attachment="true"></td><td colspan="1"><p>Indikace vyplnění poznámky je uvedena v rámci sloupce Lokace. Indikace je pak zobrazena pouze v případě, kdy je poznámka nastavena. Editace je pak spuštěna z nástrojové lišty:</p><ol><li>Je použito tlačítko pro nastavení doby manipulace, které je tedy zobecněno. Po jeho stisknutí se zobrazí formulář, ve kterém je možné nastavit jak poznámku, tak délku doby manipulace.</li><li>Je přidáno tlačítko pro nastavení poznámky k lokaci. Po jeho stisknutí dojde k zobrazení formuláře pro nastavení poznámky.</li></ol></td></tr></tbody></table><h2>Možnost změny právě editovaného denního výkonu</h2><p> Rozhodnutí bude získáno dodatečně.</p><p>Aktuální návrh řešení je uveden v rámci <a href="navrhy-88019093.html">Změna právě editovaného denního výkonu ve formuláři editace</a>.</p><p>Poznámka: Nad rámec M10.</p><p>V rámci obrazovky pro editaci denního výkonu (M5) bude možné změnit právě editovaný denní výkon. V rámci tabulky jsou pak uvedeny 2 základní varianty:</p><ul><li>Varianta 1 představuje obsáhlejší změnu. Možnost implementace v rámci M10 však bude nutné prověřit.</li><li>Varianta 2 představuje změnu s nižší pracností. Možnost implementace v rámci M10 však bude potřeba i přesto prověřit.<ul><li>Pokud se uživatel rozhodne změnit denní výkon a zároveň jsou v rámci formuláře provedeny neuložené změny, systém se uživatele zeptá, zda si opravdu přeje změnit právě zobrazený denní výkon a přijít tak o provedené změny.</li><li>Kromě dále uvedeného ovládacího prvku musí být dále přidáno tlačítko pro uložení, které nezpůsobí uzavření formuláře.<br></li><li>Případně je potřeba zvážit doplnění tlačítka ve smyslu Uložit, schválit a zůstat.</li></ul></li></ul><table><tbody><tr><th>Varianta</th><th>Popis</th><th>Náhled</th></tr><tr><td>1</td><td><p>Dojde k posunutí formuláře na úroveň plnohodnotného modulu, a to ve smyslu umožnění následujících akcí:</p><ul><li>Formulář bude možné spustit z hlavního menu, ne pouze v rámci dalšího UC.</li><li>V rámci formuláře bude umístěna nástrojová lišta pro nastavení data realizace a konkrétního vozidla.</li></ul><p>Hlavní výhodou pak je komplexnost řešení a více prostoru pro budoucí rozvoj.</p><p>Náhled je pak vzhledem k rozsáhlosti změny spíše ilustrativní.</p></td><td><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-12 15-19-17.png" data-attachment="true"></td></tr><tr><td>2.a</td><td><p>V rámci patičky formuláře je obsažena nabídka pro výběr denního výkonu. Denní výkon je identifikován pomocí informací o vozidle (jako v hlavičce formuláře). V případě, kdy není vozidlo k dennímu výkonu přiřazeno, je uveden zástupný text, např. Vozidlo 1.</p><p>K dispozici jsou pak takové denní výkony, které mají s právě zobrazeným společné následující údaje: datum realizace, provozovna, typ dopravy.</p></td><td><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-12 14-57-15.png" data-attachment="true"></td></tr><tr><td colspan="1">2.b</td><td colspan="1"><p>V rámci patičky formuláře je obsaženo tlačítko pro výběr denního výkonu. Po stisknutí je zobrazeno modální okno s přehledem denních výkonů.</p><p>K dispozici jsou pak všechny denní výkony. Ve výchozím stavu jsou však filtrovány denní výkony pro stejné datum realizace, stejnou provozovnu a stejný typ dopravy jako má právě zobrazený denní výkon.</p></td><td colspan="1"><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-12 14-56-20.png" data-attachment="true"></td></tr></tbody></table><p>Poznámka: Jedním z důvodů je i to, že uživatel nebude muset při každém zobrazení formuláře pro editaci denního výkonu znovu spouštět režim zobrazení mapy v samostatném okně. Jednoduše změní požadovaný denní výkon a rozložení obrazovky zůstane zachováno. Nyní je nutné pro tyto situace využít mezikroku a formulář pro editaci dalšího denního výkonu otevřít v rámci jiného UC, např. na obrazovce pro plánování denních výkonů (M4). Při zavření formuláře pro editaci denního výkonu (M5) však dojde k ukončení režimu zobrazení mapy v samostatném okně.</p><h1>Monitoring realizace denních výkonů</h1><h2>Pokročilá kontrola monitoringu realizace</h2><p> Implementováno.</p><p>Algoritmus vyhodnocování realizace obsluhy Lokací objednaných služeb bude rozšířen tak, aby bral v potaz naplánované pořadí jednotlivých Lokací, a jednotlivá aktivace vstupu vyvolala obsluhu maximálně jedné Lokace:</p><ul><li>Lokace, které se v Denním výkonu vyskytují opakovaně, budou vyhodnocovány postupně dle jejich pořadí v Denním výkonu.<br><ul><li>Do vyhodnocení bude zapracována logika hystereze - tj. dokud vozidlo neopustí oblast Lokace, nebude na základě další aktivace sledovaného vstupu daná Lokace znovu prohlášena za obslouženou.</li><li>Odpadne tak stávající omezení algoritmu, kdy jsou opakovaně se vyskytující Lokace prohlášeny za obsloužené současně.</li></ul></li><li>V případě, že aktivace sledovaného vstupu nastane v místě, které spadá do oblasti více Lokací současně, bude touto aktivací obsloužena první dosud neobsloužená Lokace v pořadí. K obsluze zbývajících Lokací je potřebný další výskyt aktivace sledovaného vstupu.</li></ul><p><img src="navrhy-realizace-pozadavku-pro-m10-88015546_images/image2019-9-9 5-16-4.png" data-attachment="true"></p>
</div>
</body>
</html>
