<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>Návrhy realizace požadavků pro M11</title>
</head>
<body>
<div class="wiki-content">
<p></p><p>V rámci dokumentu jsou uvedeny návrhy řešení implementace jednotlivých požadavků pro M11 – jedná se pouze o rámcový popis pro potřeby schválení a případného odhadu pracnosti.</p><p>Nadpisy jsou pro rychlejší orientaci barevně rozlišeny dle aktuálního stavu:</p><ul><li>implementováno,</li><li>v řešení,</li><li>zamítnuto.</li></ul><h1>Objednávky</h1><h2>Objednaný úkon Vývoz s výměnou</h2><p> Čeká na vyhodnocení pracnosti.</p><p>V rámci formuláře pro přidání objednané nádoby bude k dispozici nový typ úkonu: <strong>Vývoz s výměnou</strong>.</p><p>Uvedený typ úkonu pak bude dostupný pro následující typy dopravy:</p><ul><li>Hákový nakladač,</li><li>Ramenový nakladač.</li></ul><p>Objednaná služba vygenerovaná pro nový typ úkonu pak obsahuje následující lokace objednané služby, a to v daném pořadí:</p><ol><li>Vyzvednout prázdnou nádobu na provozovně.</li><li>Umístit prázdnou nádobu v místě realizace (musí být provedeno).</li><li>Vyzvednout plnou nádobu v místě realizace (musí být provedeno).</li><li>Vyprázdnit plnou nádobu na zvolených likvidačních místech.</li><li>Umístit prázdnou nádobu na provozovně.</li></ol><p><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-15 13-12-24.png" data-attachment="true"></p><p>Možná omezení: V rámci jedné objednané služby je použita více než jedna konkrétní objednaná nádoba (viz atribut Konkrétní objednaná nádoba):</p><ul><li>Nyní nepočítáme s použitím více nádob v rámci jedné objednané služby.</li><li>Konkrétní nádoba je na druhou stranu reprezentována pouze pořadovým číslem.</li><li>Do budoucna může být komplikací, a to ve chvíli, kdy bude atribut Konkrétní objednaná nádoba představovat referenci na skutečnou nádobu ze skutečného světa.</li></ul><h2>Dodatečné vytvoření objednávky</h2><p> Čeká na vyhodnocení pracnosti.</p><p>V rámci přehledu objednávek bude nově k dispozici možnost dodatečně vytvořit objednávku. Může totiž nastat situace, kdy je dispečer mimo kancelář, přičemž dodá řidiči informace o nádobě u zákazníka, ale nestihne zanést odpovídající objednávku do systému. Nyní ale není možné zadat objednávku, která obsahuje datum v minulosti.</p><p>V nástrojové liště přehledu objednávek tedy bude přidáno tlačítko pro dodatečné vytvoření objednávky – po jeho stisknutí se zobrazí formulář pro založení nové objednávky tak, jak ho známe. Potlačena jsou pak pouze některá validační kritéria při vkládání objednaných úkonů ve formuláři pro přidání objednané nádoby:</p><ul><li>Nastavení časového okna pro objednaný úkon s podmínkou vykonání typu Termín (jedná se formulář pro nastavení časového okna) – uživatelem nastavené datum může být v minulosti. Ostatní validační kritéria jsou však zachována.</li><li>Nastavení pravidla opakování pro objednaný úkon s podmínkou vykonání typu Pravidlo opakování (jedná se formulář pro nastavení pravidla opakování) – uživatelem nastavené datum může být v minulosti. Ostatní validační kritéria jsou však zachována.</li></ul><p>Po uložení objednávky k realizaci jsou vygenerovány odpovídající objednané služby, které se mohou lišit dle data jejich realizace:</p><ul><li>Datum realizace v minulosti – objednané služby jsou doplněny o příznak, že byly vytvořeny zpětně. Takové objednané služby není možné naplánovat na denní výkony. Je možné je přiřadit pouze k realizaci denního výkonu.</li><li>Ostatní – běžné objednané služby tak, jak je známe.</li></ul><p>Vytvořenou objednávku lze pak použít jako vstupní hodnotu pro další akce:</p><ul><li>vytvoření kopie objednávky,</li><li>vytvoření šablony objednávky.</li></ul><p>V těchto případech pak nejsou předávány informace pro Termín a Pravidlo opakování. Změna validačních při dodatečném vytváření objednávky tedy nemá vliv na na provedení uvedených akcí.</p><p>Možná rozšíření:</p><ul><li>Možnost vytvořit objednanou službu na výzvu pro existující objednávku s datem realizace v minulosti.</li><li>Možnost přiřadit objednané služby vytvořené zpětně přímo na realizace denních výkonů už v rámci formuláře pro dodatečné vytvoření objednávky.</li></ul><p>Možná omezení:</p><ul><li>Mohlo dojít k vypršení platnosti některých dat (rámcové smlouvy…). Dostupná jsou pak pouze data platné k dnešnímu dni. Pokud tedy zpětně vytváříme objednávky, nemusí být k dispozici všechna data.</li><li>Mohlo dojít ke změně na úrovní dostupných dat (místa realizace, likvidační místa, zákazníci…). Pokud tedy zpětně vytvářím objednávky, nemusí být k dispozici všechna data.</li></ul><p>Poznámka: Změna chování vyžaduje provedení změn ve značné části systému.</p><h1>Objednané služby</h1><h2>Informace o datu vytvoření objednané služby</h2><p> Implementováno.</p><p>V rámci přehledu objednaných služeb bude doplněn sloupec s informací, kdy byla vytvořena odpovídající objednaná služba. Objednaná služba pak vzniká v těchto případech:</p><ul><li>Vygenerování objednané služby při uložení objednávky do stavu K realizaci.</li><li>Vygenerování objednané služby dle pravidla opakování s neomezenou dobou trvání.</li><li>Vytvoření objednané služby na výzvu.</li><li>Vytvoření navazující objednané služby při jejím rozdělení nebo vytvoření místa dočasného uložení.</li><li>Vytvoření objednané služby v rámci potvrzení realizace denního výkonu (opakované naplánování).</li></ul><p>Hodnota bude zobrazena ve formátu <strong>d. M. yyyy, H:mm</strong> (např. 15. 11. 2018, 9:30).</p><p>Zároveň dojde k doplnění sloupce s informací, kdo objednanou službu vytvořil (konkrétní zaměstnanec, formát: <strong>Jméno Příjmení</strong>).</p><p>Některé objednané služby pak nejsou vytvořeny přímo na pokyn uživatele, ale dle pravidla opakování s neomezenou délkou trvání. Zde navrhujeme přidání příznaku Vytvořeno uživatelem. Pokud je pak objednaná služba vytvořena systémem, zobrazuje se na UI místo konkrétního zaměstnance zástupný text „Vytvořeno systémem“.</p><p>Nově přidané informace pak budou zobrazeny pouze v přehledu objednaných služeb.</p><p>Vzhledem k tomu, že některé z přidaných atributů jsou povinné, bude nutné doplnit hodnoty i zpětně – pro již existující objednané služby.</p><ul><li>Vzhledem k tomu, že je RP nasazen pouze v pilotním provozu, navrhujeme doplnění údajů z odpovídající objednávky.</li><li>Pro všechny existující objednané služby by tedy byly nastaveny hodnoty nových atributů následovně:<ul><li>Datum a čas vytvoření – odpovídá datu vytvoření odpovídající objednávky, pro kterou byla objednaná služba založena.</li><li>Zaměstnanec, který vytvořil objednanou službu – odpovídá zaměstnanci, který vytvořil odpovídající objednávku, pro kterou byla objednaná služba založena.</li><li>Informace, zda byla objednaná služba vytvořena uživatelem – ano.</li></ul></li></ul><h1>Denní výkony</h1><h2>Automatické nastavení data realizace v nástrojové liště obrazovky pro plánování denních výkonů</h2><p> Čeká na vyhodnocení pracnosti.</p><p>V rámci obrazovky pro plánování denních výkonů (M4) bude aktualizováno chování pro práci s persistentním nastavením obrazovky. Konkrétně bude zasaženo datum realizace, které je možné nastavit v hlavní nástrojové liště obrazovky.</p><p>Stávající chování:</p><ul><li>Jakmile uživatel úplně poprvé otevře obrazovku pro plánování denních výkonů, automaticky je nastaveno výchozí datum realizace – dnešní den.</li><li>Dále si systém pamatuje naposledy vybrané datum realizace. Při dalším zobrazení obrazovky je pak přednastaveno naposledy nastavené datum realizace.</li></ul><p>Nové chování:</p><ul><li>Jakmile uživatel úplně poprvé otevře obrazovku pro plánování denních výkonů, automaticky je nastaveno výchozí datum realizace – zítřejší den (cílem je plánovat s předstihem).</li><li>Dále si systém pamatuje naposledy vybrané datum realizace. Při dalším zobrazení obrazovky ve stejný den je pak přednastaveno naposledy nastavené datum realizace.</li><li>Pokud uživatel otevře obrazovku pro plánování denních výkonů poprvé v další den, automaticky je nastaveno výchozí datum realizace – zítřejší den (cílem je plánovat s předstihem).<br></li><li>Dále si systém pamatuje naposledy vybrané datum realizace. Při dalším zobrazení obrazovky ve stejný den je pak přednastaveno naposledy nastavené datum realizace.</li></ul><p>Možná omezení: Uživatelé mohou plánovat s větším předstihem. Automatické nastavení data realizace na zítřek jim tedy nemusí vyhovovat.</p><h2>Zobrazení detailních informací o lokaci objednané služby v rámci shluku</h2><p> Čeká na vyhodnocení pracnosti.</p><p>V rámci obrazovky pro plánování denních výkonů (M4) se v mapě s objednanými službami vyskytují shluky jednotlivých lokací objednané služby.</p><p>Stávající chování: Po kliknutí na shluk je pak zobrazen přehled těchto lokací objednané služby, viz obrázek.</p><p><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-15 14-29-16.png" data-attachment="true"></p><p>Nové chování:</p><ul><li>Je požadováno rozšířit uvedené zobrazení o doplňující informace k jednotlivým lokacím objednané služby.</li><li>Požadované informace budou zobrazeny formou bublinkové nápovědy po najetí myší na konkrétní lokaci objednané služby (poznámka: vzhledem k tomu, že nabídka pro sluk lokací objednané služby není zobrazena po najetí myší, ale až po kliknutí, je možné pro jednotlivé lokace použít bublinkovou nápovědu).</li><li>Obsah bublinkové nápovědy se pak liší dle typu konkrétní lokace objednané služby, viz tabulka.</li><li>Poznámka: Vyžaduje zobrazení detailních informací i pro lokace objednané služby, které nejsou v rámci shluku.</li></ul><table><tbody><tr><th>Typ lokace</th><th>Náhled</th></tr><tr><td>Místo realizace</td><td><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-15 14-37-2.png" data-attachment="true"></td></tr><tr><td>Likvidační místo</td><td><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-15 14-37-15.png" data-attachment="true"></td></tr><tr><td>Provozovna</td><td><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-15 14-37-27.png" data-attachment="true"></td></tr><tr><td>Místo dočasného uložení</td><td><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-15 14-37-39.png" data-attachment="true"></td></tr></tbody></table><h2>Naplánování objednané služby ve formuláři pro editaci denního výkonu</h2><p> Čeká na vyhodnocení pracnosti.</p><p>V rámci formuláře pro editaci denního výkonu (M5) bude přidána možnost jednoduchého plánování objednaných služeb – je možné zvolit z dále uvedených funkcí.</p><p>Poznámka: Funkce jsou dostupné v případě, že má uživatel dostatečná oprávnění a odpovídající denní výkony jsou stále ve stavu, kdy je možné je editovat.</p><p>Společný náhled pak naznačuje umístění tlačítek, která slouží ke spuštění uvedených akcí. Popis jednotlivých akcí je uveden samostatně:</p><ol><li><a href="navrhy-88019093.html">Vložení nenaplánované objednané služby</a>,</li><li><a href="navrhy-88019093.html">Vložení objednané služby na jiný denní výkon</a>.</li></ol><p>Poznámka: Provedené změny se projeví až po uložení denního výkonu.</p><p><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-16 12-56-26.png" data-attachment="true"></p><h3>Vložení nenaplánované objednané služby</h3><p>Stávající chování:</p><ul><li>Uživatel vkládá objednané služby na denní výkon na obrazovce pro plánování denních výkonů (M4). Následně přistoupí k podrobné editaci v rámci samostatného formuláře.</li><li>Pokud chce uživatel na denní vložit další objednanou službu, musí se vrátit z formuláře editace zpět na obrazovku plánování.</li></ul><p>Nové chování:</p><ul><li>Uživatel vkládá objednané služby na denní výkon na obrazovce pro plánování denních výkonů (M4). Následně přistoupí k podrobné editaci v rámci samostatného formuláře.</li><li>Pokud chce uživatel na denní vložit další objednanou službu, může tak učinit přímo z formuláře editace.<br><ol><li><p>Uživatel stiskne tlačítko pro přidání objednané služby na denní výkon.</p></li><li><p>Systém zobrazí modální okno se všemi objednanými službami, které odpovídají editovanému denního výkonu (dle parametrů provozovna, datum realizace a typ dopravy).</p></li><li><p>Uživatel vybere požadovanou objednanou službu a potvrdí ji.</p></li><li><p>Systém vloží objednanou službu na denní výkon, a to jako v pořadí poslední položku denního výkonu.</p></li></ol></li></ul><h3>Vložení objednané služby na jiný denní výkon</h3><p>Stávající chování:</p><ul><li>Uživatel vkládá objednané služby na denní výkon na obrazovce pro plánování denních výkonů (M4). Následně přistoupí k podrobné editaci v rámci samostatného formuláře.</li><li>Pokud chce uživatel vložit některou z obsažených objednaných služeb na jiný denní výkon, musí ji nejdříve odebrat z tohoto denního výkonu. Následně přejde na obrazovku plánování, kde objednanou službu přiřadí na jiný denní výkon.</li></ul><p>Nové chování:</p><ul><li>Uživatel vkládá objednané služby na denní výkon na obrazovce pro plánování denních výkonů (M4). Následně přistoupí k podrobné editaci v rámci samostatného formuláře.</li><li>Pokud chce uživatel vložit některou z obsažených objednaných služeb na jiný denní výkon, může tak učinit přímo z formuláře editace.<br><ol><li>Uživatel vybere požadovanou objednanou službu v tabulce.</li><li>Systém zpřístupní tlačítko pro přeplánování objednané služby na jiný denní výkon.</li><li>Uživatel stiskne tlačítko pro přeplánování objednané služby na jiný denní výkon.</li><li>Systém zobrazí modální okno se všemi denními výkony, které odpovídají editovanému dennímu výkonu (dle parametrů provozovna, datum realizace a typ dopravy).</li><li>Uživatel vybere požadovaný denní výkon a potvrdí ho.</li><li><p>Systém přesune objednanou službu z editovaného denního výkonu na ten, který uživatel zvolil, a to jako v pořadí poslední položku denního výkonu.</p></li></ol></li></ul><h2>Změna právě editovaného denního výkonu ve formuláři editace</h2><p> Čeká na vyhodnocení pracnosti.</p><p>V rámci formuláře pro editaci denního výkonu (M5) je možné změnit právě editovaný denní výkon. Uvedeny jsou pak jednotlivé varianty, kdy je potřeba vybrat právě jednu z nich.</p><p>Poznámka: Jednotlivé varianty jsou vzhledem k rozsahu změny popsány spíše obecně. Popis zvolené varianty bude následně upřesněn. Uvedené náhledy jsou spíše ilustrativní a slouží především jako podklad k diskuzi.</p><table><tbody><tr><th>Varianta</th><th colspan="1">Náhled</th><th>Popis</th><th>Poznámka</th></tr><tr><td>1</td><td colspan="1"><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-21 12-0-13.png" data-attachment="true"></td><td><p>Formulář pro editaci denního výkonu bude posunut na úroveň plnohodnotného modulu. To se odrazí především v těchto ohledech:</p><ul><li>Editace denního výkonu bude dostupná přímo z hlavního menu. Nebude nutné provádět mezikrok přes jinou obrazovku.</li><li>Zvolení požadovaného denního výkonu bude umožněno pomocí nástrojové lišty, obdobně jako v rámci jiných obrazovek.</li></ul><p>Jedná se pak o obsáhlejší změnu, její výhodou je ale komplexnost řešení a více prostoru pro budoucí rozvoj.</p></td><td><p>V rámci náhledu jsou pak označeny změny oproti stávajícímu řešení:</p><ol><li>Nadpis obrazovky obsahuje název modulu. Již tedy nejsou obsaženy žádné informace o právě editovaném denním výkonu.</li><li>Je doplněna nástrojová lišta, která umožňuje provést různá nastavení:<br><ul><li>Nastavení požadovaného data realizace – výběr vyvolá načtení odpovídajícího denního výkonu.</li><li>Nastavení požadovaného vozidla – výběr vyvolá načtení odpovídajícího denního výkonu.</li><li>Nastavení použití přívěsu – umožní nastavit, zda bude v rámci denního výkonu použit přívěs.</li><li>Zobrazení přívěsů – zobrazuje identifikaci přívěsů, které jsou právě přiřazeny k dennímu výkonu.</li></ul></li><li>Je doplněno tlačítko, které umožňuje návrat zpět na obrazovku, z které byla spuštěna editace denního výkonu. Tlačítko je dostupné pouze v případě, kdy byla editace spuštěna v rámci jiného modulu (přehled denních výkonů, obrazovka pro plánování denních výkonů…), ne tedy přímo z hlavního menu.</li><li>Detail denního výkonu byl doplněn o identifikaci vozidla. Na stejném místě je možní přiřadit, změnit či odebrat vozidlo právě editovaného denního výkonu.</li></ol><p>Pokud má dojít k načtení požadovaného denního výkonu a zároveň byly provedeny změny v tom právě editovaném, je uživatel dotázán, zda si opravdu přeje „zahodit“ provedené změny.</p></td></tr><tr><td>2a</td><td colspan="1"><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-16 15-3-49.png" data-attachment="true"></td><td><p>V rámci patičky formuláře bude k dispozici nabídka pro výběr požadovaného denního výkonu. Denní výkony jsou pak identifikovány pomocí SPZ odpovídajícího vozidla, pokud je k dispozici.</p><p>K dispozici jsou pak takové denní výkony, které odpovídají tomu právě zobrazenému, a to dle provozovny, data realizace a typu dopravy.</p></td><td rowspan="2">Bude potřeba promyslet způsob ukládání denního výkonu – nyní je po uložení formulář editace zavřen. To však po provedení změny nebude žádoucí. Musí přitom být zachována ergonomie používání formuláře.</td></tr><tr><td>2.b</td><td colspan="1"><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-16 15-9-3.png" data-attachment="true"></td><td><p>V rámci patičky formuláře bude k dispozici tlačítko pro výběr požadovaného denního výkonu. Po jeho stisknutí je zobrazeno modální okno s přehledem denních výkonů.</p><p>K dispozici jsou pak všechny denní výkony. V rámci přehledu je pak možné vyhledávat a filtrovat.</p></td></tr></tbody></table><p> </p><h2>Násobné rozdělení objednané služby</h2><p> Čeká na vyhodnocení pracnosti.</p><p>Nově je umožněno opakovaně dělit objednanou službu, případně vytvořit místo dočasného uložení (obě akce jsou dále označovány společně, a to pomocí pojmu rozdělení).</p><p>Stávající chování: Každá služba může být rozdělena právě jednou. Pokud tedy rozdělím objednanou službu, nemůžu její části dále dělit.</p><p>Nové chování: Rozdělena může být každá objednaná služba obsahující alespoň 2 platné lokace objednané služby jednoho z uvedených typů: Provozovna, Likvidační místo, Místo realizace a Místo dočasného uložení.</p><p>Pokud pak uživatel zadá požadavek na sloučení objednané služby, jsou sloučeny všechny odpovídající objednané služby zároveň. Pokud je tedy objednaná služba rozdělena na tři části, po sloučení zůstane pouze jedna objednaná služba, ta původní.</p><p>Poznámka: Změna chování vyžaduje provedení změn ve značné části systému. Tyto změny pak nelze označit jako triviální.</p><h2>Změna souřadnic místa realizace v rámci obrazovky pro monitoring realizace denních výkonů</h2><p> Implementováno.</p><p>V rámci obrazovek pro monitoring a potvrzení realizace denního výkonu bude umožněno změnit souřadnice místa realizace tak, že dojde k zanesení změny přímo u místa realizace (tedy podobně jako tomu je ve správě systému).</p><p>Poznámka: Uživatel tedy bude (a musí) mít práva na provedení odpovídající změny i ve správě systému.</p><p>Editace pak bude umožněna pomocí formuláře místa realizace, viz obrázek. V rámci formuláře je pak možné změnit název a souřadnice místa realizace.</p><p><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-15 15-50-52.png" data-attachment="true"></p><p>Požadavek na změnu adresy místa realizace bude možné provést na několika místech, viz tabulka. Z uvedených variant je možné libovolně vybírat. Celková pracnost se pak odvíjí i od jejich počtu.</p><table><tbody><tr><th>Varianta</th><th colspan="1">Náhled</th><th>Popis</th></tr><tr><td>1</td><td colspan="1"><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-15 16-11-40.png" data-attachment="true"></td><td>Formulář pro potvrzení realizace denních výkonů (M8), tabulka: Po kliknutí na tlačítko u odpovídajícího místa realizace je spuštěna editace souřadnic místa realizace.</td></tr><tr><td>2</td><td colspan="1"><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-15 16-14-43.png" data-attachment="true"></td><td><p>Obrazovka pro monitoring realizace denních výkonů (M7), mapa: Po kliknutím na lokaci představující místo realizace pravým tlačítkem myši dojde k zobrazení kontextové nabídky, která obsahuje tlačítko pro spuštění změny souřadnic odpovídajícího místa realizace.</p><p>Formulář pro potvrzení realizace denních výkonů (M8), mapa: Po kliknutím na lokaci představující místo realizace pravým tlačítkem myši dojde k zobrazení kontextové nabídky, která obsahuje tlačítko pro spuštění změny souřadnic odpovídajícího místa realizace. Pokud je konkrétní lokace v rámci shluku, je nutné nejprve zobrazit nabídku ve shluku obsažených objednaných služeb. Až v této nabídce může být spuštěna editace souřadnic MR.</p><p>Poznámka: <strong>Zahrnuje zanesení aparátu pro práci se shluky.</strong></p></td></tr></tbody></table><p>Postup změny souřadnic místa realizace je pak následující:</p><ol><li>Uživatel zadá požadavek na změnu souřadnic požadovaného místa realizace.</li><li>Systém zobrazí formulář editace místa realizace.</li><li>Uživatel změní souřadnice místa realizace a uloží provedené změny.</li><li>Systém provede validaci formuláře a uloží provedené změny.</li><li>Systém aktualizuje příznak o stavu geokódování místa realizace na hodnotu Manuálně.</li><li>Systém aktualizuje trasy denních výkonů a objednaných služeb, ve kterých se místo realizace vyskytuje – pokud jsou u nich splněny uvedené podmínky:<br><ol><li>Denní výkon je v jednom z uvedených stavů: Plánovaný, Schválený, Plněný (odebráno z důvodu, že denní výkony v tomto stavu jsou již schválené, není tedy žádoucí měnit souřadnice odpovídajících lokací).</li><li>Objednaná služba je v jednom z uvedených stavů: K naplánování, Naplánovaná.</li></ol></li><li>Systém zavře formulář pro editaci místa realizace.</li></ol><p>Změna souřadnic pak bude dostupná i pro likvidační místa. Chování pak koresponduje s tím pro místa realizace.</p><p>Možná rozšíření: Možnost změny souřadnic i pro provozovny. Chování by pak korespondovalo s tím pro místa realizace.</p><h2>Souhrnné informace v rámci obrazovek pro časové využití denních výkonů</h2><p> Čeká na vyhodnocení pracnosti.</p><p>V rámci obrazovek časového využití denních výkonů bude doplněna informace pro právě zobrazené denní výkony.</p><p>Stávající chování: Jsou zobrazeny souhrnné informace pro všechny načtené denní výkony.</p><p>Nové chování: Jsou zobrazeny souhrnné informace jak pro všechny načtené denní výkony, tak pro ty právě zobrazené (po nastavení filtrů a podobně).</p><p>Změna chování se pak týká následujících obrazovek časového využití denních výkonů:</p><ul><li>Vozidlo za období,</li><li>Vozidla za den.</li></ul><p>Dále jsou uvedeny možné varianty, kdy je potřeba vybrat právě jednu z nich.</p><table><tbody><tr><th>Varianta</th><th>Náhled</th><th>Popis</th></tr><tr><td>1</td><td><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-15 16-36-11.png" data-attachment="true"></td><td>Skupina hodnot má vlastní nadpis. Hodnoty celkem jsou pak uvedeny v závorkách.</td></tr><tr><td>2</td><td><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-15 16-36-42.png" data-attachment="true"></td><td><p>Skupina hodnot má vlastní nadpis. Hodnoty jsou uvedeny společně s tím, že hodnoty pro právě zobrazená data jsou zvýrazněny tučně.</p><p>Po najetí myši na hodnotu je zobrazena bublinková nápověda s popisem.</p></td></tr><tr><td>3.a</td><td><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-15 16-35-56.png" data-attachment="true"></td><td rowspan="2"><p>Každá z požadovaných hodnot je uvedena se samostatným nadpisem.</p><p>Uvedené varianty se liší pouze pořadím jednotlivých položek.</p></td></tr><tr><td colspan="1">3.b</td><td colspan="1"><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-15 16-41-32.png" data-attachment="true"></td></tr></tbody></table><h2>Porovnání plánované a skutečné realizace denního výkonu</h2><p> Čeká na vyhodnocení pracnosti.</p><p>Report porovnávající plánovanou a skutečnou realizaci denního výkonu bude ve formě xlsx dokumentu (MS Excel).</p><p>Možná omezení: Dle množství dat předaných na vstupu reportu se odvíjí i doba, za kterou je report připraven.</p><h3>Nastavení vstupních dat</h3><p>Způsob, jakým budou nastavena vstupní data, předurčuje i možná místa, kde bude report spouštěn. Proto jsou nejprve uvedeny možnosti nastavení vstupních dat, viz tabulka. Je pak vhodné vybrat jednu z uvedených variant. Pokud bude požadována implementace obou variant, bude tomu odpovídat i výsledná pracnost.</p><table><tbody><tr><th>Varianta</th><th>Nastavení vstupních dat</th><th colspan="1">Poznámka</th></tr><tr><td>1</td><td><p>Výběr existujících denních výkonů (případně jejich realizací) přímo v odpovídajícím přehledu, uživatel označí požadované položky, pro které je následně report spuštěn.</p><p>Výhodou je snadnější zadávání vstupních dat.</p></td><td colspan="1">–</td></tr><tr><td>2</td><td><p>Nastavení vstupních parametrů pomocí formuláře, kde uživatel zadá potřebné informace ke spuštění reportu.</p><p>Výhodou je snadnější zadávání vstupních dat v případě, kde je potřeba údaje získat za určité období např. pro všechna vozidla provozovny.</p><p>Vstupní parametry jsou pak následující:</p><ul><li>Provozovna – uživatel může zvolit provozovnu, pro kterou chce report získat. Pole je zobrazeno pouze v případě, kdy má uživatel právo na více než jednu provozovnu.</li><li>Období – rozmezí dat realizace (od-do), pro která budou načteny denní výkony.</li><li>Typ dopravy – typ dopravy, pro který budou načteny denní výkony. Dostupné jsou následující možnosti:<br><ul><li>Vybrat vše,</li><li>Hákový nakladač,</li><li>Ramenový nakladač,</li><li>Lisovací vozidlo,</li><li>Valník.</li></ul></li></ul></td><td colspan="1">Obdoba reportů v rámci FLWW2.</td></tr></tbody></table><h3>Spuštění reportu</h3><p>Dle zvolené varianty nastavení vstupních dat se tedy liší i místa, kde a jakým způsobem bude report spouštěn.</p><h4>Výběr existujících denních výkonů</h4><p>Report bude možné spustit z následujících míst, kdy je potřeba zvolit požadované varianty:</p><ol><li>Obrazovka s přehledem denních výkonů (nástrojová lišta přehledu) – report spuštěn pro označené denní výkony.</li><li>Obrazovka pro plánování denních výkonů (M4, nástrojová lišta přehledu s denními výkony) – report spuštěn pro označené denní výkony.</li><li>Obrazovka pro editaci denního výkonu (M5, nástrojová lišta tabulky služeb a lokací) – report spuštěn pro právě editovaný denní výkon.</li><li>Obrazovka pro monitoring realizace denních výkonů (M7, nástrojová lišta přehledu s realizacemi denních výkonů) – report spuštěn pro označené denní výkony.</li><li>Obrazovka pro potvrzení realizace denních výkonů (M8, nástrojová lišta přehledu služeb) – report spuštěn pro právě potvrzovanou realizaci denního výkonu.</li><li>Obrazovka časového využití vozidla za období (M6, nástrojová lišta obrazovky) – report spuštěn pro označené denní výkony.</li><li>Obrazovka časového využití vozidel za den (M6, nástrojová lišta obrazovky) – report spuštěn pro označené denní výkony.<br></li></ol><p>Obecný postup pro nastavení vstupních dat je následující:</p><ol><li>Uživatel označí položky v přehledu.</li><li>Pokud budou splněny vstupní podmínky pro tisk reportu, systém zobrazí tlačítko pro spuštění reportu.</li><li>Uživatel stiskne tlačítko pro spuštění reportu.</li><li>Systém spustí generování reportu a zároveň zobrazí notifikaci s touto informací.</li><li>Systém ukončí generování reportu a zároveň zobrazí notifikaci s touto informací.</li><li>Uživatel vstoupí na obrazovku s vygenerovanými reporty.</li><li>Systém načte všechny reporty pro daného uživatele.</li><li>Uživatel vybere report a zadá požadavek na stažení vygenerovaného dokumentu.</li><li>Systém předá vytvořený soubor uživateli (systém začne stahovat vytvořený soubor).</li></ol><h4>Nastavení pomocí formuláře</h4><p>Report bude možné spustit z následujících míst, kdy je potřeba zvolit požadované varianty:</p><ol><li>Obrazovka s přehledem denních výkonů (nástrojová lišta přehledu).<br></li><li>Obrazovka pro plánování denních výkonů (M4, nástrojová lišta obrazovky).</li><li>Obrazovka pro monitoring realizace denních výkonů (M7, nástrojová lišta obrazovky).</li><li>Obrazovky časového využití (M6, nástrojová lišta obrazovky).</li><li>Obrazovky časového využití (M6, samostatná záložka v rámci menu) – návrh viz <a href="navrhy-88019093.html">Položka v rámci modulu časového využití</a>.</li><li>Obrazovka reportů (nová obrazovka) – návrh viz <a href="navrhy-88019093.html">Modul reportů</a>.</li></ol><p>Obecný postup pro nastavení vstupních dat je následující:</p><ol><li>Uživatel stiskne tlačítko pro spuštění reportu.</li><li>Systém zobrazí formulář pro nastavení vstupních parametrů.</li><li>Uživatel nastaví vstupní parametry a spustí report.</li><li>Systém spustí generování reportu a zároveň zobrazí notifikaci s touto informací.</li><li>Systém ukončí generování reportu a zároveň zobrazí notifikaci s touto informací.</li><li>Uživatel vstoupí na obrazovku s vygenerovanými reporty.</li><li>Systém načte všechny reporty pro daného uživatele.</li><li>Uživatel vybere report a zadá požadavek na stažení vygenerovaného dokumentu.</li><li>Systém předá vytvořený soubor uživateli (systém začne stahovat vytvořený soubor).</li></ol><h3>Zobrazení reportu</h3><p>Připravené reporty já dále potřeba stáhnout. Po spuštění jsou totiž předány do fronty, kde čekají na zpracování. Samotné zpracování pak může také zabrat určitý čas. Jsou tedy uvedeny dvě varianty, kdy je potřeba jednu z nich.</p><h4>Položka v rámci modulu časového využití</h4><p>Bude rozšířena existující položka hlavní menu, konkrétně se jedná o Časové využití denních výkonů. Dostupné pak mohou být až 2 záložky, kdy vybranému množství odpovídá i výsledná pracnost.</p><ul><li>Seznam dostupných reportů (volitelná):<br><ul><li>Obsahuje seznam reportů, které má uživatel k dispozici.</li><li>Umožňuje spuštění jednotlivých reportů.</li><li>Umožňuje řazení, filtrování a vyhledávání reportů.</li></ul></li><li>Seznam spuštěných reportů (nutná):<br><ul><li>Obsahuje seznam konkrétních instancí reportů pro nastavené vstupní parametry.</li><li>Zobrazuje stav instance reportu (Probíhá, Dokončeno, Chyba).</li><li>Umožňuje stažení jednotlivých instancí reportů.</li><li>Umožňuje řazení, filtrování a vyhledávání instancí reportů.</li></ul></li></ul><p><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-16 12-38-48.png" data-attachment="true"></p><p>Výhodou je přehlednost díky umístění spolu s dalším vyhodnocením denních výkonů, které je v rámci aplikace dostupné.</p><h4>Modul reportů</h4><p>Bude přidána nová položka hlavního menu, která obsahuje 2 záložky (viz obrázek).</p><ul><li>Seznam reportů:<br><ul><li>Obsahuje seznam reportů, které má uživatel k dispozici.</li><li>Umožňuje spuštění jednotlivých reportů.</li><li>Umožňuje řazení, filtrování a vyhledávání reportů.</li></ul></li><li>Výsledky reportů:<br><ul><li>Obsahuje seznam konkrétních instancí reportů pro nastavené vstupní parametry (pouze ty, které vygeneroval odpovídající uživatel).</li><li>Zobrazuje stav instance reportu (Probíhá, Dokončeno, Chyba).</li><li>Umožňuje stažení jednotlivých instancí reportů.</li><li>Umožňuje řazení, filtrování a vyhledávání instancí reportů.</li></ul></li></ul><p>Výhodou je snadná rozšiřitelnost i pro reporty, které se netýkají časového využití.</p><p><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-16 12-15-15.png" data-attachment="true"></p><h3>Struktura reportu</h3><p>Nakonec je uvedena struktura samotného reportu. Nejprve jsou uvedeny 2 základní varianty, následně pak možnost obecného rozšíření těchto variant.</p><table><tbody><tr><th>Varianta</th><th>Náhled</th><th>Popis</th></tr><tr><td>1</td><td><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-21 9-34-1.png" data-attachment="true"></td><td><p>Každé vozidlo je uvedeno na samostatném listu, kde jsou uvedeny všechny jeho denní výkony – je tedy generován právě jeden soubor. Denní výkony jsou pak řazeny dle data realizace.</p><p>Dokument obsahuje následující listy:</p><ul><li>Vstupní parametry – vstupní data, která uživatel zadal při spuštění reportu.</li><li>Vozidla – informace o denních výkonech pro konkrétní vozidlo. Počet karet se odvíjí od počtu vozidel na vstupu reportu.</li></ul></td></tr><tr><td>2</td><td><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-17 9-16-39.png" data-attachment="true"></td><td><p>Každý denní výkon má vlastní řádek tabulky. Všechny denní výkony jsou pak vloženy v rámci jednoho listu.</p><p>Dokument obsahuje následující listy:</p><ul><li>Vstupní parametry – vstupní data, která uživatel zadal při spuštění reportu.</li><li>Denní výkony – informace o denních výkonech získaných na vstupu reportu. Počet karet se odvíjí od požadavku zákazníka:<br><ol><li>jedna společná karta,</li><li>jedna karta pro každé vozidlo,</li><li>jedna karta pro každý den.</li></ol></li></ul></td></tr></tbody></table><p>Jak bylo zmíněno, uvedené varianty je možné dále rozšiřovat, v tabulce jsou uvedeny možné varianty.</p><table><tbody><tr><th>Varianta</th><th>Náhled</th><th>Popis</th></tr><tr><td colspan="1">1</td><td colspan="1"><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-17 9-26-14.png" data-attachment="true"></td><td colspan="1">Jsou obsaženy pouze informace o plánované a skutečné realizaci denního výkonu.</td></tr><tr><td colspan="1">2</td><td colspan="1"><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-17 9-27-15.png" data-attachment="true"></td><td colspan="1">Nad rámec 1. varianty je doplněn souhrn za celé vozidlo, kdy jsou uvedeny sumy či průměry odpovídajících hodnot, dle konkrétní hondoty.</td></tr><tr><td colspan="1">3</td><td colspan="1"><p><img src="navrhy-realizace-pozadavku-pro-m11-88019093_images/image2019-10-21 9-37-37.png" data-attachment="true"></p></td><td colspan="1"><p>Jsou obsaženy informace o plánované a skutečné realizaci denního výkonu doplněné o následující informace:</p><ul><li>Souhrn za celé období – použití sumy či průměru odpovídá povaze konkrétního sloupce.</li><li>Rozdílové sloupce – porovnávají plán a skutečnost.</li></ul></td></tr></tbody></table><p>Obsaženy jsou pak následující informace:</p><ul><li>Datum,</li><li>Zdroj (zdroj hodnoty, zda se jedná o naplánovanou, skutečnou či vypočítanou hodnotu),</li><li>Začátek realizace,</li><li>Konec realizace,</li><li>Doba realizace,</li><li>Časové využití [%],</li><li>Ujetá vzdálenost [km],</li><li>Ujetá vzdálenost s přívěsem [km],</li><li>Podíl km s přívěsem [%],</li><li>Počet objednaných služeb.</li></ul><p>Poznámka: Pro některé typy dopravy nemusí být dostupné všechny informace.</p><h1>Obecné</h1><h2>Pohyb v rámci tabulek pomocí klávesnice</h2><p> Implementováno.</p><p>V rámci tabulky bude umožněn pohyb pomocí klávesnice. Stisknutím klávesy dojde k aktualizaci právě vybraného řádku, sloupce či buňky, dle konkrétní tabulky. Změna výběru vyvolá stejné akce jako provedení výběru pomocí myši (např. označení položky v mapě, aktualizace dat v detailu…).</p><p>Dále jsou pak uvedeny běžně používané klávesy používané k tomuto účelu. Ty jsou rozděleny do skupin, kdy mohou být libovolně vybrány požadované skupiny kláves. Od vybraných skupin se odvíjí i celková pracnost.</p><table><tbody><tr><th>Skupina</th><th>Klávesy</th><th>Poznámka</th></tr><tr><td>1</td><td><ul><li>Šipka vlevo – výběr buňky vlevo od právě vybrané.</li><li>Šipka vpravo – výběr buňky vpravo od právě vybrané.</li><li>Šipka nahoru – výběr buňky nad právě vybranou.</li><li>Šipka dolu – výběr buňky pod právě vybranou.</li></ul></td><td><p>Pokud mám např. vybraný první řádek tabulky, šipka nahoru neprovede žádné další akce. Podobné platí i pro ostatní uvedené klávesy.</p></td></tr><tr><td>2</td><td><ul><li>PageUp – výběr buňky nad právě vybranou s použitím skoku.</li><li>PageDown – výběr buňky pod právě vybranou s použitím skoku.</li></ul></td><td><p>Chování jednotlivých kláves je následující:</p><ul><li>PageUp – stisknutím vybere buňku nad právě vybranou v určitém kroku (krok je dán aktuální výškou tabulky a výškou řádku, což urychlí průchod). Pokud narazí na první řádek, stisknutí klávesy neprovede žádné další akce.</li><li>PageDown – stisknutím vybere buňku nad právě vybranou v určitém kroku (krok je dán aktuální výškou tabulky a výškou řádku, což urychlí průchod). Pokud narazí na poslední řádek, stisknutí klávesy neprovede žádné další akce.</li></ul></td></tr><tr><td colspan="1">3</td><td colspan="1"><ul><li>Home – výběr prvního buňky označeného řádku.</li><li>End – výběr posledního buňky označeného řádku.</li></ul></td><td colspan="1"><p>Chování jednotlivých kláves je následující:</p><ul><li>Home – stisknutím vybere první buňku označeného řádku. Pokud narazí na první sloupec, stisknutí klávesy neprovede žádné další akce.</li><li>End – stisknutím vybere poslední buňku označeného řádku. Pokud narazí na poslední sloupec, stisknutí klávesy neprovede žádné další akce.</li></ul></td></tr><tr><td>4</td><td><ul><li>Enter – výběr buňky pod právě vybranou.</li></ul></td><td><p>Pokud mám vybraný poslední řádek tabulky, stisknutí klávesy neprovede žádné další akce.</p></td></tr></tbody></table>
</div>
</body>
</html>
