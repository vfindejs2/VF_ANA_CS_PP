<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>Uživatelská oprávnění a role</title>
</head>
<body>
<div class="wiki-content">
<p>Při revizi oprávnění je vhodné aktualizovat také dokument s úplným přehledem oprávnění (viz <a href="#" data-page-title="Seznam práv">Seznam práv</a>).</p><p></p><h1>Uživatelská oprávnění</h1><p>Systém RoadPlan vyhodnocuje níže uvedená uživatelská oprávnění. Systém oprávnění vychází z FLWW2 a proto respektuje jeho filosofii a omezení. Práva jsou nastavována ve FLWW2.</p><p>Poznámka: Jako vhodné se jeví rozšíření struktury oprávnění ve FLWW2. Aktuálně jsou všechna oprávnění umístěna ve složce RoadPlan, rozumnější je pak jejich členění do dílčích skupiny (Moduly, Entity, Případy užití). </p><h2>Oprávnění na aplikace</h2><p>Jedná se o oprávnění ke spuštění aplikace Fleetware RoadPlan. Oprávnění pak mohou nabývat následujících stavů:</p><ul><li>Nepřiděleno,</li><li>Přiděleno.</li></ul><p>Pro jednotlivé uživatele je pak možné získat kolekci přidělených oprávnění (jejich kódů), slouží k tomu endpoint <strong>/users/{userId}/userRights</strong>.</p><table><tbody><tr><th>Název oprávnění</div></th><th>Popis</div></th><th>Zařazení v rámci FLWW2</div></th><th>FleetwareWebAPI kód</div></th><th colspan="1">Možné stavy</div></th><th colspan="1">Poznámka</div></th></tr><tr><td colspan="1">RoadPlan</td><td colspan="1">Povoluje spuštění aplikace Fleetware RoadPlan</td><td colspan="1">Moduly</td><td colspan="1">MODULE_ROADPLAN</td><td colspan="1"><ul><li>Nepřiděleno právo</li><li>Přiděleno plné právo</li></ul></td><td colspan="1">–</td></tr></tbody></table><h2>Oprávnění na moduly</h2><p>Jedná se o oprávnění ke spuštění jednotlivých modulů aplikace Fleetware RoadPlan.</p><table><tbody><tr><th>Název oprávnění</div></th><th>Popis</div></th><th>Zařazení v rámci FLWW2</div></th><th>FleetwareWebAPI kód</div></th></tr><tr><td colspan="1">Dispečerská plachta</td><td colspan="1">Povoluje modul Dispečerská plachta.</td><td colspan="1">RoadPlan/Moduly</td><td colspan="1">MODULE_RP_DISPATCHER_BOARD</td></tr></tbody></table><p>Poznámka: Moduly, které nejsou zmíněny, jsou zpřístupňovány dle oprávnění na entity (vychází ze stávajícího chování, viz tabulka).</p><table><tbody><tr><th>Modul</th><th>Potřebné oprávnění*</th></tr><tr><td><p>Objednávky</p></td><td><p>VIEW_RP_ORDERS, EDIT_RP_ORDERS</p></td></tr><tr><td>Šablony objednávek</td><td>VIEW_RP_ORDER_TEMPLATES, EDIT_RP_ORDER_TEMPLATES</td></tr><tr><td>Objednané služby</td><td>VIEW_RP_SERVICE_ORDERS, EDIT_RP_SERVICE_ORDERS</td></tr><tr><td>Správa dat</td><td><p>VIEW_RP_CUSTOMERS, EDIT_RP_CUSTOMERS</p><p>VIEW_RP_CUSTOMER_SITES, EDIT_RP_CUSTOMER_SITES</p><p>VIEW_RP_CONTRACTS</p><p>VIEW_RP_DISPOSAL_SITES, EDIT_RP_DISPOSAL_SITES</p><p>VIEW_RP_CONTAINER_TYPES</p><p>VIEW_ORGANIZATIONAL_UNITS</p></td></tr><tr><td colspan="1">Denní výkony</td><td colspan="1">VIEW_RP_DAILY_ROUTES</td></tr><tr><td colspan="1">Plánování denních výkonů</td><td colspan="1">VIEW_RP_DAILY_ROUTES, EDIT_RP_DAILY_ROUTES</td></tr><tr><td colspan="1">Časové využití denních výkonů</td><td colspan="1">VIEW_RP_DAILY_ROUTES, VIEW_RP_ROUTES_CONFIRMATION</td></tr><tr><td colspan="1">Monitoring realizace</td><td colspan="1">VIEW_RP_DAILY_ROUTES, EDIT_RP_DAILY_ROUTES</td></tr><tr><td colspan="1">Kontrola realizace výkonů</td><td colspan="1">VIEW_RP_ROUTES_CONFIRMATION, EDIT_RP_ROUTES_CONFIRMATION, VIEW_RP_DAILY_ROUTES</td></tr></tbody></table><p>*Uživateli stačí mít alespoň jedno oprávnění z uvedeného seznamu.</p><h2>Oprávnění na entity</h2><p>Jedná se o oprávnění k zobrazení či modifikaci instancí jednotlivých entit aplikace Fleetware RoadPlan jako takových. Oprávnění pak mohou nabývat následujících stavů:</p><ul><li>Nepřiděleno,</li><li>Přiděleno.</li></ul><p>Pro jednotlivé uživatele je pak možné získat kolekci přidělených oprávnění (jejich kódů), slouží k tomu endpoint <strong>/users/{userId}/userRights</strong>.</p><table><tbody><tr><th>Název oprávnění</th><th>Související entita</th><th>Popis oprávnění</th><th colspan="1"><p>Zařazení ve FLWW2 stromu práv</p></th><th colspan="1">FleetwareWebAPI - kód práva</th></tr><tr><td>Zákazníci - zobrazení</td><td>Zákazník</td><td>Povoluje zobrazení zákazníků <strong>a míst realizací</strong>.</td><td colspan="1">RoadPlan/Entity</td><td colspan="1">VIEW_RP_CUSTOMERS</td></tr><tr><td>Zákazníci - zobrazení a modifikace</td><td>Zákazník</td><td>Povoluje zobrazit, vytvořit, upravit a smazat zákazníka <strong>a místo realizace</strong>.</td><td colspan="1">RoadPlan/Entity</td><td colspan="1">EDIT_RP_CUSTOMERS</td></tr><tr><td colspan="1">Rámcové smlouvy - zobrazení</td><td colspan="1">Rámcová smlouva</td><td colspan="1">Povoluje zobrazit rámcové smlouvy.</td><td colspan="1">RoadPlan/Entity</td><td colspan="1">VIEW_RP_CONTRACTS</td></tr><tr><td colspan="1">Likvidační místa - zobrazení</td><td colspan="1">Likvidační místo</td><td colspan="1">Povoluje zobrazit likvidační místa.</td><td colspan="1">RoadPlan/Entity</td><td colspan="1">VIEW_RP_DISPOSAL_SITES</td></tr><tr><td colspan="1">Likvidační místa - zobrazení a modifikace</td><td colspan="1">Likvidační místo</td><td colspan="1">Povoluje zobrazit, vytvořit, upravit a smazat likvidační místa.</td><td colspan="1">RoadPlan/Entity</td><td colspan="1">EDIT_RP_DISPOSAL_SITES</td></tr><tr><td colspan="1">Objednávky - zobrazení</td><td colspan="1">Objednávka</td><td colspan="1">Povoluje zobrazit objednávky.</td><td colspan="1">RoadPlan/Entity</td><td colspan="1">VIEW_RP_ORDERS</td></tr><tr><td colspan="1">Objednávky - zobrazení a modifikace</td><td colspan="1">Objednávka</td><td colspan="1">Povoluje zobrazit, vytvořit, upravit a smazat objednávky.</td><td colspan="1">RoadPlan/Entity</td><td colspan="1">EDIT_RP_ORDERS</td></tr><tr><td colspan="1">Šablony objednávek - zobrazení</td><td colspan="1">Šablony objednávky</td><td colspan="1">Povoluje zobrazit šablony objednávek.</td><td colspan="1">RoadPlan/Entity</td><td colspan="1">VIEW_RP_ORDER_TEMPLATES</td></tr><tr><td colspan="1">Šablony objednávek - zobrazení a modifikace</td><td colspan="1">Šablony objednávky</td><td colspan="1">Povoluje zobrazit, vytvořit, upravit a smazat šablony objednávek.</td><td colspan="1">RoadPlan/Entity</td><td colspan="1">EDIT_RP_ORDER_TEMPLATES</td></tr><tr><td colspan="1">Objednané služby - zobrazení</td><td colspan="1">Objednané služby</td><td colspan="1">Povoluje zobrazit objednané služby.</td><td colspan="1">RoadPlan/Entity</td><td colspan="1">VIEW_RP_SERVICE_ORDERS</td></tr><tr><td colspan="1">Objednané služby - zobrazení a modifikace</td><td colspan="1">Objednané služby</td><td colspan="1">Povoluje zobrazit, vytvořit, upravit a smazat objednané služby.</td><td colspan="1">RoadPlan/Entity</td><td colspan="1">EDIT_RP_SERVICE_ORDERS</td></tr><tr><td colspan="1">Typy nádob - zobrazení</td><td colspan="1">Typ nádoby</td><td colspan="1">Povoluje zobrazit typy nádob.</td><td colspan="1">RoadPlan/Entity</td><td colspan="1">VIEW_RP_CONTAINER_TYPES</td></tr><tr><td colspan="1">Denní výkony - zobrazení</td><td colspan="1">Denní výkon</td><td colspan="1">Povoluje zobrazit denní výkony.</td><td colspan="1">RoadPlan/Entity</td><td colspan="1">VIEW_RP_DAILY_ROUTES</td></tr><tr><td colspan="1">Denní výkony - zobrazení a modifikace</td><td colspan="1">Denní výkon</td><td colspan="1">Povoluje zobrazit, vytvořit, upravit a smazat denní výkony.</td><td colspan="1">RoadPlan/Entity</td><td colspan="1">EDIT_RP_DAILY_ROUTES</td></tr><tr><td colspan="1">Organizační složky - zobrazení</td><td colspan="1">Provozovny</td><td colspan="1">Povoluje zobrazit provozovny.<br></td><td colspan="1">Správa systému</td><td colspan="1">VIEW_ORGANIZATIONAL_UNITS</td></tr><tr><td colspan="1">Organizační složky - zobrazení a modifikace</td><td colspan="1">Provozovny</td><td colspan="1">Povoluje zobrazit a upravit provozovny.</td><td colspan="1">Správa systému</td><td colspan="1">EDIT_ORGANIZATIONAL_UNITS</td></tr><tr><td colspan="1">Realizace denního výkonu - zobrazení</td><td colspan="1">Realizace denního výkonu</td><td colspan="1">Povoluje zobrazit realizace denních výkonů.</td><td colspan="1">RoadPlan/Entity</td><td colspan="1">VIEW_RP_ROUTES_CONFIRMATION</td></tr><tr><td colspan="1">Realizace denního výkonu - zobrazení a modifikace</td><td colspan="1">Realizace denního výkonu</td><td colspan="1">Povoluje zobrazit a upravit realizace denních výkonů.</td><td colspan="1">RoadPlan/Entity</td><td colspan="1">EDIT_RP_ROUTES_CONFIRMATION</td></tr></tbody></table><h2>Oprávnění na instance entit</h2><p>Jedná se o oprávnění k zobrazení či modifikaci konkrétních instancí vybraných entit aplikace Fleetware RoadPlan. Oprávnění pak mohou nabývat následujících stavů:</p><ul><li>Nepřiděleno,</li><li>Přiděleno ke čtení,</li><li>Přiděleno ke čtení i zápisu.</li></ul><table><tbody><tr><th>Název oprávnění</th><th>Související entita</th><th>Popis oprávnění</th><th colspan="1">Poznámky</th><th colspan="1">FleetwareWebAPI</th></tr><tr><td>Provozovny - globální právo</td><td><a href="datove-modely/datovy-78681044.html">Provozovna</a></td><td>Právo na všechny Provozovny.</td><td colspan="1">Ve Fleetware odpovídá entitě "Organizační složka".</td><td colspan="1"> </td></tr><tr><td colspan="1"><Název provozovny></td><td colspan="1"><a href="datove-modely/datovy-78681044.html">Provozovna</a> (instance)</td><td colspan="1">Právo na danou Provozovnu.</td><td colspan="1"> </td><td colspan="1"><p>v přípravě - viz <a href="https://jira.radium.cz/browse/FLWW2-4971">https://jira.radium.cz/browse/FLWW2-4971</a></p><p>/roles/<roleId>/organizationalUnitsRights</p><p>/users/<userId>/organizationalUnitsRights</p></td></tr><tr><td>Objekty - globální právo</td><td><a href="datove-modely/datovy-78681044.html">Objekt</a></td><td>Právo na všechny Objekty a Skupiny objektů.</td><td colspan="1">Jedná se o sledované objekty Fleetware, tj. zejména vozidla.</td><td colspan="1"> </td></tr><tr><td colspan="1"><Název objektu (RZ)></td><td colspan="1"><a href="datove-modely/datovy-78681044.html">Objekt</a> (instance)</td><td colspan="1">Právo na daný Objekt.</td><td colspan="1"> </td><td colspan="1"><p>/roles/<roleId>/objectRights</p><p>/users/<userId>/objectRights</p></td></tr><tr><td colspan="1">Zaměstnanci - globální právo</td><td colspan="1"><a href="datove-modely/datovy-78681044.html">Zaměstnanec</a></td><td colspan="1">Právo na všechny zaměstnance.</td><td colspan="1"> </td><td colspan="1"> </td></tr><tr><td colspan="1"><Příjmení, jméno (os. číslo)></td><td colspan="1"><a href="datove-modely/datovy-78681044.html">Zaměstnanec</a> (instance)</td><td colspan="1">Právo na daného Zaměstnance.</td><td colspan="1"> </td><td colspan="1"><p>/roles/<roleId>/employees</p><p>/users/<userId>/employees</p></td></tr></tbody></table><h2>Oprávnění na případy užití</h2><p>Jedná se o oprávnění ke spuštění konkrétních případu užití aplikace Fleetware RoadPlan. Oprávnění pak mohou nabývat následujících stavů:</p><ul><li>Nepřiděleno,</li><li>Přiděleno.</li></ul><p>Pro jednotlivé uživatele je pak možné získat kolekci přidělených oprávnění (jejich kódů), slouží k tomu endpoint <strong>/users/{userId}/userRights</strong>.</p><p>Poznámka: Obecně jsou zde obsažena oprávnění na UC, které nějakým způsobem spouští uživatel. Důvodem je množství oprávnění, které by jinak mohlo rapidně nabývat, kdyby byla oprávnění doplněna i pro UC volané výhradně systémem.</p><table><tbody><tr><th>Název oprávnění</div></div></th><th>Popis</div></div></th><th>Zařazení v rámci FLWW2</div></div></th><th>FleetwareWebAPI kód</div></div></th><th colspan="1">Možné stavy</div></div></th></tr><tr><td colspan="1">Správa dispečerské plachty</td><td colspan="1">Povoluje správu aktivit na dispečerské plachtě.</td><td colspan="1">RoadPlan/Případy užití</td><td colspan="1"><p>MANAGE_RP_DISPATCHER_BOARD</p></td><td colspan="1"><ul><li>Nepřiděleno právo</li><li>Přiděleno plné právo</li></ul></td></tr></tbody></table><h1>Správa uživatelských práv</h1><p>Přiřazení práv uživatelům bude probíhat v systému FleetwareWeb2 (Správa systému - Správa uživatelů / rolí).</p><p>Systém RoadPlan získává sadu oprávnění pro přihlášeného uživatele z FleetwareWebAPI.</p><h1>Uživateli dostupné instance entit</h1><p>Dostupnost instancí některých entit se odvíjí od <a href="datove-modely/datovy-78681044.html">Provozovny</a>, ke které jsou přiřazeny. Při vyhodnocení pak pracujeme se stromovou strukturou, ve které jsou <a href="datove-modely/datovy-78681044.html">Provozovny</a> evidovány. Záznam je pak uživateli dostupný, pokud…</p><ul><li>odkazuje na některou z <a href="datove-modely/datovy-78681044.html">Provozoven</a>, která je přímo nadřízena <a href="datove-modely/datovy-78681044.html">Provozovně</a>, na kterou má uživatel oprávnění (vyhodnoceno dle atributu <strong>Nadřízená provozovna</strong>).</li><li>odkazuje přímo na <a href="datove-modely/datovy-78681044.html">Provozovnu</a>, na kterou má tento uživatel oprávnění (přímé oprávnění na záznam).</li><li>odkazuje na některou z <a href="datove-modely/datovy-78681044.html">Provozoven</a>, která je podřízena <a href="datove-modely/datovy-78681044.html">Provozovně</a>, na kterou má uživatel oprávnění (vyhodnoceno dle atributu <strong>Nadřízená provozovna</strong>).</li><li>neodkazuje na žádnou <a href="datove-modely/datovy-78681044.html">Provozovnu</a> (záznamy, u kterých není k dispozici <a href="datove-modely/datovy-78681044.html">Provozovna</a>, jsou dostupné všem uživatelům).</li></ul><p>Tato logika je použita u dále uvedených entit, u každé z nich je uveden také název atributu, dle kterého je dostupnost vyhodnocována.</p><ul><li>entita <a href="datove-modely/datovy-78681044.html">Rámcová smlouva</a> (atribut <strong>Provozovna</strong>),</li><li>entita <a href="datove-modely/datovy-78681044.html">Místo realizace</a> (atribut <strong>Provozovna</strong>),</li><li>entita <a href="datove-modely/datovy-78681044.html">Likvidační místo</a> (atribut <strong>Provozovna</strong>),</li><li>entita <a href="datove-modely/datovy-78681044.html">Druh odpadu likvidačního místa</a> (atribut <strong>Provozovna</strong>),</li><li>entita <a href="datove-modely/datovy-78681044.html">Typ nádoby</a> (atribut <strong>Provozovna</strong>). <em>Pouze pro aktuální verzi aplikace (pro WinyX).</em></li></ul><p>Uvedené chování si pak ukážeme na příkladu… Máme strukturu <a href="datove-modely/datovy-78681044.html">Provozoven</a> (viz obrázek) a uživatele, který má oprávnění na <strong>provozovnu D</strong> (naznačeno zeleně). Takový uživatel má k dispozici následující záznamy: A, B, D, G, H, X.</p><ul><li><strong>Záznamy A, B</strong>: záznamy přímo nadřízených <a href="datove-modely/datovy-78681044.html">Provozoven</a>.</li><li><strong>Záznam D</strong>: záznamy <a href="datove-modely/datovy-78681044.html">Provozovny</a>, pod kterou spadá uživatel.</li><li><strong>Záznamy G, H</strong>: záznamy podřízených <a href="datove-modely/datovy-78681044.html">Provozoven</a>.</li><li><strong>Záznam X</strong>: záznamy bez vazby na <a href="datove-modely/datovy-78681044.html">Provozovnu</a>.</li></ul><p>Obdobná logika platí i v případě, kdy má uživatel oprávnění na více <a href="datove-modely/datovy-78681044.html">Provozoven</a> (každý záznam je pak k dispozici pouze jednou, nedochází k násobení dle množství těchto <a href="datove-modely/datovy-78681044.html">Provozoven</a>).</p><p><img src="uzivatelska-opravneni-a-role-78681297_images/image2023-9-12 9-44-33.png" data-attachment="true"></p><p>Poznámka: Uživateli dostupné <a href="datove-modely/datovy-78681044.html">Provozovny</a> jsou vyhodnocovány na straně FLWW2, potřebné informace jsou tedy získány v rámci komunikace s tímto systémem.</p><h1>Revize</h1><h3>5. 9. 2023: Tomáš nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="uzivatelska-78681297.html">Uživateli dostupné instance entit</a></td><td colspan="1">Zobecněno chování pro vyhodnocení uživateli dostupných entit dle provozovny (naznačeno modře).</td></tr></tbody></table><h3>10. 6. 2022: Tomáš nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="uzivatelska-78681297.html">Likvidační místa</a></td><td colspan="1">Revize chování z důvodu zrušení povinnosti provozovny na úrovni likvidačního místa (naznačeno modře).</td></tr></tbody></table><h3>8. 9. 2020: Tomáš nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="uzivatelska-78681297.html">Likvidační místa</a></td><td colspan="1">Doplněn obecný popis toho, jaká likvidační místa jsou k dispozici dle příslušnosti uživatele k provozovně (naznačeno modře).</td></tr></tbody></table><h3>14. 6. 2019: Tomáš nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="uzivatelska-78681297.html">Oprávnění na moduly a UC</a></td><td colspan="1">Aktualizován seznám páv potřebný pro modul Časové využití denních výkonů.</td></tr></tbody></table><h3>24. 4. 2019: Miroslav Slivoně</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="uzivatelska-78681297.html">Oprávnění na typ entity</a></td><td colspan="1">Přidána práva na realizace denních výkonů.</td></tr><tr><td colspan="1"><a href="uzivatelska-78681297.html">Oprávnění na moduly a UC</a></td><td colspan="1">Přidána potřebná práva pro Monitoring realizace a Kontrolu realizace denních výkonů.</td></tr></tbody></table><h3>5. 4. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="uzivatelska-78681297.html">Oprávnění na typ entity</a></td><td colspan="1">Přidáno právo na editaci provozovny.</td></tr></tbody></table><h3>5. 3. 2019: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="uzivatelska-78681297.html">Oprávnění na moduly a UC</a></td><td colspan="1">Přidáno právo na submodul Časové využití denních výkonů.</td></tr></tbody></table><h3>12. 11. 2018: Tomáš Nadrchal</h3><table><tbody><tr><th>Odkaz</div></th><th>Stručný popis změny/doplnění</div></th></tr><tr><td colspan="1"><a href="uzivatelska-78681297.html">Oprávnění na typ entity</a></td><td colspan="1"><p>Odebráno právo Typy nádob - zobrazení a modifikace. Modifikace bude probíhat v rámci systému WinyX.</p></td></tr><tr><td colspan="1"><a href="uzivatelska-78681297.html">Oprávnění na typ entity</a></td><td colspan="1"><p>Odstraněna oprávnění VIEW_RP_CUSTOMER_SITES a EDIT_RP_CUSTOMER_SITES.</p><p>Kontrola práv bude navázána na VIEW_RP_CUSTOMERS a EDIT_RP_CUSTOMERS.</p></td></tr></tbody></table>
</div>
</body>
</html>
