<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>Synchronizácia základných entít z FLWW</title>
</head>
<body>
<div class="wiki-content">
<h1></h1><h1>Zoznam synchronizovanych entit</h1><p>Systém potrebuje mať niektoré dáta z FLWW priamo vo vlastnej databáze. Jedná sa o tieto entity:</p><ul><li><p>employee</p></li><li><p>user</p></li><li><p>organizationUnit</p></li><li><p>objects</p></li></ul><h1>Komponenty na ktorych prebieha synchronizacia FLWW entit</h1><ul><li><p>mpg-flww-sync-service</p></li><li><p>recovera-flww-sync-service</p></li></ul><p>Dovod je ten ze pre rozne nasadenia systemu pre urciteho zakaznika sa mozu riesit rozne specifika pre jednotlive FLWW entity. Specifika su uvedene v ramci detailnej analyzy</p><h1>Proces synchronizacie</h1><p>Tieto dáta sa synchronizujú dvomi spôsobmi:</p><h1>Manuálne</h1><p>Zavolanie requestu na API ktoré zabezpečí synchronizáciu dát</p><table><tbody><tr><th><p>Metóda</p></th><th><p>Autentifikácia</p></th><th><p>Endpoint</p></th><th><p>Query params</p></th><th><p>Response</p></th></tr><tr><td><p>GET</p></td><td><p>basic auth</p></td><td><p>{{url-BE}}/api/syncFlwwEntities</p></td><td><p><em>name</em> - nepoviný parameter.</p><p>Hodnoty: </p><ul><li><p>organizationUnit</p></li><li><p>employee</p></li><li><p>user</p></li><li><p>object</p></li></ul><p>:warning: Ak synchronizujeme entitu "user", je nutné prvé synchronizovať enitity "employee"</p><p> </p><p>Ak sa hodnota nepošle, spraví sa synchronizácia všetkých entít</p></td><td><p>názov synchronizovanej entity</p></td></tr></tbody></table><p><strong>Ak sa volá API s parametrom "name", je nutne spravit nasledovne tri volania API v tomto poradi</strong></p><ol><li><p>{{url-BE}}/api/syncFlwwEntities?name=organizationUnit </p></li><li><p>{{url-BE}}/api/syncFlwwEntities?name=employee</p></li><li><p> {{url-BE}}/api/syncFlwwEntities?name=user</p></li><li><p> {{url-BE}}/api/syncFlwwEntities?name=object</p></li></ol><p>Manuálnu synchronizáciu je možné pustiť kedykoľvek počas behu systému. Napr. pre prípady ak je podozrenie že zlyhala automatizovaná synchronizácia cez FLWW Rabbit</p><p><br></p><p>Automatizovane</p><p>Automatizovaná synchronizácia FLWW entít prebieha dvomi spôsobmi:</p><h2>Pomocou FLWW Rabbit</h2><p>Komponent je napojený na FLWW Rabbit z ktorého sa synchronizujú vyššie uvedené entity v reálnom čase</p><p>Synchronizácia do systému prebehne len vtedy, ak nastane "create"/"update"/"delete" na nejakej z vyššie uvedených entít.</p><p> </p><h2>Job spúšťaný v pravidelných intervaloch</h2><p>Backend v pravidelnom intervale spúšťa job na synchronizáciu vyššie uvedených FLWW entít.</p><ul><li><p>Názov jobu:  <strong>FLWW_ENTITY_SYNCHRONIZATION</strong></p></li><li><p>Čas spustenie jobu: <strong>22:00 (UTC) </strong>každý deň</p></li></ul><p> </p><p> </p><p> </p><p> </p><p> </p>
</div>
</body>
</html>
